import{b as S}from"./util-CdhLeOup.js";import{_ as B,f as i,h as G,w as L,i as g,A as N,o as c,c as u,a as o,t as b,b as x,d as k,F as E,r as R,k as j,B as A,N as F,W as O,p as M,e as P}from"./index-DFEmcfO1.js";const U=s=>(M("data-v-e6024896"),s=s(),P(),s),W={class:"riskInfo-container"},q=U(()=>o("div",{class:"riskInfo-title"}," 近岸冲刷速率 ",-1)),z={class:"riskInfo-item profileErosion"},H={class:"item-title"},J={class:"profile-selector-container"},K={class:"profile-name-text"},Q={class:"graph-container erosion"},T={key:0,class:"empty-graph1"},X={__name:"profileErosion",props:{profileData:{type:Object},profileList:{type:Object},erosionChartLoad:{type:Boolean}},emits:["profileValueChange"],setup(s,{emit:y}){const p=i(!1),d=i(null);let _=null,w,h,I;const C=y,r=i(1),v=i(""),l=s,f=()=>{C("profileValueChange",r.value),p.value=!1;const t=l.profileData[r.value-1],n=l.profileList[r.value-1];v.value=n.name;try{w=t.section.map(e=>e[2]<-999?null:e[2]),h=t.beforeSection.map(e=>e[2]<-999?null:e[2]),I=t.SA[2]}catch{m([]),p.value=!0;return}m(h)},m=(t,n,e)=>{_=O(d.value),S(_,t)};return G(()=>{f()}),L(()=>l.profileData,()=>{f()}),(t,n)=>{const e=g("el-option"),D=g("el-select"),V=N("loading");return c(),u("div",W,[q,o("div",z,[o("div",H,b(v.value),1),o("div",J,[x(D,{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=a=>r.value=a),placeholder:"选择断面",style:{width:"10vw",height:"3.5vh"},onChange:f,"popper-class":"profile-popper"},{default:k(()=>[(c(!0),u(E,null,R(l.profileList,a=>(c(),j(e,{key:a.value,label:a.label,value:a.value},{default:k(()=>[o("span",K,b(a.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),o("div",{ref_key:"erosionGraphRef",ref:d,class:"erosion graph","element-loading-background":"rgba(214, 235, 255,0.8)"},null,512),o("div",Q,[A(o("div",{ref_key:"erosionGraphRef",ref:d,class:"erosion graph","element-loading-background":"rgba(255, 255, 255, 0.4)"},null,512),[[V,l.erosionChartLoad]]),p.value?(c(),u("div",T," 当前暂无地形数据 ")):F("",!0)])])])}}},$=B(X,[["__scopeId","data-v-e6024896"]]);export{$ as default};
