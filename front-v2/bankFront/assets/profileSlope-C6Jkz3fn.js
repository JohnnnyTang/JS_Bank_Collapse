import{f as N}from"./util-CRZRFQLc.js";import{_ as G,g as n,i as L,w as B,j as f,z as R,o as i,c as u,a as o,b as y,d as _,C as j,t as C,F as A,r as F,e as O,A as z,N as E,W as M}from"./index-Dqsk7kSB.js";const P={class:"riskInfo-container"},T={class:"riskInfo-title"},U={class:"riskInfo-item profileSlope"},W={class:"item-title"},q={class:"profile-selector-container"},H={class:"profile-name-text"},J={class:"graph-container slope"},K={key:0,class:"empty-graph"},Q={__name:"profileSlope",props:{profileData:{type:Object},profileList:{type:Object},slopeChartLoad:{type:Boolean}},emits:["profileValueChange"],setup(V,{emit:w}){const p=n(!1),c=n(null);let h=null,v,m,g;const D=w,s=n(2),b=n(""),r=V,d=()=>{D("profileValueChange",s.value),p.value=!1;const t=r.profileData[s.value-1],a=r.profileList[s.value-1];b.value=a.name;try{v=t.section.map(e=>e[2]<-999?null:e[2]),m=t.beforeSection.map(e=>e[2]<-999?null:e[2]),g=t.SA[2]}catch{k([],[],[]),p.value=!0;return}k(m,v,g)},k=(t,a,e)=>{h=M(c.value),N(h,t,a,e)};return L(()=>{d()}),B(()=>r.profileData,()=>{d()}),(t,a)=>{const e=f("dv-border-box2"),S=f("el-option"),x=f("el-select"),I=R("loading");return i(),u("div",P,[o("div",T,[y(e,{color:["rgb(63, 36, 214)","#0c60af"]},{default:_(()=>[j(" 岸坡最大坡比 ")]),_:1})]),o("div",U,[o("div",W,C(b.value),1),o("div",q,[y(x,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l),placeholder:"选择断面",style:{width:"10vw",height:"3.5vh"},onChange:d,"popper-class":"profile-popper"},{default:_(()=>[(i(!0),u(A,null,F(r.profileList,l=>(i(),O(S,{key:l.value,label:l.label,value:l.value},{default:_(()=>[o("span",H,C(l.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),o("div",{ref_key:"slopeGraphRef",ref:c,class:"slope graph","element-loading-background":"rgba(214, 235, 255,0.8)"},null,512),o("div",J,[z(o("div",{ref_key:"slopeGraphRef",ref:c,class:"slope graph","element-loading-background":"rgba(255, 255, 255, 0.4)"},null,512),[[I,r.slopeChartLoad]]),p.value?(i(),u("div",K," 当前暂无地形数据 ")):E("",!0)])])])}}},Z=G(Q,[["__scopeId","data-v-57211804"]]);export{Z as default};
