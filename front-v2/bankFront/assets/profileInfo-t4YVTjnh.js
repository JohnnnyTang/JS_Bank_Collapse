import{a as A,b as F}from"./util-CdhLeOup.js";import{_ as M,f as n,h as P,w as T,i as b,A as U,o as i,c as d,a as o,b as D,d as k,D as V,F as x,r as X,k as q,t as z,B,O as L,X as R,p as H,e as J}from"./index-Bdok3Q-i.js";const N=l=>(H("data-v-6de9063a"),l=l(),J(),l),K={class:"riskInfo-container"},Q={class:"riskInfo-title"},W={class:"riskInfo-item profileShape"},Y=N(()=>o("div",{class:"item-title"},"断面形态对比：",-1)),Z={class:"profile-selector-container"},$={class:"profile-name-text"},ee={class:"graph-container shape"},oe={key:0,class:"empty-graph1"},ae={class:"riskInfo-item profileErosion"},te=N(()=>o("div",{class:"item-title"},"近岸冲淤：",-1)),se={class:"graph-container erosion"},le={key:0,class:"empty-graph2"},re={__name:"profileInfo",props:{profileData:{type:Object},profileList:{type:Object},shapeChartLoad:{type:Boolean},erosionChartLoad:{type:Boolean}},emits:["profileValueChange"],setup(l,{emit:E}){const h=n(!1),u=n(!1),f=n(null),_=n(null);let y=null,w=null,v,p,C,S;const O=E,c=n(2),r=l,m=()=>{O("profileValueChange",c.value),h.value=!1,u.value=!1;const a=r.profileData[c.value-1];try{v=a.section.map(e=>e[2]<-999?null:e[2]),p=a.beforeSection.map(e=>e[2]<-999?null:e[2]),C=a.SA[2],S=v.map((e,t)=>e!==null&&p[t]!==null?e-p[t]:null)}catch{G([],[],[],[]),h.value=!0,u.value=!0;return}G(v,p,C,S)},G=(a,e,t,g)=>{y=R(f.value),A(y,a,e,t),w=R(_.value),F(w,g)};return P(()=>{m()}),T(()=>r.profileData,()=>{m()}),(a,e)=>{const t=b("dv-border-box2"),g=b("el-option"),j=b("el-select"),I=U("loading");return i(),d(x,null,[o("div",K,[o("div",Q,[D(t,{color:["rgb(63, 36, 214)","#0c60af"]},{default:k(()=>[V(" 断面信息展示 ")]),_:1})]),o("div",W,[Y,o("div",Z,[D(j,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),placeholder:"选择断面",style:{width:"10vw",height:"3.5vh"},onChange:m,"popper-class":"profile-popper"},{default:k(()=>[(i(!0),d(x,null,X(r.profileList,s=>(i(),q(g,{key:s.value,label:s.label,value:s.value},{default:k(()=>[o("span",$,z(s.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),o("div",{ref_key:"shapeGraphRef",ref:f,class:"shape graph","element-loading-background":"rgba(214, 235, 255,0.8)"},null,512),o("div",ee,[B(o("div",{ref_key:"shapeGraphRef",ref:f,class:"shape graph","element-loading-background":"rgba(255, 255, 255, 0.4)"},null,512),[[I,r.shapeChartLoad]]),h.value?(i(),d("div",oe," 当前暂无地形数据 ")):L("",!0)])]),o("div",ae,[te,o("div",{ref_key:"erosionGraphRef",ref:_,class:"erosion graph","element-loading-background":"rgba(214, 235, 255,0.8)"},null,512),o("div",se,[B(o("div",{ref_key:"erosionGraphRef",ref:_,class:"erosion graph","element-loading-background":"rgba(255, 255, 255, 0.4)"},null,512),[[I,r.erosionChartLoad]]),u.value?(i(),d("div",le," 当前暂无地形数据 ")):L("",!0)])])]),V("] ")],64)}}},pe=M(re,[["__scopeId","data-v-6de9063a"]]);export{pe as default};
