import{_ as p,g as s,i as c,a0 as m,a1 as d,o as u,c as y,a as o,p as f,f as v}from"./index-SWrCUa1v.js";/* empty css                  */import"./dat.gui.module-mKA_0LW_.js";const _=t=>(f("data-v-4fe9641d"),t=t(),v(),t),w={class:"main"},g=_(()=>o("canvas",{id:"GPUFrame",class:"GPU"},null,-1)),x={__name:"test",setup(t){const r=s(),l=s(),i="http://127.0.0.1:8002/api/v1",n=e=>{e&&e.fitBounds([[120.46987922676836,32.03201616423072],[120.61089640208264,32.05217136261862]],{duration:500,zoom:8})};return c(async()=>{const e=await m(r.value);n(e),!e.getSource("pumpArea")&&e.addSource("pumpArea",{type:"vector",tiles:[i+"/tile/vector/center/pumpArea/{x}/{y}/{z}"]}),!e.getSource("pumpArea")&&e.addSource("pumpArea",{type:"vector",tiles:[i+"/tile/vector/center/pumpArea/{x}/{y}/{z}"]}),await d(e,"/legend/泵站.png","泵站"),!e.getLayer("大中型泵站")&&e.addLayer({id:"大中型泵站",type:"symbol",source:"pumpArea",filter:["==","if_important","1"],"source-layer":"default",minzoom:8,maxzoom:22,layout:{"icon-image":"泵站","icon-size":1.1,"icon-allow-overlap":!0},paint:{}}),!e.getLayer("大中型泵站-注记")&&e.addLayer({id:"大中型泵站-注记",type:"symbol",source:"pumpArea",filter:["==","if_important","1"],"source-layer":"default",minzoom:8,layout:{"text-field":["get","sp_name"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-variable-anchor":["top","top-left","top-right","bottom-left","bottom-right","left","right"],"text-offset":[0,-1],"text-allow-overlap":!1,"text-size":16},paint:{"text-color":"rgba(0,54,134,0.8)"}}),window.addEventListener("keydown",a=>{a.key=="q"?(console.log("qqqqqqq"),e.setLayoutProperty("FlowLayer","visibility","none")):a.key=="w"&&(console.log("wwwwwww"),e.setLayoutProperty("FlowLayer","visibility","visible"))})}),(e,a)=>(u(),y("div",w,[o("div",{class:"map",ref_key:"mapDom",ref:r,id:"map"},null,512),g,o("canvas",{id:"UnityCanvas",class:"GPU",ref_key:"unityCanvaDom",ref:l},null,512)]))}},A=p(x,[["__scopeId","data-v-4fe9641d"]]);export{A as default};
