import{c as N}from"./util-CRZRFQLc.js";import{_ as B,g as l,i as G,w as S,j as u,y as j,o,c as t,a as e,b as k,d as f,B as v,t as p,F as R,r as F,e as O,z,N as E,a1 as M}from"./index-CKZiR0Qw.js";const P={class:"riskInfo-container"},T={class:"riskInfo-title"},U={class:"riskInfo-item profileShape"},q={class:"item-title"},A={class:"profile-selector-container"},H={class:"profile-name-text"},J={class:"graph-container shape"},K={key:0,class:"empty-graph"},Q={class:"text-info-container"},W={class:"text-info-item"},X={style:{color:"red"}},Z={key:0,style:{color:"red"}},$={key:1,style:{color:"red"}},ee={key:2,style:{color:"red"}},ae={key:3,style:{color:"red"}},oe={__name:"profileShapeYearly",props:{profileData:{type:Object},profileList:{type:Object},shapeYearlyChartLoad:{type:Boolean}},emits:["profileValueChange"],setup(x,{emit:V}){const d=l(!1),_=l(null);let y=null,m;const Y=l([38.27,32.72,33.56,30.84,34.94,32.88,33.65,31.45,28.53,27.61,27.01,25.73]),w=l(["1/4.1","1/3.9","1/4.0","1/6.3","1/3.9","1/3.3","1/3.1","1/3.1","1/6.5","1/7.9","1/11.3","1/11.0"]),C=V,a=l(3),g=l(""),r=x,h=()=>{C("profileValueChange",a.value),d.value=!1;const c=r.profileData[a.value-1],i=r.profileList[a.value-1];g.value=i.name;try{m=c.section.map(n=>n[2]<-999?null:n[2])}catch{b([]),d.value=!0;return}b(m)},b=c=>{y=M(_.value),N(y,c)};return G(()=>{h()}),S(()=>r.profileData,()=>{h()}),(c,i)=>{const n=u("dv-border-box2"),D=u("el-option"),L=u("el-select"),I=j("loading");return o(),t("div",P,[e("div",T,[k(n,{color:["rgb(63, 36, 214)","#0c60af"]},{default:f(()=>[v(" 当前断面形态 ")]),_:1},8,["color"])]),e("div",U,[e("div",q,p(g.value),1),e("div",A,[k(L,{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=s=>a.value=s),placeholder:"选择断面",style:{width:"10vw",height:"3.5vh"},onChange:h,"popper-class":"profile-popper"},{default:f(()=>[(o(!0),t(R,null,F(r.profileList,s=>(o(),O(D,{key:s.value,label:s.label,value:s.value},{default:f(()=>[e("span",H,p(s.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",{ref_key:"shapeYearlyGraphRef",ref:_,class:"shape graph","element-loading-background":"rgba(214, 235, 255,0.8)"},null,512),e("div",J,[z(e("div",{ref_key:"shapeYearlyGraphRef",ref:_,class:"shape graph","element-loading-background":"rgba(255, 255, 255, 0.4)"},null,512),[[I,r.shapeYearlyChartLoad]]),d.value?(o(),t("div",K," 当前暂无地形数据 ")):E("",!0)])]),e("div",Q,[e("div",W,[v(" 该断面滩槽高差为 "),e("span",X,p(Y.value[a.value-1]),1),v(" m， 最大岸坡坡比为 "),a.value-1===5?(o(),t("span",Z,"1 / 1.7")):a.value-1===6?(o(),t("span",$,"1 / 1.8")):a.value-1===7?(o(),t("span",ee,"1 / 2.2")):(o(),t("span",ae,p(w.value[a.value-1]),1))])])])}}},le=B(oe,[["__scopeId","data-v-8f1c5e5b"]]);export{le as default};
