import{_ as ue,a7 as se,j as b,o as x,c as k,a as t,b as o,d as l,B as S,aa as E,p as ce,f as he,ab as yt,g as _,h as de,u as ke,t as F,N as H,ac as _t,ad as ne,ae as bt,af as Ae,ag as q,ah as xt,ai as ze,aj as je,ak as wt,al as ae,am as Pt,an as Ie,ao as L,ap as Y,aq as j,ar as O,as as St,at as Bt,au as kt,av as Ne,aw as Re,s as De,ax as It,ay as Ee,i as Rt,a1 as Dt,az as Ct,z as le,A as re,F as te,r as ie,e as N,aA as He}from"./index-CKZiR0Qw.js";/* empty css                  */import{M as Mt}from"./mapbox-gl-draw-WA46_0ma.js";import{M as Vt}from"./ModelTitle-xP7rtXdB.js";const Tt=d=>(ce("data-v-368baa2c"),d=d(),he(),d),Lt={class:"conditions"},$t=Tt(()=>t("div",{class:"head"},[t("div",{class:"head-text"},"水文条件选择")],-1)),Ft={class:"form"},Ut={class:"button-container"},At={__name:"HydrologicalCondition",emits:["close","condition"],setup(d,{emit:s}){const n=se({condition:""}),a=s,v=()=>{if(n.condition===""){E({type:"warning",offset:100,message:"请选择水文条件后再确定！"});return}else{a("condition",n.condition),a("close");return}};return(f,r)=>{const c=b("el-option"),p=b("el-select"),y=b("el-form-item"),h=b("el-button"),g=b("el-form");return x(),k("div",Lt,[$t,t("div",Ft,[o(g,{model:n,"label-width":"auto",style:{"max-width":"600px"}},{default:l(()=>[o(y,{label:"水文条件"},{default:l(()=>[o(p,{modelValue:n.condition,"onUpdate:modelValue":r[0]||(r[0]=V=>n.condition=V),placeholder:"请选择水文条件"},{default:l(()=>[o(c,{label:"洪季大潮",value:"洪季大潮"}),o(c,{label:"枯季小潮",value:"枯季小潮"}),o(c,{label:"20年一遇",value:"20年一遇"})]),_:1},8,["modelValue"])]),_:1}),o(y,null,{default:l(()=>[t("div",Ut,[o(h,{type:"primary",onClick:v},{default:l(()=>[S("确定")]),_:1}),o(h,{onClick:r[1]||(r[1]=V=>{a("close")})},{default:l(()=>[S("取消")]),_:1})])]),_:1})]),_:1},8,["model"])])])}}},zt=ue(At,[["__scopeId","data-v-368baa2c"]]),jt=d=>(ce("data-v-22c7ec9b"),d=d(),he(),d),Nt={class:"stParams"},Et=jt(()=>t("div",{class:"head"},[t("div",{class:"head-text"},"模型参数设置")],-1)),Ht={class:"form"},Wt={class:"button-container"},Xt={__name:"SetParameter",emits:["close","params"],setup(d,{emit:s}){const n=s,a=se({simulateHour:"72",simulateStep:"10",frictionParam:"0.013",minWaterDepth:"0.05",SmagorinskyParam:"0.23"}),v=()=>{n("params",a),n("close")};return(f,r)=>{const c=b("el-input"),p=b("el-form-item"),y=b("el-button"),h=b("el-form");return x(),k("div",Nt,[Et,t("div",Ht,[o(h,{model:a,"label-width":"auto",style:{"max-width":"600px"}},{default:l(()=>[o(p,{label:"模拟时间(小时)"},{default:l(()=>[o(c,{modelValue:a.simulateHour,"onUpdate:modelValue":r[0]||(r[0]=g=>a.simulateHour=g)},null,8,["modelValue"])]),_:1}),o(p,{label:"模拟步长(分钟)"},{default:l(()=>[o(c,{modelValue:a.simulateStep,"onUpdate:modelValue":r[1]||(r[1]=g=>a.simulateStep=g)},null,8,["modelValue"])]),_:1}),o(p,{label:"底摩擦系数(曼宁系数)"},{default:l(()=>[o(c,{modelValue:a.frictionParam,"onUpdate:modelValue":r[2]||(r[2]=g=>a.frictionParam=g)},null,8,["modelValue"])]),_:1}),o(p,{label:"最小水深(m)"},{default:l(()=>[o(c,{modelValue:a.minWaterDepth,"onUpdate:modelValue":r[3]||(r[3]=g=>a.minWaterDepth=g)},null,8,["modelValue"])]),_:1}),o(p,{label:"水平涡动粘性系数"},{default:l(()=>[o(c,{modelValue:a.SmagorinskyParam,"onUpdate:modelValue":r[4]||(r[4]=g=>a.SmagorinskyParam=g)},null,8,["modelValue"])]),_:1}),o(p,null,{default:l(()=>[t("div",Wt,[o(y,{type:"primary",onClick:v},{default:l(()=>[S("确定")]),_:1}),o(y,{onClick:r[5]||(r[5]=g=>n("close"))},{default:l(()=>[S("取消")]),_:1})])]),_:1})]),_:1},8,["model"])])])}}},qt=ue(Xt,[["__scopeId","data-v-22c7ec9b"]]),Ye=yt("stability",()=>{const d=_("undefined"),s=_(0),n=_(0);return{modelStatus:d,modelProgress:s,modelStartTime:n}},{persist:{storage:sessionStorage,paths:["stability"]}}),Ce=d=>(ce("data-v-f7b991d7"),d=d(),he(),d),Yt={class:"stParams"},Ot=Ce(()=>t("div",{class:"head"},[t("div",{class:"head-text"},"模型运行状况")],-1)),Gt={class:"status-container"},Jt={key:0},Zt={class:"slider-demo-block"},Kt={class:"demonstration",style:{"padding-bottom":"10px"}},Qt={style:{"padding-top":"10px"}},ei={key:1,style:{width:"100%",display:"flex","justify-content":"center"}},ti=Ce(()=>t("div",null,"模型尚未运行",-1)),ii=[ti],si={key:2},oi=Ce(()=>t("div",null,"模型运行完成",-1)),ni=[oi],ai={class:"button-container"},li={__name:"ModelStatus",emits:["close"],setup(d,{emit:s}){const n=Ye(),a=de(()=>Number(n.modelProgress.toFixed(3))),v=de(()=>{const c=(Date.now()-n.modelStartTime)/1e3/n.modelProgress*(100-n.modelProgress),p=Math.floor(c/3600),y=Math.floor(c%3600/60),h=Math.floor(c%60);return y?`预计${p}小时${y}分${h}秒完成`:"预计时间正在计算中"}),f=s,r=()=>{f("close")};return(c,p)=>{const y=b("el-slider"),h=b("el-button");return x(),k("div",Yt,[Ot,t("div",Gt,[ke(n).modelStatus==="pending"?(x(),k("div",Jt,[t("div",Zt,[t("div",Kt,F(`当前进度: ${a.value}%`),1),o(y,{modelValue:a.value,"onUpdate:modelValue":p[0]||(p[0]=g=>a.value=g),"show-tooltip":!1},null,8,["modelValue"])]),t("div",Qt,F(v.value),1)])):ke(n).modelStatus==="undefined"?(x(),k("div",ei,ii)):ke(n).modelStatus==="success"?(x(),k("div",si,ni)):H("",!0)]),t("div",ai,[o(h,{type:"primary",onClick:r},{default:l(()=>[S("确定")]),_:1})])])}}},ri=ue(li,[["__scopeId","data-v-f7b991d7"]]);class di{constructor(s,n,a,v){this.type="custom",this.map=void 0,this.id=s,this.renderingMode="3d",this.preheat=0,this.swapPointer=0,this.extent=_t(),this.worker=void 0,this.uvUrlList=a,this.stationUrl=n,this.endPoint="",this.progress=0,this.startPoint="",this.framesPerPhase=100,this.maxSpeed=ne(),this.maxParticleNum=1e4,this.progressRate=ne(),this.currentResourcePointer=0,this.particleNum=bt(5e3),this.speedFactor=ne(1),this.timePointParser=v,this.randomSeed=ne(Math.random()),this.blockSizeX=16,this.blockSizeY=16,this.lastMvp=Ae(),this.lastMvpInverse=Ae(),this.groupSizeX=Math.ceil(Math.sqrt(this.maxParticleNum)/this.blockSizeX),this.groupSizeY=Math.ceil(Math.sqrt(this.maxParticleNum)/this.blockSizeY),this.randomFillData=new Float32Array(this.maxParticleNum*6).map((f,r)=>r%6==4||r%6==5?0:Math.random()),this.toRef=void 0,this.fromRef=void 0,this.nextRef=void 0,this.uniformBuffer_frame=void 0,this.indexBuffer_voronoi=void 0,this.vertexBuffer_voronoi=void 0,this.uniformBuffer_static=void 0,this.storageBuffer_particle=void 0,this.particleRef=q(this.randomFillData),this.flowTexture=void 0,this.depthTexture=void 0,this.layerTexture1=void 0,this.layerTexture2=void 0,this.copiedDepthTexture=void 0,this.showBinding=void 0,this.layerBindings=void 0,this.voronoiBinding=void 0,this.segmentBinding=void 0,this.voronoiToBinding=void 0,this.simulationBinding=void 0,this.trajectoryBindings=void 0,this.showPipeline=void 0,this.layerPipeline=void 0,this.voronoiPipeline=void 0,this.segmentPipeline=void 0,this.trajectoryPipeline=void 0,this.simulationPipeline=void 0,this.swapPasses=void 0,this.voronoiPass=void 0,this.simulationPass=void 0,this.isHided=!1,this.isIdling=!1,this.showArrow=!1,this.showVoronoi=!0,this.nextPrepared=!1,this.isInitialized=!1,this.nextPreparing=!1}onAdd(s,n){this.map=s,this.map.on("movestart",()=>this.idle()),this.map.on("move",()=>this.idle()),this.map.on("moveend",()=>this.restart()),this.map.on("dragstart",()=>this.idle()),this.map.on("drag",()=>this.idle()),this.map.on("dragend",()=>this.restart()),this.map.on("zoomstart",()=>this.idle()),this.map.on("zoom",()=>this.idle()),this.map.on("zoomend",()=>this.restart()),this.map.on("rotatestart",()=>this.idle()),this.map.on("rotate",()=>this.idle()),this.map.on("rotateend",()=>this.restart()),this.map.on("pitchstart",()=>this.idle()),this.map.on("pitch",()=>this.idle()),this.map.on("pitchend",()=>this.restart()),this.addWorker(new Worker(new URL("/assets/flowJson.worker-CR8XR_EW.js",import.meta.url),{type:"module"})),this.init()}render(s,n){if(this.map.triggerRepaint(),!(!this.isInitialized||this.isIdling||this.preheat-- >0)){if(this.isHided){this.makeVisibility(!1);return}else this.makeVisibility(!0);this.showBinding.executable=!1,this.swapPasses[0].executable=this.swapPasses[1].executable=this.layerBindings[0].executable=this.swapPointer,this.swapPasses[2].executable=this.swapPasses[3].executable=this.layerBindings[1].executable=1-this.swapPointer,this.swapPointer=(this.swapPointer+1)%2,this.updateVoronoi(),this.randomSeed.n=Math.random(),this.lastMvp.copyFrom(this.map.uMatrix),this.lastMvpInverse.copyFrom(this.map.mvpInverse)}}async resetResource(s){let n=async a=>{this.nextPreparing=!0;let v=await De.get(a,{responseType:"arraybuffer"}),f=new Float32Array(v.data),r=-1/0;for(let c=0;c<f.length;c+=2){const p=f[c+0],y=f[c+1],h=Math.sqrt(p*p+y*y);r=h>r?h:r}this.nextRef.value=f,this.updateMaxSpeed(r),this.nextPreparing=!1,this.nextPrepared=!0,f=null,v=null};this.progress=0,this.maxSpeed.n=0,this.progressRate.n=0,this.uvUrlList=s,this.startPoint=this.timePointParser(this.uvUrlList[0]),this.endPoint=this.timePointParser(this.uvUrlList[this.uvUrlList.length-1]),await n(this.uvUrlList[0]),this.swapVoronoiBinding(),await n(this.uvUrlList[1]),this.swapVoronoiBinding(),this.currentResourcePointer=1,this.nextPrepared=!0}async setProgress(s){let n=Math.ceil(s/100*(this.uvUrlList.length-1)),a=n+1;a==this.uvUrlList.length&&(a=0);let v=async f=>{this.nextPreparing=!0;let r=await De.get(f,{responseType:"arraybuffer"}),c=new Float32Array(r.data),p=-1/0;for(let y=0;y<c.length;y+=2){const h=c[y+0],g=c[y+1],V=Math.sqrt(h*h+g*g);p=V>p?V:p}this.nextRef.value=c,this.updateMaxSpeed(p),this.nextPreparing=!1,this.nextPrepared=!0,r=null,c=null};this.progress=0,this.maxSpeed.n=0,this.progressRate.n=0,this.startPoint=this.timePointParser(this.uvUrlList[0]),this.endPoint=this.timePointParser(this.uvUrlList[this.uvUrlList.length-1]),await v(this.uvUrlList[n]),this.swapVoronoiBinding(),await v(this.uvUrlList[a]),this.swapVoronoiBinding(),this.currentResourcePointer=a,this.nextPrepared=!0}async init(){this.isInitialized=!1;let s=async v=>{const f=await De.get(v,{responseType:"arraybuffer"}),r=new It(new Float32Array(f.data)),c=[],p=r.triangles;for(let y=0;y<r.points.length;y+=2){this.extent.update(r.points[y+0],r.points[y+1]);const h=We(Ee.mercatorXfromLon(r.points[y+0])),g=We(Ee.mercatorYfromLat(r.points[y+1]));c.push(h[0]),c.push(g[0]),c.push(h[1]),c.push(g[1])}return this.nextRef=q(new Float32Array(r.points.length).fill(0)),this.fromRef=q(new Float32Array(r.points.length).fill(0)),this.toRef=q(new Float32Array(r.points.length).fill(0)),{indices:p,vertices:c}};const{indices:n,vertices:a}=await s(this.stationUrl);await this.resetResource(this.uvUrlList),this.storageBuffer_particle=xt({name:"Storage Buffer (Particle Position & Velocity)",resource:{arrayRef:this.particleRef}}),this.uniformBuffer_static=ze({name:"Uniform Buffer (Flow Layer Static)",blocks:[je({name:"staticUniform",map:{groupSize:wt(this.groupSizeX,this.groupSizeY),extent:this.extent.boundary}})]}),this.uniformBuffer_frame=ze({name:"Uniform Buffer (Flow Layer Frame)",blocks:[je({name:"frameUniform",dynamic:!0,map:{randomSeed:this.randomSeed,viewPort:this.map.screen.sizeF,mapBounds:this.map.cameraBounds.boundary,zoomLevel:this.map.zoom,progressRate:this.progressRate,maxSpeed:this.maxSpeed,lastMvp:this.lastMvp,lastMvpInverse:this.lastMvpInverse,fillWidth:ae(1),aaWidth:ae(2)}})]}),this.layerTexture1=this.map.screen.createScreenDependentTexture("Texture (Background 1)"),this.layerTexture2=this.map.screen.createScreenDependentTexture("Texture (Background 2)"),this.flowTexture=this.map.screen.createScreenDependentTexture("Texture (Velocity)","rg32float"),this.indexBuffer_voronoi=Pt({name:"IndexBuffer (Voronoi Index)",resource:{arrayRef:q(new Uint32Array(n))}}),this.vertexBuffer_voronoi=Ie({name:"VertexBuffer (Station Position)",resource:{arrayRef:q(new Float32Array(a)),structure:[{components:4}]}}),this.voronoiBinding=L({name:"Binding (Flow-Field Voronoi)",range:()=>[this.indexBuffer_voronoi.length],index:{buffer:this.indexBuffer_voronoi},vertices:[{buffer:this.vertexBuffer_voronoi},{buffer:Ie({name:"VertexBuffer (Station Velocity (From))",resource:{arrayRef:this.fromRef,structure:[{components:2}]}})},{buffer:Ie({name:"VertexBuffer (Station Velocity (To))",resource:{arrayRef:this.toRef,structure:[{components:2}]}})}],sharedUniforms:[{buffer:this.uniformBuffer_frame},{buffer:this.uniformBuffer_static},{buffer:this.map.dynamicUniformBuffer}]}),this.voronoiPipeline=Y({name:"Render Pipeline (Voronoi Flow)",shader:{module:j.load("Shader (Flow Voronoi)","/scratchSomething/terrain_flow/shader/flowVoronoi.wgsl")}}),this.voronoiPass=O({name:"Render Pass (Voronoi Flow From)",colorAttachments:[{colorResource:this.flowTexture}],depthStencilAttachment:{depthStencilResource:this.map.depthTexture}}).add(this.voronoiPipeline,this.voronoiBinding),this.simulationBinding=L({name:"Binding (Particle Simulation)",range:()=>[this.groupSizeX,this.groupSizeY],textures:[{texture:this.flowTexture,sampleType:"unfilterable-float"}],storages:[{buffer:this.storageBuffer_particle,writable:!0}],uniforms:[{name:"controllerUniform",dynamic:!0,map:{particleNum:St(this.maxParticleNum),dropRate:ae(.003),dropRateBump:ae(.001),speedFactor:this.speedFactor}}],sharedUniforms:[{buffer:this.uniformBuffer_frame},{buffer:this.uniformBuffer_static},{buffer:this.map.dynamicUniformBuffer}]}),this.simulationPipeline=Bt({name:"Compute Pipeline (Flow Simulation)",shader:{module:j.load("Shader (Particle Simulation)","/scratchSomething/terrain_flow/shader/simulation.compute.wgsl")},constants:{blockSize:16}}),this.simulationPass=kt({name:"Compute Pass (Particle Simulation)"}).add(this.simulationPipeline,this.simulationBinding),this.trajectoryBindings=[L({name:"Binding (Background Swap 1)",range:()=>[4],textures:[{texture:this.layerTexture2}],sharedUniforms:[{buffer:this.uniformBuffer_frame},{buffer:this.map.dynamicUniformBuffer}]}),L({name:"Binding (Background Swap 2)",range:()=>[4],textures:[{texture:this.layerTexture1}],sharedUniforms:[{buffer:this.uniformBuffer_frame},{buffer:this.map.dynamicUniformBuffer}]})],this.trajectoryPipeline=Y({name:"Render pipeline (Background Trajectory)",shader:{module:j.load("Shader (Background Trajectory)","/scratchSomething/terrain_flow/shader/trajectory.wgsl")},colorTargetStates:[{blend:Ne}],primitive:{topology:"triangle-strip"},depthTest:!1}),this.segmentBinding=L({name:"Binding (Segment)",range:()=>[4,this.particleNum.n],storages:[{buffer:this.storageBuffer_particle}],sharedUniforms:[{buffer:this.uniformBuffer_frame},{buffer:this.uniformBuffer_static},{buffer:this.map.dynamicUniformBuffer}]}),this.segmentPipeline=Y({name:"Render Pipeline (Segment)",shader:{module:j.load("Shader (Segment)","/scratchSomething/terrain_flow/shader/segment.wgsl")},colorTargetStates:[{blend:Ne}],primitive:{topology:"triangle-strip"}}),this.swapPasses=[O({name:"Render Pass (Past Trajectory 1)",colorAttachments:[{colorResource:this.layerTexture1}],depthStencilAttachment:{depthStencilResource:this.map.depthTexture}}).add(this.trajectoryPipeline,this.trajectoryBindings[0]),O({name:"Render Pass (Current Segment 1)",colorAttachments:[{colorResource:this.layerTexture1,loadOp:"load"}],depthStencilAttachment:{depthStencilResource:this.map.depthTexture,depthLoadOp:"load"}}).add(this.segmentPipeline,this.segmentBinding),O({name:"Render Pass (Past Trajectory 2)",colorAttachments:[{colorResource:this.layerTexture2}],depthStencilAttachment:{depthStencilResource:this.map.depthTexture}}).add(this.trajectoryPipeline,this.trajectoryBindings[1]),O({name:"Render Pass (Current Segment 2)",colorAttachments:[{colorResource:this.layerTexture2,loadOp:"load"}],depthStencilAttachment:{depthStencilResource:this.map.depthTexture,depthLoadOp:"load"}}).add(this.segmentPipeline,this.segmentBinding),O({name:"Render Pass (Texture Empty)",colorAttachments:[{colorResource:this.layerTexture1},{colorResource:this.layerTexture2}]})],this.layerBindings=[L({name:"Binding (Layer Renderig 1)",range:()=>[4],textures:[{texture:this.layerTexture1}]}),L({name:"Binding (Layer Renderig 2)",range:()=>[4],textures:[{texture:this.layerTexture2}]})],this.layerPipeline=Y({name:"Render Pipeline (Layer Rendering)",shader:{module:j.load("Shader (Flow Layer Rendering)","/scratchSomething/terrain_flow/shader/flowLayer.wgsl")},primitive:{topology:"triangle-strip"},colorTargetStates:[{blend:Re}]}),this.showBinding=L({name:"Binding (Flow Show)",range:()=>[4],textures:[{texture:this.flowTexture,sampleType:"unfilterable-float"}],sharedUniforms:[{buffer:this.uniformBuffer_frame}]}),this.showPipeline=Y({name:"Render Pipeline (Flow Show)",shader:{module:j.load("Shader (Flow Show)","/scratchSomething/terrain_flow/shader/flowShow.wgsl")},primitive:{topology:"triangle-strip"},colorTargetStates:[{blend:Re}]}),this.arrowBinding=L({name:"Binding (Arrow)",range:()=>[4,this.particleNum.n],storages:[{buffer:this.storageBuffer_particle}],sharedUniforms:[{buffer:this.uniformBuffer_frame},{buffer:this.uniformBuffer_static},{buffer:this.map.dynamicUniformBuffer}]}),this.arrowPipeline=Y({name:"Render Pipeline (Flow Arrow)",shader:{module:j.load("Shader (Flow Show)","/scratchSomething/terrain_flow/shader/arrow.wgsl")},primitive:{topology:"triangle-strip"},colorTargetStates:[{blend:Re}]}),this.swapPasses[0].executable=!0,this.swapPasses[1].executable=!0,this.swapPasses[2].executable=!1,this.swapPasses[3].executable=!1,this.swapPasses[4].executable=!1,this.layerBindings[0].executable=!0,this.layerBindings[1].executable=!1,this.showArrow&&this.map.add2RenderPass(this.arrowPipeline,this.arrowBinding),this.showVoronoi&&this.map.add2RenderPass(this.showPipeline,this.showBinding).add2RenderPass(this.layerPipeline,this.layerBindings[0]).add2RenderPass(this.layerPipeline,this.layerBindings[1]),this.map.add2PreProcess(this.voronoiPass).add2PreProcess(this.simulationPass).add2PreProcess(this.swapPasses[0]).add2PreProcess(this.swapPasses[1]).add2PreProcess(this.swapPasses[2]).add2PreProcess(this.swapPasses[3]).add2PreProcess(this.swapPasses[4]),this.isInitialized=!0}idle(){this.trajectoryPipeline&&(this.trajectoryPipeline.executable=!1)}restart(){this.trajectoryPipeline&&(this.trajectoryPipeline.executable=!0)}show(){this.isHided=!1}hide(){this.isHided=!0}makeVisibility(s){s?(this.showPipeline.executable=!0,this.voronoiPass.executable=!0,this.simulationPass.executable=!0):(this.showPipeline.executable=!1,this.layerBindings[0].executable=!1,this.layerBindings[1].executable=!1,this.voronoiPass.executable=!1,this.swapPasses[0].executable=!1,this.swapPasses[1].executable=!1,this.swapPasses[2].executable=!1,this.simulationPass.executable=!1)}updateMaxSpeed(s){this.maxSpeed.n=s>this.maxSpeed.n?s:this.maxSpeed.n}updateVoronoi(){this.nextPreparing||(this.progress===0&&(this.currentResourcePointer=(this.currentResourcePointer+1)%this.uvUrlList.length,this.addVoronoiBindingAsync(this.uvUrlList[this.currentResourcePointer])),this.progress=Math.min(this.progress+1,this.framesPerPhase-1),this.nextPrepared&&this.progress===this.framesPerPhase-1&&(this.progress=0,this.swapVoronoiBinding()),this.progressRate.n=this.progress/(this.framesPerPhase-1))}swapVoronoiBinding(){let s=this.fromRef.value;this.fromRef.value=this.toRef.value,this.toRef.value=s,s=this.toRef.value,this.toRef.value=this.nextRef.value,this.nextRef.value=s,this.nextPrepared=!1}addWorker(s){const n=this;this.worker=s,this.worker.addEventListener("message",a=>{const{url:v,maxSpeed:f,uvs:r}=a.data;n.updateMaxSpeed(f),n.nextRef.value=r,n.nextPrepared=!0,n.nextPreparing=!1})}addVoronoiBindingAsync(s){this.nextPreparing=!0,this.worker.postMessage({url:s})}get localProgress(){return this.progressRate.n}get globalProgress(){return(this.currentResourcePointer+this.progressRate.n)/this.uvUrlList.length}destroy(){this.type=void 0,this.map=void 0,this.id=void 0,this.renderingMode=void 0,this.preheat=void 0,this.swapPointer=void 0,this.extent=void 0,this.worker=void 0,this.uvUrlList=void 0,this.stationUrl=void 0,this.endPoint=void 0,this.progress=void 0,this.startPoint=void 0,this.framesPerPhase=void 0,this.maxSpeed=void 0,this.maxParticleNum=void 0,this.progressRate=void 0,this.currentResourcePointer=void 0,this.particleNum=void 0,this.speedFactor=void 0,this.timePointParser=void 0,this.randomSeed=void 0,this.blockSizeX=void 0,this.blockSizeY=void 0,this.lastMvp=void 0,this.lastMvpInverse=void 0,this.groupSizeX=void 0,this.groupSizeY=void 0,this.randomFillData=void 0,this.toRef=void 0,this.fromRef=void 0,this.nextRef=void 0,this.uniformBuffer_frame=void 0,this.indexBuffer_voronoi=void 0,this.vertexBuffer_voronoi=void 0,this.uniformBuffer_static=void 0,this.storageBuffer_particle=void 0,this.particleRef=void 0,this.flowTexture=void 0,this.depthTexture=void 0,this.layerTexture1=void 0,this.layerTexture2=void 0,this.copiedDepthTexture=void 0,this.showBinding=void 0,this.layerBindings=void 0,this.voronoiBinding=void 0,this.segmentBinding=void 0,this.voronoiToBinding=void 0,this.simulationBinding=void 0,this.trajectoryBindings=void 0,this.showPipeline=void 0,this.layerPipeline=void 0,this.voronoiPipeline=void 0,this.segmentPipeline=void 0,this.trajectoryPipeline=void 0,this.simulationPipeline=void 0,this.swapPasses=void 0,this.voronoiPass=void 0,this.simulationPass=void 0,this.isHided=void 0,this.isIdling=void 0,this.showArrow=void 0,this.showVoronoi=void 0,this.nextPrepared=void 0,this.isInitialized=void 0,this.nextPreparing=void 0}}function We(d){const s=new Float32Array(2);s[0]=d;const n=d-s[0];return s[1]=n,s}const ui={date:"2023-09-01",vertex:[["13417691","3767754"],["13417931","3767270"]],scene:"minzhusha",dataFolderPath:"D:\\project\\JS_Bank_Collapse\\util\\model\\multi\\data",section:[[13417687957079306e-9,3.7677558293190524e6,3.121534824371338],[13417687957079306e-9,3.7677508293190524e6,3.1434929370880127],[13417692957079306e-9,3.7677458293190524e6,3.247708320617676],[13417692957079306e-9,3.7677408293190524e6,3.2636892795562744],[13417697957079306e-9,3.7677358293190524e6,3.291696786880493],[13417697957079306e-9,3.7677308293190524e6,3.299565553665161],[13417702957079306e-9,3.7677258293190524e6,3.299978733062744],[13417702957079306e-9,3.7677208293190524e6,3.299994468688965],[13417707957079306e-9,3.7677158293190524e6,3.2999579906463623],[13417707957079306e-9,3.7677108293190524e6,3.2996816635131836],[13417712957079306e-9,3.7677058293190524e6,3.296473979949951],[13417712957079306e-9,3.7677008293190524e6,3.2823452949523926],[13417717957079306e-9,3.7676958293190524e6,3.2385687828063965],[13417717957079306e-9,3.7676908293190524e6,3.189035654067993],[13417722957079306e-9,3.7676858293190524e6,3.067615032196045],[13417722957079306e-9,3.7676808293190524e6,3.028134822845459],[13417727957079306e-9,3.7676758293190524e6,3.001678943634033],[13417727957079306e-9,3.7676708293190524e6,2.9994516372680664],[13417732957079306e-9,3.7676658293190524e6,2.9988670349121094],[13417732957079306e-9,3.7676608293190524e6,2.9878454208374023],[13417737957079306e-9,3.7676558293190524e6,2.9787704944610596],[13417737957079306e-9,3.7676508293190524e6,2.899057388305664],[13417742957079306e-9,3.7676458293190524e6,2.9546520709991455],[13417742957079306e-9,3.7676408293190524e6,2.847874164581299],[13417747957079306e-9,3.7676358293190524e6,2.8334996700286865],[13417747957079306e-9,3.7676308293190524e6,2.8156447410583496],[13417752957079306e-9,3.7676258293190524e6,2.8378868103027344],[13417752957079306e-9,3.7676208293190524e6,2.8585641384124756],[13417757957079306e-9,3.7676158293190524e6,2.8983511924743652],[13417757957079306e-9,3.7676108293190524e6,2.5130932331085205],[13417762957079306e-9,3.7676058293190524e6,1.9344098567962646],[13417762957079306e-9,3.7676008293190524e6,-1.7289330959320068],[13417767957079306e-9,3.7675958293190524e6,-13.831005096435547],[13417767957079306e-9,3.7675908293190524e6,-17.1885986328125],[13417772957079306e-9,3.7675858293190524e6,-17.408037185668945],[13417772957079306e-9,3.7675808293190524e6,-17.806724548339844],[13417777957079306e-9,3.7675758293190524e6,-17.77374267578125],[13417777957079306e-9,3.7675708293190524e6,-17.518352508544922],[13417782957079306e-9,3.7675658293190524e6,-17.223793029785156],[13417782957079306e-9,3.7675608293190524e6,-16.875864028930664],[13417787957079306e-9,3.7675558293190524e6,-16.53278160095215],[13417787957079306e-9,3.7675508293190524e6,-16.165775299072266],[13417792957079306e-9,3.7675458293190524e6,-16.063810348510742],[13417792957079306e-9,3.7675408293190524e6,-15.54920768737793],[13417797957079306e-9,3.7675358293190524e6,-14.938090324401855],[13417797957079306e-9,3.7675308293190524e6,-14.127363204956055],[13417802957079306e-9,3.7675258293190524e6,-13.364641189575195],[13417802957079306e-9,3.7675208293190524e6,-12.430339813232422],[13417807957079306e-9,3.7675158293190524e6,-11.678702354431152],[13417807957079306e-9,3.7675108293190524e6,-11.449407577514648],[13417812957079306e-9,3.7675058293190524e6,-9.874521255493164],[13417812957079306e-9,3.7675008293190524e6,-8.721687316894531],[13417817957079306e-9,3.7674958293190524e6,-6.497688293457031],[13417817957079306e-9,3.7674908293190524e6,-6.655665397644043],[13417822957079306e-9,3.7674858293190524e6,-8.162154197692871],[13417822957079306e-9,3.7674808293190524e6,-8.65102481842041],[13417827957079306e-9,3.7674758293190524e6,-11.075912475585938],[13417827957079306e-9,3.7674708293190524e6,-11.722530364990234],[13417832957079306e-9,3.7674658293190524e6,-13.258783340454102],[13417832957079306e-9,3.7674608293190524e6,-13.783803939819336],[13417837957079306e-9,3.7674558293190524e6,-14.561233520507812],[13417837957079306e-9,3.7674508293190524e6,-14.897319793701172],[13417842957079306e-9,3.7674458293190524e6,-14.745083808898926],[13417842957079306e-9,3.7674408293190524e6,-14.91735553741455],[13417847957079306e-9,3.7674358293190524e6,-14.65709114074707],[13417847957079306e-9,3.7674308293190524e6,-13.974665641784668],[13417852957079306e-9,3.7674258293190524e6,-13.366701126098633],[13417852957079306e-9,3.7674208293190524e6,-15.094374656677246],[13417857957079306e-9,3.7674158293190524e6,-16.2069149017334],[13417857957079306e-9,3.7674108293190524e6,-17.09683609008789],[13417862957079306e-9,3.7674058293190524e6,-18.026731491088867],[13417862957079306e-9,3.7674008293190524e6,-18.64005470275879],[13417867957079306e-9,3.7673958293190524e6,-19.124711990356445],[13417867957079306e-9,3.7673908293190524e6,-19.64112091064453],[13417872957079306e-9,3.7673858293190524e6,-19.74228286743164],[13417872957079306e-9,3.7673808293190524e6,-19.911325454711914],[13417877957079306e-9,3.7673758293190524e6,-20.222097396850586],[13417877957079306e-9,3.7673708293190524e6,-21.015077590942383],[13417882957079306e-9,3.7673658293190524e6,-21.347070693969727],[13417882957079306e-9,3.7673608293190524e6,-22.014921188354492],[13417887957079306e-9,3.7673558293190524e6,-22.594650268554688],[13417887957079306e-9,3.7673508293190524e6,-23.058412551879883],[13417892957079306e-9,3.7673458293190524e6,-22.975597381591797],[13417892957079306e-9,3.7673408293190524e6,-23.3878173828125],[13417897957079306e-9,3.7673358293190524e6,-23.70122718811035],[13417897957079306e-9,3.7673308293190524e6,-24.130123138427734],[13417902957079306e-9,3.7673258293190524e6,-24.493906021118164],[13417902957079306e-9,3.7673208293190524e6,-24.88259506225586],[13417907957079306e-9,3.7673158293190524e6,-25.026247024536133],[13417907957079306e-9,3.7673108293190524e6,-25.398527145385742],[13417912957079306e-9,3.7673058293190524e6,-25.830562591552734],[13417912957079306e-9,3.7673008293190524e6,-26.824321746826172],[13417917957079306e-9,3.7672958293190524e6,-26.83916473388672],[13417917957079306e-9,3.7672908293190524e6,-27.092004776000977],[13417922957079306e-9,3.7672858293190524e6,-26.90294075012207],[13417922957079306e-9,3.7672808293190524e6,-26.982824325561523],[13417927957079306e-9,3.7672758293190524e6,-27.218549728393555],[13417927957079306e-9,3.7672708293190524e6,-27.60082244873047]],isSectionWithInArea:[!0,!0],PQ:[[0,1,0,0],"低风险",.8],KY:[[0,0,0,1],"较高风险",.9067293380808618],ZD:[[0,0,0,1],"较高风险",.8233316221765914],deepestPoint:[[13417687957079306e-9,3.7677558293190524e6],3.896,1.797,2.4285],ZB:[[1,0,0,0],"较低风险",3.896],SA:[[0,1,0,0],"低风险",[.008508098125457764,.00041306018829345703,-.003069460391998291,-.011844491958618164,-.0011454224586486816,-.007263541221618652,.0032425761222839356,-.8364678144454956,-.19713687896728516,.06204805374145508,.07973456382751465,.16296939849853515,.25905070304870603,-.2289112091064453,-.17426605224609376,-.0047928810119628905,-.0774911880493164,-.14588985443115235,-.05486927032470703,-.11862764358520508,-.0553288459777832,-.06625099182128906,-.0906458854675293,-.018969249725341798,-.07645454406738281]],LN:[[0,0,0,1],"较高风险",[-.0014290809631347656,-.024257421493530273,-.006379842758178711,-.000362396240234375,-20742416381835938e-21,-5245208740234375e-21,-16689300537109375e-22,-.0005278587341308594,-.00018072128295898438,-.006606340408325195,-.013387203216552734,-.0712432861328125,-.07682418823242188,-.0541994571685791,-.03546714782714844,-.002198934555053711,-.38700222969055176,-.9655985832214355,-4.628930568695068,-16.731022119522095,-20.088642597198486,-20.309069633483887,-20.725111722946167,-21.088707208633423,-22.950204372406006,-23.242689609527588,-22.804797172546387,-22.426447868347168,-21.78517246246338,-14.056722640991211,-12.477280378341675,-11.654539346694946,-10.704403400421143,-9.916126251220703,-8.661474227905273,-6.875741004943848,-5.015869617462158,-2.245750904083252]],beforeSection:[[1341768869359842e-8,3767754371655211e-9,3.1229639053344727],[1341769369359842e-8,3767749371655211e-9,3.1159889698028564],[1341769369359842e-8,3767744371655211e-9,3.239731550216675],[1341769369359842e-8,3767739371655211e-9,3.2879467010498047],[1341769869359842e-8,3767734371655211e-9,3.298076629638672],[1341770369359842e-8,3767729371655211e-9,3.2999279499053955],[1341770369359842e-8,3767724371655211e-9,3.299999475479126],[1341770369359842e-8,3767719371655211e-9,3.299999713897705],[1341770869359842e-8,3767714371655211e-9,3.299959659576416],[1341771369359842e-8,3767709371655211e-9,3.2978639602661133],[1341771369359842e-8,3767704371655211e-9,3.2888548374176025],[1341771369359842e-8,3767699371655211e-9,3.247558116912842],[1341771869359842e-8,3767694371655211e-9,3.1743929386138916],[1341772369359842e-8,3767689371655211e-9,3.121018171310425],[1341772369359842e-8,3767684371655211e-9,3.0371713638305664],[1341772369359842e-8,3767679371655211e-9,3.010349988937378],[1341772869359842e-8,3767674371655211e-9,3.0003602504730225],[1341773369359842e-8,3767669371655211e-9,2.9999794960021973],[1341773369359842e-8,3767664371655211e-9,2.9990477561950684],[1341773369359842e-8,3767659371655211e-9,2.9944517612457275],[1341773869359842e-8,3767654371655211e-9,2.9921576976776123],[1341774369359842e-8,3767649371655211e-9,2.9703006744384766],[1341774369359842e-8,3767644371655211e-9,2.8455734252929688],[1341774369359842e-8,3767639371655211e-9,2.8091800212860107],[1341774869359842e-8,3767634371655211e-9,2.8179984092712402],[1341775369359842e-8,3767629371655211e-9,2.8924689292907715],[1341775369359842e-8,3767624371655211e-9,2.8920862674713135],[1341775369359842e-8,3767619371655211e-9,2.894031286239624],[1341775869359842e-8,3767614371655211e-9,2.900550127029419],[1341776369359842e-8,3767609371655211e-9,2.9000954627990723],[1341776369359842e-8,3767604371655211e-9,2.9000084400177],[1341776369359842e-8,3767599371655211e-9,2.8999974727630615],[1341776869359842e-8,3767594371655211e-9,2.900017023086548],[1341777369359842e-8,3767589371655211e-9,2.9000439643859863],[1341777369359842e-8,3767584371655211e-9,2.9010324478149414],[1341777369359842e-8,3767579371655211e-9,2.9183871746063232],[1341777869359842e-8,3767574371655211e-9,3.314964532852173],[1341778369359842e-8,3767569371655211e-9,5.431851863861084],[1341778369359842e-8,3767564371655211e-9,6.018896579742432],[1341778369359842e-8,3767559371655211e-9,5.928933143615723],[1341778869359842e-8,3767554371655211e-9,5.8936662673950195],[1341779369359842e-8,3767549371655211e-9,5.619397163391113],[1341779369359842e-8,3767544371655211e-9,-2.0070877075195312],[1341779369359842e-8,3767539371655211e-9,-3.071927309036255],[1341779869359842e-8,3767534371655211e-9,-3.283550977706909],[1341780369359842e-8,3767529371655211e-9,-3.422959804534912],[1341780369359842e-8,3767524371655211e-9,-3.448514938354492],[1341780369359842e-8,3767519371655211e-9,-3.7688655853271484],[1341780869359842e-8,3767514371655211e-9,-4.802961349487305],[1341781369359842e-8,3767509371655211e-9,-6.43353796005249],[1341781369359842e-8,3767504371655211e-9,-7.628770351409912],[1341781369359842e-8,3767499371655211e-9,-8.946449279785156],[1341781869359842e-8,3767494371655211e-9,-9.244831085205078],[1341782369359842e-8,3767489371655211e-9,-10.476202964782715],[1341782369359842e-8,3767484371655211e-9,-12.233419418334961],[1341782369359842e-8,3767479371655211e-9,-13.30055046081543],[1341782869359842e-8,3767474371655211e-9,-14.014792442321777],[1341783369359842e-8,3767469371655211e-9,-14.270424842834473],[1341783369359842e-8,3767464371655211e-9,-14.97888469696045],[1341783369359842e-8,3767459371655211e-9,-15.168658256530762],[1341783869359842e-8,3767454371655211e-9,-16.535743713378906],[1341784369359842e-8,3767449371655211e-9,-17.253616333007812],[1341784369359842e-8,3767444371655211e-9,-17.6441650390625],[1341784369359842e-8,3767439371655211e-9,-18.0341854095459],[1341784869359842e-8,3767434371655211e-9,-18.871644973754883],[1341785369359842e-8,3767429371655211e-9,-19.163223266601562],[1341785369359842e-8,3767424371655211e-9,-19.695068359375],[1341785369359842e-8,3767419371655211e-9,-20.70911407470703],[1341785869359842e-8,3767414371655211e-9,-21.725101470947266],[1341786369359842e-8,3767409371655211e-9,-22.625085830688477],[1341786369359842e-8,3767404371655211e-9,-23.037151336669922],[1341786369359842e-8,3767399371655211e-9,-23.50472640991211],[1341786869359842e-8,3767394371655211e-9,-23.62897491455078],[1341787369359842e-8,3767389371655211e-9,-24.318498611450195],[1341787369359842e-8,3767384371655211e-9,-25.25609588623047],[1341787369359842e-8,3767379371655211e-9,-26.168140411376953],[1341787869359842e-8,3767374371655211e-9,-26.721012115478516],[1341788369359842e-8,3767369371655211e-9,-27.352996826171875],[1341788369359842e-8,3767364371655211e-9,-27.534730911254883],[1341788369359842e-8,3767359371655211e-9,-28.3227596282959],[1341788869359842e-8,3767354371655211e-9,-28.664649963378906],[1341789369359842e-8,3767349371655211e-9,-28.916494369506836],[1341789369359842e-8,3767344371655211e-9,-29.92958641052246],[1341789369359842e-8,3767339371655211e-9,-30.606996536254883],[1341789869359842e-8,3767334371655211e-9,-31.010469436645508],[1341790369359842e-8,3767329371655211e-9,-31.10230827331543],[1341790369359842e-8,3767324371655211e-9,-31.232851028442383],[1341790369359842e-8,3767319371655211e-9,-31.465221405029297],[1341790869359842e-8,3767314371655211e-9,-31.98632049560547],[1341791369359842e-8,3767309371655211e-9,-32.619144439697266],[1341791369359842e-8,3767304371655211e-9,-32.685813903808594],[1341791369359842e-8,3767299371655211e-9,-32.63957214355469],[1341791869359842e-8,3767294371655211e-9,-32.676307678222656],[1341792369359842e-8,3767289371655211e-9,-32.96323013305664],[1341792369359842e-8,3767284371655211e-9,-33.133304595947266],[1341792369359842e-8,3767279371655211e-9,-33.098289489746094],[1341792869359842e-8,3767274371655211e-9,-32.94529724121094]],risk:[[.08,.32,0,.6],"高风险",.6]};function Xe(d){var s=Math.PI/180,n=6378137,a=20037508342789244e-9,v=Math.abs(d[0])<=180?d[0]:d[0]-Math.sign(d[0])*360,f=[n*v*s,n*Math.log(Math.tan(Math.PI*.25+.5*d[1]*s))];return f[0]>a&&(f[0]=a),f[0]<-a&&(f[0]=-a),f[1]>a&&(f[1]=a),f[1]<-a&&(f[1]=-a),f}const ci=(d,s,n,a)=>{if(!d.getSource(`${a}-source`)){const v={type:"Feature",properties:{},geometry:{coordinates:[s,n],type:"LineString"}};d.addSource(`${a}-source`,{type:"geojson",data:v})}d.getLayer(`${a}-layer`)?d.setLayoutProperty(`${a}-layer`,"visibility","visible"):d.addLayer({id:`${a}-layer`,type:"line",source:`${a}-source`,layout:{"line-join":"round","line-cap":"round",visibility:"visible"},paint:{"line-color":"#888","line-width":8}})},qe=(d,s)=>{d.getLayer(`${s}-layer`)&&d.setLayoutProperty(`${s}-layer`,"visibility","none")},hi=(d,s)=>{d.getLayer(`${s}-layer`)&&d.removeLayer(`${s}-layer`),d.getSource(`${s}-source`)&&d.removeSource(`${s}-source`)},mi=(d,s,n)=>{console.log(s,n);const a=Math.min(...s,...n),v=Math.max(...s,...n),f=Math.min(s.length,n.length),r={title:{text:"断面形态"},grid:{width:"80%",height:"80%",top:"10%",show:!0,backgroundColor:"#d2f2ff"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["当前横截面","对比横截面"],right:"10%",top:"2%"},xAxis:{type:"category",data:new Array(f).fill(0).map((c,p)=>p*5),position:"bottom"},yAxis:{type:"value",splitLine:{show:!1},axisLine:{show:!1},scale:!0,max:Math.round(v+2),min:Math.round(a-2)},series:[{name:"当前横截面",data:s.slice(0,f).map(c=>c.toFixed(2)),type:"line",smooth:!0,areaStyle:{opacity:.8,color:"#2a5fdb"}},{name:"对比横截面",data:n.slice(0,f).map(c=>c.toFixed(2)),type:"line",smooth:!0,lineStyle:{color:"#ff7070"},itemStyle:{color:"#ff7070"}}]};d.setOption(r)},fi=(d,s)=>{const n=Math.min(...s),a=Math.max(...s),v={title:{text:"断面冲淤"},grid:{width:"80%",height:"80%",top:"10%",show:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"category",data:s.map((f,r)=>r*5),position:"bottom"},yAxis:{type:"value",splitLine:{show:!1},axisLine:{show:!1},scale:!0,max:Math.round(a+2),min:Math.round(n-2)},series:[{name:"冲淤程度",data:s.map(f=>f.toFixed(2)),type:"line",smooth:!0}]};d.setOption(v)},pi=(d,s,n,a)=>{const v=Math.min(...s,...n),f=Math.max(...s,...n),r=Math.min(s.length,n.length),c=[];for(let h=0;h<r;h+=10)c.push(h);c.push(r-1);const p=[];for(let h=0,g=0;h<c.length;h++,g++)if(h!==c.length-1){const V=c[h],m=c[h+1];for(let W=V;W<m;W++)p.push(a[g])}const y={title:{text:"断面坡比"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:[{top:"10%",height:"40%",show:!0},{top:"58%",height:"35%",show:!0}],legend:{data:["当前横截面","对比横截面","坡比"],right:"10%",top:"2%"},axisPointer:{link:[{xAxisIndex:"all"}]},xAxis:[{type:"category",data:n.map((h,g)=>g*5),position:"bottom"},{gridIndex:1,type:"category",data:p.map((h,g)=>g*5),position:"bottom",axisLine:{show:!0,onZero:!1}}],yAxis:[{type:"value",splitLine:{show:!1},scale:!0,max:Math.round(f+1),min:Math.round(v-1)},{type:"value",splitLine:{show:!1},gridIndex:1,axisLine:{show:!1},scale:!0}],series:[{name:"当前横截面",type:"line",smooth:!0,data:s.map(h=>h.toFixed(2))},{name:"对比横截面",type:"line",smooth:!0,data:n.map(h=>h.toFixed(2)),lineStyle:{color:"#ff7070"},itemStyle:{color:"#ff7070"}},{name:"坡比",type:"bar",smooth:!0,data:p.map(h=>h.toFixed(4)),yAxisIndex:1,xAxisIndex:1,barCategoryGap:"0%",itemStyle:{normal:{color:function(h){let g=0;return c.some((m,W)=>{if(h.dataIndex<m)return g=W-1,!0}),["#059669","#84cc16"][g%2]},label:{show:!1}}}}]};d.setOption(y)},I=d=>(ce("data-v-09038cba"),d=d(),he(),d),gi={class:"all"},vi={class:"model-content-container"},yi={class:"model-item-container"},_i={class:"model-choice"},bi={class:"basemap-radio-container"},xi=["checked"],wi=I(()=>t("label",{class:"tab",for:"radio-1"},"近岸动力分析",-1)),Pi=["checked"],Si=I(()=>t("label",{class:"tab",for:"radio-2"},"近岸演变分析",-1)),Bi=I(()=>t("span",{class:"glider"},null,-1)),ki={class:"main-page"},Ii={class:"user-react"},Ri={class:"title"},Di=I(()=>t("div",{class:"title-icon uricon"},null,-1)),Ci={class:"title-text"},Mi={class:"buttons"},Vi=["onClick"],Ti={class:"data-panel"},Li=I(()=>t("div",{class:"title"},[t("div",{class:"title-icon dpicon"}),t("div",{class:"title-text"},"数据面板")],-1)),$i={class:"dp-content"},Fi={class:"custom-tree-node",style:{width:"100%"}},Ui={class:"el-dropdown-link",style:{width:"100%"}},Ai={class:"layer-panel"},zi=I(()=>t("div",{class:"title"},[t("div",{class:"title-icon lpicon"}),t("div",{class:"title-text"},"图层面板")],-1)),ji={class:"lp-content"},Ni={class:"checkBox"},Ei={class:"main-page"},Hi={class:"data-panel",style:{height:"40vh"}},Wi=I(()=>t("div",{class:"title"},[t("div",{class:"title-icon dpicon"}),t("div",{class:"title-text"},"数据面板")],-1)),Xi={class:"dp-content",style:{height:"32vh"}},qi={class:"evolution-tree-node",style:{width:"100%"}},Yi={class:"el-dropdown-link",style:{width:"100%"}},Oi={class:"layer-panel"},Gi=I(()=>t("div",{class:"title"},[t("div",{class:"title-icon lpicon"}),t("div",{class:"title-text"},"图层面板")],-1)),Ji={class:"dp-content",style:{height:"32vh"}},Zi={class:"evolution-tree-node",style:{width:"100%"}},Ki={class:"el-dropdown-link",style:{width:"100%"}},Qi={class:"dialog-footer"},es={class:"main"},ts={class:"map-container"},is=I(()=>t("canvas",{id:"GPUFrame"},null,-1)),ss={class:"model-tooltip-container"},os={key:0,class:"model-container"},ns=I(()=>t("div",{style:{"font-size":"large","padding-bottom":"16px"}}," 近岸演变分析模型 ",-1)),as={class:"model-list"},ls=I(()=>t("img",{src:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",class:"image",style:{"margin-left":"0","margin-right":"0"}},null,-1)),rs={style:{padding:"4px 0px"}},ds=I(()=>t("img",{src:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",class:"image",style:{"margin-left":"0","margin-right":"0"}},null,-1)),us={style:{padding:"4px 0px"}},cs=I(()=>t("img",{src:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",class:"image",style:{"margin-left":"0","margin-right":"0"}},null,-1)),hs={style:{padding:"4px 0px"}},ms={key:1,class:"model-params-container"},fs=I(()=>t("div",{style:{"font-size":"large","padding-bottom":"16px"}}," 模型参数设置 ",-1)),ps={class:"charts-container"},gs={class:"analysisCenter"},vs=I(()=>t("div",{class:"background"},null,-1)),ys=I(()=>t("iframe",{id:"inlineFrameExample",title:"Inline Frame Example",width:"100%",height:"100%",src:"http://172.21.212.165:8050/#/analysis/73c29959-16f0-4478-8526-0927d1aff6f7"},null,-1)),_s={__name:"StabilityAnalysis2",setup(d){const s="http://127.0.0.1:8989/api/v1",n=_(!1),a=_(!1),v=_(!1),f=_(["水文条件选择","模型参数设置","模型计算","模型运行状态"]),r=_(null),c=_("模型配置"),p=_(!1),y=_(!1),h=_(!0),g=_(!1),V={"1998-01-dem":"199801_dem","2004-08-dem":"200408_dem","2006-02-dem":"200602_dem"},m={"1998-01-dem":{min:-64.1,max:11.97},"2004-08-dem":{min:-69.46,max:45.16},"2006-02-dem":{min:-71.16,max:40.1}},W=()=>{p.value=!1,h.value=!0,g.value=!1,y.value=!1},Oe=()=>{if(p.value=!0,g.value=!0,h.value=!1,v.value=!1,y.value=!0,w){for(let e in V)console.log(e),!w.getLayer("ras-"+e)&&w.addLayer({id:"ras-"+e,type:"raster",source:e,paint:{"raster-color":["interpolate",["linear"],["raster-value"],-60-m[e].min,"rgba(0,100,255,1)",-30-m[e].min,"rgba(0,150,255,1)",-20-m[e].min,"rgba(102,153,255,1)",-16-m[e].min,"rgba(0,204,255,1)",-15-m[e].min,"rgba(153,255,255,1)",-13.5-m[e].min,"rgba(255,255,255,1)",-13-m[e].min,"rgba(255,255,153,1)",-11-m[e].min,"rgba(230,230,128,1)",-10-m[e].min,"rgba(164,204,51,1)",-8-m[e].min,"rgba(153,204,51,1)",-5-m[e].min,"rgba(39,139,51,1)",-2-m[e].min,"rgba(10,143,82,1)",0-m[e].min,"rgba(0,113,11, 1)"],"raster-color-mix":[m[e].max-m[e].min,0,0,0],"raster-opacity":1,"raster-color-range":[0,m[e].max-m[e].min]},layout:{visibility:"none"}});w.addControl(pe),w.on("draw.create",function(e){console.log("aaa"),console.log(e.features),ve.value=crypto.randomUUID(),J.value=!0;let i=e.features[0],P=Xe(i.geometry.coordinates[0]),R=Xe(i.geometry.coordinates[1]);ge.value[ve.value]=[P,R]})}},Me=_(),U=Ye();U.modelStatus="undefined";const Ge=e=>{E({type:"success",offset:100,message:"水文条件："+e})},Je=e=>{switch(e){case 0:n.value=!0;break;case 1:a.value=!0;break;case 2:E({message:"模型计算中",offset:100}),U.modelStartTime=Date.now(),U.modelProgress=0,U.modelStatus="pending";const i=setInterval(()=>{U.modelProgress+=Math.random()*100/3600/.5/24*3,U.modelProgress>=100&&(U.modelStatus="success",E({type:"success",offset:100,message:"模型计算完成"}),clearInterval(i))},3e3);v.value=!0;break;case 3:v.value=!0;break}},Ze=e=>{E({type:"success",message:"模型参数设置成功",offset:100}),console.log(e)},Ke=(e,i)=>{i.nodeID?r.value=i.nodeID:r.value=null},Qe=e=>{r.value&&e==="add"&&Te.value.push(r.value)},et=se([{label:"旱季",children:[{label:"输入数据",children:[{label:"fort.13",nodeID:"dry-13"},{label:"fort.14",nodeID:"dry-14"},{label:"fort.15",nodeID:"dry-15"},{label:"fort.16",nodeID:"dry-16"},{label:"fort.19",nodeID:"dry-19"},{label:"fort.20",nodeID:"dry-20"}]},{label:"输出数据",children:[{label:"flow",nodeID:"dry-flow"}]}]},{label:"洪季",children:[{label:"输入数据",children:[{label:"fort.13",nodeID:"flood-13"},{label:"fort.14",nodeID:"flood-14"},{label:"fort.15",nodeID:"flood-15"},{label:"fort.16",nodeID:"flood-16"},{label:"fort.19",nodeID:"flood-19"},{label:"fort.20",nodeID:"flood-20"}]},{label:"输出数据",children:[{label:"flow",nodeID:"flood-flow"}]}]},{label:"20年一遇",children:[{label:"输入数据",children:[{label:"fort.13",nodeID:"20-13"},{label:"fort.14",nodeID:"20-14"},{label:"fort.15",nodeID:"20-15"},{label:"fort.16",nodeID:"20-16"},{label:"fort.19",nodeID:"20-19"},{label:"fort.20",nodeID:"20-20"}]},{label:"输出数据",children:[{label:"flow",nodeID:"20-flow"}]}]}]),me={children:"children",label:"label"},Ve=_([]),Te=_([]);let fe,Le=[];for(let e=0;e<26;e++)Le.push(`/scratchSomething/terrain_flow/json/uv_${e}.bin`);let oe=new di("近岸流场","/scratchSomething/terrain_flow/json/station.bin",Le,e=>e.match(/uv_(\d+)\.bin/)[1],"/scratchSomething/terrain_flow/json/ChangJiang.geojson");const tt=e=>{console.log("handle checked layer",e);for(let i=0;i<e.length;i++)if(e[i].includes("flow")){oe.show(),fe&&fe.flyTo({center:[120.54070965313991,32.042615280683805],pitch:31.99999999999988,bearing:0,zoom:10.245427972376211,speed:1,essential:!0});return}oe.hide()},B=_(null),A=_([{label:"1998-01-dem",nodeID:"1998-01-dem-id",type:"dem"},{label:"2004-08-dem",nodeID:"2004-08-dem-id",type:"dem"},{label:"2006-02-dem",nodeID:"2006-02-dem-id",type:"dem"}]),G=se([{label:"地形数据",type:null,children:[{label:"1998-01-dem",nodeID:"1998-01-dem-id",type:"dem"},{label:"2004-08-dem",nodeID:"2004-08-dem-id",type:"dem"},{label:"2006-02-dem",nodeID:"2006-02-dem-id",type:"dem"}]},{label:"断面数据",type:null,children:[]},{label:"示例断面形态",nodeID:"20200301-section-graph",type:"section-graph"},{label:"示例断面坡比",nodeID:"20200301-rate",type:"rate"},{label:"示例断面冲淤",nodeID:"20200301-chongyu",type:"chongyu"}]),it=(e,i)=>{console.log(i),i.nodeID?B.value=i:B.value=null},st=e=>{if(console.log(B.value),B.value&&e==="layer")A.value===null?A.value=[B.value]:A.value.push(B.value);else if(B.value&&e==="visualize"){const i=B.value.type;console.log(i),xe.value=!0;const P=ui;$.clear(),i==="section-graph"?setTimeout(()=>{const R=P.beforeSection,T=P.section;mi($,T.map(D=>D[2]),R.map(D=>D[2])),$.resize()},1):i==="rate"?setTimeout(()=>{const R=P.beforeSection,T=P.section;pi($,T.map(D=>D[2]),R.map(D=>D[2]),P.SA[2]),$.resize()},1):i==="chongyu"&&setTimeout(()=>{const R=P.section,T=P.beforeSection,D=Math.min(R.length,T.length),K=[];R.some((we,Q)=>{if(Q>=D)return!0;K.push(we[2]-T[Q][2])}),console.log(K),fi($,K),$.resize()},1)}else B.value&&e==="delete"||B.value&&e==="add"&&console.log("12321")},ot=(e,i)=>{i.nodeID?B.value=i:B.value=null},nt=e=>{console.log(e),B.value&&A.value&&e==="delete"&&(A.value=A.value.filter(i=>i.nodeID!==B.value.nodeID),B.value.type==="section-geojson"&&(qe(w,B.value.nodeID),hi(w,B.value.nodeID)))},at=(e,i)=>{if(console.log(e,i),i)if(e.type==="section-geojson"){const P=ge.value[e.nodeID];ci(w,P[0],P[1],e.nodeID),console.log(w.getLayoutProperty(`${e.nodeID}-layer`,"visibility"))}else e.type==="dem"&&(console.log("111"),w.getLayer("ras-"+e.label)?w.setLayoutProperty("ras-"+e.label,"visibility","visible"):w.addLayer({id:"ras-"+e.label,type:"raster",source:e.label,paint:{"raster-color":["interpolate",["linear"],["raster-value"],-60-m[e.label].min,"rgba(0,100,255,1)",-30-m[e.label].min,"rgba(0,150,255,1)",-20-m[e.label].min,"rgba(102,153,255,1)",-16-m[e.label].min,"rgba(0,204,255,1)",-15-m[e.label].min,"rgba(153,255,255,1)",-13.5-m[e.label].min,"rgba(255,255,255,1)",-13-m[e.label].min,"rgba(255,255,153,1)",-11-m[e.label].min,"rgba(230,230,128,1)",-10-m[e.label].min,"rgba(164,204,51,1)",-8-m[e.label].min,"rgba(153,204,51,1)",-5-m[e.label].min,"rgba(39,139,51,1)",-2-m[e.label].min,"rgba(10,143,82,1)",0-m[e.label].min,"rgba(0,113,11, 1)"],"raster-color-mix":[m[e.label].max-m[e.label].min,0,0,0],"raster-opacity":1,"raster-color-range":[0,m[e.label].max-m[e.label].min]}}));else e.type==="section-geojson"?(qe(w,e.nodeID),console.log(w.getLayoutProperty(`${e.nodeID}-layer`,"visibility"))):e.type==="dem"&&w.setLayoutProperty("ras-"+e.label,"visibility","none")};let w;const pe=new Mt({displayControlsDefault:!1,controls:{line_string:!0},styles:[{id:"gl-draw-line",type:"line",filter:["all",["==","$type","LineString"],["==","mode","draw_line_string"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#D20C0C","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-halo-active",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["==","mode","draw_line_string"]],paint:{"circle-radius":5,"circle-color":"#FFF"}},{id:"gl-draw-polygon-and-line-vertex-active",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["==","mode","draw_line_string"]],paint:{"circle-radius":3,"circle-color":"#D20C0C"}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","$type","LineString"],["!=","mode","draw_line_string"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#000","line-width":3}}]}),ge=_({}),ve=_(),lt=_(!1),J=_(!1),X=_(""),rt=()=>{},dt=()=>{J.value=!1,pe.deleteAll(),X.value=""},ut=()=>{J.value=!1,lt.value=!1,pe.deleteAll(),G[1].children.push({label:X.value,nodeID:ve.value,type:"section-geojson"}),console.log(ge),X.value=""},ye=_(),C=_({name:"",date:"",beforeDate:"",section:""}),ct=se({name:[{required:!0,message:"Please input Activity name",trigger:"blur"}],section:[{required:!0,trigger:"change"}],date:[{required:!0,trigger:"change"}],beforeDate:[{required:!0,trigger:"change"}]}),_e=_(!1),Z=_(null),$e=de(()=>{let e=[];return G.forEach(i=>{i.label==="断面数据"&&(e=i.children)}),console.log(e),e}),Fe=de(()=>{let e=[];return G.forEach(i=>{i.label==="地形数据"&&(e=i.children)}),console.log(e),e}),ht=()=>{if($e.value.length===0){E({message:"当前不存在任意断面, 请先确定断面",type:"warning"});return}_e.value=!0},be=e=>{Z.value=e,_e.value=!1},mt=async(e,i)=>{e&&await e.validate((P,R)=>{P?(Z.value=null,E("模型开始计算"),console.log(C.value),G.push({label:C.value.name,nodeID:"20200301-section-graph",type:i}),e.resetFields()):console.log("error submit!",R)})},ft=e=>{e.resetFields(),console.log(C.value),Z.value=null},Ue=_(),xe=_(!1);let $=null;const pt=()=>{xe.value=!1};return Rt(async()=>{$=Dt(Ue.value),w=await Ct(Me.value),w.addSource("1998-01-dem",{type:"raster",tiles:[s+"/tile/raster/river/199801_dem/{x}/{y}/{z}"],tileSize:256,minzoom:1,maxzoom:15,bounds:[118.5791,31.0413,121.7718,32.4197]}),w.addSource("2004-08-dem",{type:"raster",tiles:[s+"/tile/raster/river/200408_dem/{x}/{y}/{z}"],tileSize:256,minzoom:1,maxzoom:15,bounds:[118.5791,31.0413,121.7718,32.4197]}),w.addSource("2006-02-dem",{type:"raster",tiles:[s+"/tile/raster/river/200602_dem/{x}/{y}/{z}"],tileSize:256,minzoom:1,maxzoom:15,bounds:[118.5791,31.0413,121.7718,32.4197]}),fe=w,w.addLayer(oe),oe.hide()}),(e,i)=>{const P=b("el-dropdown-item"),R=b("el-dropdown-menu"),T=b("el-dropdown"),D=b("el-tree"),K=b("el-checkbox"),we=b("el-checkbox-group"),Q=b("el-input"),z=b("el-button"),gt=b("el-dialog"),Pe=b("el-card"),ee=b("el-form-item"),Se=b("el-option"),Be=b("el-select"),vt=b("el-form");return x(),k("div",gi,[o(Vt,{ModelName:"岸坡稳定性分析模型"}),t("div",vi,[t("div",yi,[t("div",_i,[t("div",bi,[t("input",{type:"radio",id:"radio-1",name:"tabs",checked:h.value,onClick:i[0]||(i[0]=u=>W())},null,8,xi),wi,t("input",{type:"radio",id:"radio-2",name:"tabs",checked:g.value,onClick:i[1]||(i[1]=u=>Oe())},null,8,Pi),Si,Bi])]),le(t("div",ki,[t("div",Ii,[t("div",Ri,[Di,t("div",Ci,F(c.value),1)]),t("div",Mi,[(x(!0),k(te,null,ie(f.value,(u,M)=>(x(),k("div",{class:"button",key:M,onClick:bs=>Je(M)},[t("div",null,F(u),1)],8,Vi))),128))])]),t("div",Ti,[Li,t("div",$i,[o(D,{style:{"max-height":"28vh",overflow:"auto"},data:et,props:me,onNodeContextmenu:Ke,"node-key":"nodeID"},{default:l(({node:u,data:M})=>[t("div",Fi,[o(T,{onCommand:Qe,trigger:"contextmenu",placement:"bottom-end",style:{width:"100%"}},He({default:l(()=>[t("div",Ui,F(u.label),1)]),_:2},[M.nodeID?{name:"dropdown",fn:l(()=>[o(R,null,{default:l(()=>[o(P,{command:"add"},{default:l(()=>[S("添加至图层")]),_:1})]),_:1})]),key:"0"}:void 0]),1024)])]),_:1},8,["data"])])]),t("div",Ai,[zi,t("div",ji,[t("div",Ni,[o(we,{modelValue:Ve.value,"onUpdate:modelValue":i[2]||(i[2]=u=>Ve.value=u),onChange:tt},{default:l(()=>[(x(!0),k(te,null,ie(Te.value,u=>(x(),N(K,{key:u,label:u,value:u},{default:l(()=>[S(F(u),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])])])],512),[[re,!p.value]]),le(t("div",Ei,[t("div",Hi,[Wi,t("div",Xi,[o(D,{style:{"max-width":"600px"},data:G,props:me,onNodeContextmenu:it,"node-key":"nodeID"},{default:l(({node:u,data:M})=>[t("div",qi,[o(T,{onCommand:st,trigger:"contextmenu",placement:"bottom-end",style:{width:"100%"}},He({default:l(()=>[t("div",Yi,F(u.label),1)]),_:2},[M.type==="dem"||M.type==="section-geojson"?{name:"dropdown",fn:l(()=>[o(R,null,{default:l(()=>[o(P,{command:"layer"},{default:l(()=>[S("添加至图层")]),_:1}),o(P,{command:"delete"},{default:l(()=>[S("删除")]),_:1})]),_:1})]),key:"0"}:void 0,M.type&&M.type!=="dem"&&M.type!=="section-geojson"?{name:"dropdown",fn:l(()=>[o(R,null,{default:l(()=>[o(P,{command:"visualize"},{default:l(()=>[S("可视化")]),_:1}),o(P,{command:"delete"},{default:l(()=>[S("删除")]),_:1})]),_:1})]),key:"1"}:void 0]),1032,["onCommand"])])]),_:1},8,["data"])])]),t("div",Oi,[Gi,t("div",Ji,[o(D,{style:{"max-width":"600px"},data:A.value,props:me,onNodeContextmenu:ot,"node-key":"nodeID","show-checkbox":"",onCheckChange:at},{default:l(({node:u,data:M})=>[t("div",Zi,[o(T,{onCommand:nt,trigger:"contextmenu",placement:"bottom-end",style:{width:"100%"}},{dropdown:l(()=>[o(R,null,{default:l(()=>[o(P,{command:"delete"},{default:l(()=>[S("删除图层")]),_:1})]),_:1})]),default:l(()=>[t("div",Ki,F(u.label),1)]),_:2},1032,["onCommand"])])]),_:1},8,["data"])])])],512),[[re,p.value]])]),o(gt,{modelValue:J.value,"onUpdate:modelValue":i[4]||(i[4]=u=>J.value=u),title:"绘制断面确认",width:"40vh","before-close":rt},{footer:l(()=>[t("div",Qi,[o(z,{onClick:dt},{default:l(()=>[S("取消")]),_:1}),o(z,{type:"primary",onClick:ut,disabled:!X.value.length},{default:l(()=>[S(" 确认 ")]),_:1},8,["disabled"])])]),default:l(()=>[o(Q,{modelValue:X.value,"onUpdate:modelValue":i[3]||(i[3]=u=>X.value=u),style:{width:"240px"},placeholder:"请输入断面名称"},null,8,["modelValue"])]),_:1},8,["modelValue"]),t("div",es,[t("div",ts,[t("div",{id:"map",ref_key:"mapContainerRef",ref:Me},null,512),is]),t("div",ss,[p.value?(x(),k("div",{key:0,class:"showAnalysisButton",onClick:ht}," 演变分析计算 ")):H("",!0)]),_e.value?(x(),k("div",os,[ns,t("div",as,[o(Pe,{style:{height:"300px","object-fit":"cover"}},{default:l(()=>[ls,t("div",rs,[o(z,{onClick:i[5]||(i[5]=u=>be("section-graph"))},{default:l(()=>[S("断面形态")]),_:1})])]),_:1}),o(Pe,{style:{height:"300px","object-fit":"cover"}},{default:l(()=>[ds,t("div",us,[o(z,{onClick:i[6]||(i[6]=u=>be("rate"))},{default:l(()=>[S("断面坡比")]),_:1})])]),_:1}),o(Pe,{style:{height:"300px","object-fit":"cover"}},{default:l(()=>[cs,t("div",hs,[o(z,{onClick:i[7]||(i[7]=u=>be("chongyu"))},{default:l(()=>[S("断面冲淤")]),_:1})])]),_:1})])])):H("",!0),Z.value?(x(),k("div",ms,[fs,o(vt,{ref_key:"paramsRef",ref:ye,rules:ct,model:C.value,"label-width":"auto",style:{width:"600px"}},{default:l(()=>[o(ee,{label:"结果名称",prop:"name"},{default:l(()=>[o(Q,{modelValue:C.value.name,"onUpdate:modelValue":i[8]||(i[8]=u=>C.value.name=u)},null,8,["modelValue"])]),_:1}),o(ee,{label:"地形断面",prop:"section"},{default:l(()=>[o(Be,{modelValue:C.value.section,"onUpdate:modelValue":i[9]||(i[9]=u=>C.value.section=u)},{default:l(()=>[(x(!0),k(te,null,ie($e.value,u=>(x(),N(Se,{key:u.label,label:u.label,value:u.nodeID},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(ee,{label:"当前地形数据",prop:"date"},{default:l(()=>[o(Be,{modelValue:C.value.date,"onUpdate:modelValue":i[10]||(i[10]=u=>C.value.date=u)},{default:l(()=>[(x(!0),k(te,null,ie(Fe.value,u=>(x(),N(Se,{key:u.label,label:u.label,value:u.nodeID},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(ee,{label:"对比地形数据",prop:"beforeDate"},{default:l(()=>[o(Be,{modelValue:C.value.beforeDate,"onUpdate:modelValue":i[11]||(i[11]=u=>C.value.beforeDate=u)},{default:l(()=>[(x(!0),k(te,null,ie(Fe.value,u=>(x(),N(Se,{key:u.label,label:u.label,value:u.nodeID},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(ee,null,{default:l(()=>[o(z,{type:"primary",onClick:i[12]||(i[12]=u=>mt(ye.value,Z.value))},{default:l(()=>[S("运行模型")]),_:1}),o(z,{onClick:i[13]||(i[13]=u=>ft(ye.value))},{default:l(()=>[S("取消")]),_:1})]),_:1})]),_:1},8,["rules","model"])])):H("",!0),le(t("div",ps,[t("div",{class:"close-icon",onClick:pt},"关闭"),t("div",{ref_key:"echartRef",ref:Ue,class:"chart"},null,512)],512),[[re,xe.value]]),n.value?(x(),N(zt,{key:2,onClose:i[14]||(i[14]=u=>n.value=!n.value),onCondition:Ge})):H("",!0),a.value?(x(),N(qt,{key:3,onClose:i[15]||(i[15]=u=>a.value=!a.value),onParams:Ze})):H("",!0),v.value?(x(),N(ri,{key:4,onClose:i[16]||(i[16]=u=>v.value=!v.value)})):H("",!0)])]),le(t("div",gs,[vs,t("div",{class:"back",onClick:i[17]||(i[17]=u=>{y.value=!y.value,h.value=!0,g.value=!1})}),ys],512),[[re,y.value]])])}}},Bs=ue(_s,[["__scopeId","data-v-09038cba"]]);export{Bs as default};
