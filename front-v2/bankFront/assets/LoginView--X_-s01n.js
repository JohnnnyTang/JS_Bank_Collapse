import{_ as m,b2 as g,f as u,z as h,o as S,c as w,a as e,N as b,B as v,b3 as p,P as y,p as V,e as k,a7 as i,v as x,Q as B}from"./index-BG6QDKbA.js";const n=l=>(V("data-v-4fce699d"),l=l(),k(),l),I={class:"login-view"},z=n(()=>e("div",{class:"overlay"},null,-1)),M={class:"login-card"},N=y('<div class="left-side" data-v-4fce699d><div class="login-pic" data-v-4fce699d></div><div class="title-block" data-v-4fce699d><span class="font" style="font-size:calc(1.4vw + 1.4vh);" data-v-4fce699d>江苏省长江崩岸</span><br data-v-4fce699d><span class="font" style="font-size:calc(1.3vw + 1.3vh);" data-v-4fce699d>监测预警应用系统</span></div></div>',1),U={class:"right-side"},E=n(()=>e("div",{class:"login-title"},"用户登录",-1)),L=n(()=>e("button",{class:"form-btn"},"登录",-1)),q={__name:"LoginView",setup(l){const c=g(),a=u(""),o=u(""),d=()=>{c.loginStatus=!1,i.error("登录失败,请检查用户名或密码")},f=()=>{c.loginStatus=!0,i.success("登录成功")},_=()=>{if(a.value.trim()===""||o.value.trim()===""){i.info("用户名或密码不能为空");return}const r={email:a.value,password:o.value};x.post("/api/user/login",r).then(s=>{let t;(t=s.data)?(localStorage.setItem("token",t),f(),B.push("/dataVisual")):d()}).catch(s=>{d()})};return h(()=>{a.value="",o.value=""}),(r,s)=>(S(),w("div",I,[z,e("div",M,[N,e("div",U,[E,e("form",{class:"login-form",onSubmit:s[2]||(s[2]=b(t=>_(),["prevent"]))},[v(e("input",{type:"username","onUpdate:modelValue":s[0]||(s[0]=t=>a.value=t),class:"input",placeholder:"用户名",style:{"margin-top":"5.5vh"}},null,512),[[p,a.value]]),v(e("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=t=>o.value=t),class:"input",placeholder:"密码"},null,512),[[p,o.value]]),L],32)])])]))}},F=m(q,[["__scopeId","data-v-4fce699d"]]);export{F as default};
