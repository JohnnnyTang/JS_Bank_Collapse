import{h as S}from"./bankResource-CVeTDWzE.js";import{_ as E,a8 as y,e as L,h as M,i,o as n,c as r,a as t,P as Y,b as d,w as h,au as C,ao as D,a5 as F,aa as T,F as f,r as w,j as O,t as g,k as _,p as j,d as H}from"./index-DRNhdQF1.js";const k=u=>(j("data-v-cef52655"),u=u(),H(),u),q={class:"bank-resouce-create-container"},P=k(()=>t("div",{class:"main-title"},"新建岸段 ",-1)),A={class:"content"},G={class:"desc-box-container"},J={class:"detail-content-container"},K={class:"bank-name"},Q=k(()=>t("div",{class:"bankName-key"},"岸段名称",-1)),W={class:"bankName-val"},X={class:"detail-key"},Z={class:"detail-val"},$={style:{width:"100%","text-align":"center"}},ee={key:2,class:"full"},ae=k(()=>t("div",{style:{"margin-top":"20vh"}},null,-1)),te={__name:"BankResourceCreate",emits:["refresh-bank-list"],setup(u,{emit:V}){const b=V,x=["I 级预警岸段","Ⅱ 级预警岸段","Ⅲ 级预警岸段"],o=y({name:"",bankEnName:""}),c=y({lng:"",lat:""}),m=L(S),B=async()=>{if(Object.values(o).some(e=>e===""||e===null||e===void 0)){C({type:"error",message:"请填写完整的岸段信息",offset:120});return}D.confirm("确认创建新的岸段？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"info"}).then(async()=>{console.log(m.value);let e=m.value,s=[parseFloat(c.lng),parseFloat(c.lat)],p={bank:o.bankEnName,name:o.name,riskLevel:e[0].val,center:s,monitorLength:e[2].val,monitorStartTime:e[3].val?e[3].val.toISOString():new Date().toISOString(),introduction:e[4].val,management:{department:e[5].val,contact:e[6].val}};const v=(await F.createNewBank(o.bankEnName,p)).data;T.success({title:v,offset:120}),b("refresh-bank-list",!0)}).catch(e=>{console.log("取消创建岸段",e)})};return M(()=>{}),(N,e)=>{const s=i("el-input"),p=i("el-option"),v=i("el-select"),R=i("el-date-picker"),z=i("el-scrollbar");return n(),r("div",q,[P,t("div",A,[t("div",G,[t("div",{class:"title-container"},[Y("岸段基本信息 "),t("div",{class:"upload-btn",onClick:B},"新建")]),d(z,{height:"77vh"},{default:h(()=>[t("div",J,[t("div",K,[Q,t("div",W,[d(s,{modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=a=>o.name=a),class:"necessary no-number",style:{width:"50%",height:"100%","font-size":"calc(0.6vw + 0.6vh)"},placeholder:"请输入岸段名称",type:"text",autosize:{minRows:4,maxRows:6}},null,8,["modelValue"]),d(s,{modelValue:o.bankEnName,"onUpdate:modelValue":e[1]||(e[1]=a=>o.bankEnName=a),class:"necessary no-number",style:{width:"50%",height:"100%","font-size":"calc(0.6vw + 0.6vh)"},placeholder:"请输入名称编码",type:"text",autosize:{minRows:4,maxRows:6}},null,8,["modelValue"])])]),(n(!0),r(f,null,w(m.value,(a,U)=>(n(),r("div",{class:O(["detail-box-item",a.type]),key:U},[t("div",X,g(a.key),1),t("div",Z,[a.key==="预警级别"?(n(),_(v,{key:0,modelValue:a.val,"onUpdate:modelValue":l=>a.val=l,placeholder:"请选择预警级别",style:{width:"100%",height:"100%","font-size":"calc(0.6vw + 0.6vh)"}},{default:h(()=>[(n(),r(f,null,w(x,(l,I)=>d(p,{key:I,value:l},{default:h(()=>[t("span",$,g(l),1)]),_:2},1032,["value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])):a.key==="监测起始时间"?(n(),_(R,{key:1,modelValue:a.val,"onUpdate:modelValue":l=>a.val=l,type:"date",placeholder:"请选择监测起始时间",format:"YYYY-MM-DD","date-format":"MMM DD, YYYY"},null,8,["modelValue","onUpdate:modelValue"])):a.key==="中心坐标"?(n(),r("div",ee,[d(s,{modelValue:c.lng,"onUpdate:modelValue":e[2]||(e[2]=l=>c.lng=l),style:{width:"50%",height:"100%","font-size":"calc(0.6vw + 0.6vh)"},placeholder:"请输入经度",type:"number",step:1e-7,autosize:{minRows:4,maxRows:6}},null,8,["modelValue"]),d(s,{modelValue:c.lat,"onUpdate:modelValue":e[3]||(e[3]=l=>c.lat=l),style:{width:"50%",height:"100%","font-size":"calc(0.6vw + 0.6vh)"},placeholder:"请输入纬度",type:"number",step:1e-7,autosize:{minRows:4,maxRows:6}},null,8,["modelValue"])])):(n(),_(s,{key:3,modelValue:a.val,"onUpdate:modelValue":l=>a.val=l,style:{width:"100%",height:"100%","font-size":"calc(0.6vw + 0.6vh)"},placeholder:"请输入"+a.key,type:a.type.includes("long-text")?"textarea":"text",autosize:{minRows:4,maxRows:6}},null,8,["modelValue","onUpdate:modelValue","placeholder","type"]))])],2))),128)),ae])]),_:1})])])])}}},ne=E(te,[["__scopeId","data-v-cef52655"]]);export{ne as default};
