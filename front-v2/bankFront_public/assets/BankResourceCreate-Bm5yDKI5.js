import{h as U}from"./bankResource-IHSSRSxs.js";import{_ as E,a8 as I,e as M,h as z,i as c,o as n,c as r,a,P as S,b as u,w as k,au as Y,ao as C,a5 as D,aa as F,F as b,r as w,j as T,t as V,k as y,p as j,d as H}from"./index-DHCVlJMm.js";const f=d=>(j("data-v-813a4cb9"),d=d(),H(),d),O={class:"bank-resouce-create-container"},q=f(()=>a("div",{class:"main-title"},"新建岸段 ",-1)),P={class:"content"},A={class:"desc-box-container"},G={class:"detail-content-container"},J={class:"bank-name"},K=f(()=>a("div",{class:"bankName-key"},"岸段名称",-1)),Q={class:"bankName-val"},W={class:"detail-key"},X={class:"detail-val"},Z={style:{width:"100%","text-align":"center"}},$=f(()=>a("div",{style:{"margin-top":"20vh"}},null,-1)),ee={__name:"BankResourceCreate",emits:["refresh-bank-list"],setup(d,{emit:g}){const x=g,B=["I 级预警岸段","Ⅱ 级预警岸段","Ⅲ 级预警岸段"],s=I({name:"",bankEnName:""}),p=M(U),N=async()=>{if(Object.values(s).some(o=>o===""||o===null||o===void 0)){Y({type:"error",message:"请填写完整的岸段信息",offset:120});return}C.confirm("确认创建新的岸段？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"info"}).then(async()=>{console.log(p.value);const o=v=>{const i=v.slice(1,-1).split(","),e=parseFloat(i[0]),h=parseFloat(i[1]);return[e,h]};let t=p.value,m={bank:s.bankEnName,name:s.name,riskLevel:t[0].val,center:o(t[1].val),monitorLength:t[2].val,monitorStartTime:t[3].val.toISOString(),introduction:t[4].val,management:{department:t[5].val,contact:t[6].val}};const _=(await D.createNewBank(s.bankEnName,m)).data;F.success({title:_,offset:120}),x("refresh-bank-list",!0)}).catch(()=>{console.log("取消创建岸段")})};return z(()=>{}),(L,o)=>{const t=c("el-input"),m=c("el-option"),_=c("el-select"),v=c("el-date-picker"),i=c("el-scrollbar");return n(),r("div",O,[q,a("div",P,[a("div",A,[a("div",{class:"title-container"},[S("岸段基本信息 "),a("div",{class:"upload-btn",onClick:N},"新建")]),u(i,{height:"77vh"},{default:k(()=>[a("div",G,[a("div",J,[K,a("div",Q,[u(t,{modelValue:s.name,"onUpdate:modelValue":o[0]||(o[0]=e=>s.name=e),class:"necessary",style:{width:"50%",height:"100%","font-size":"calc(0.6vw + 0.6vh)"},placeholder:"请输入岸段名称",type:"text",autosize:{minRows:4,maxRows:6}},null,8,["modelValue"]),u(t,{modelValue:s.bankEnName,"onUpdate:modelValue":o[1]||(o[1]=e=>s.bankEnName=e),class:"necessary",style:{width:"50%",height:"100%","font-size":"calc(0.6vw + 0.6vh)"},placeholder:"请输入名称编码",type:"text",autosize:{minRows:4,maxRows:6}},null,8,["modelValue"])])]),(n(!0),r(b,null,w(p.value,(e,h)=>(n(),r("div",{class:T(["detail-box-item",e.type]),key:h},[a("div",W,V(e.key),1),a("div",X,[e.key==="预警级别"?(n(),y(_,{key:0,modelValue:e.val,"onUpdate:modelValue":l=>e.val=l,placeholder:"请选择预警级别",style:{width:"100%",height:"100%","font-size":"calc(0.6vw + 0.6vh)"}},{default:k(()=>[(n(),r(b,null,w(B,(l,R)=>u(m,{key:R,value:l},{default:k(()=>[a("span",Z,V(l),1)]),_:2},1032,["value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])):e.key==="监测起始时间"?(n(),y(v,{key:1,modelValue:e.val,"onUpdate:modelValue":l=>e.val=l,type:"date",placeholder:"请选择监测起始时间",format:"YYYY-MM-DD","date-format":"MMM DD, YYYY"},null,8,["modelValue","onUpdate:modelValue"])):(n(),y(t,{key:2,modelValue:e.val,"onUpdate:modelValue":l=>e.val=l,style:{width:"100%",height:"100%","font-size":"calc(0.6vw + 0.6vh)"},placeholder:e.key==="中心坐标"?"请输入坐标: [经度,维度]":"请输入"+e.key,type:e.type.includes("long-text")?"textarea":"text",autosize:{minRows:4,maxRows:6}},null,8,["modelValue","onUpdate:modelValue","placeholder","type"]))])],2))),128)),$])]),_:1})])])])}}},oe=E(ee,[["__scopeId","data-v-813a4cb9"]]);export{oe as default};
