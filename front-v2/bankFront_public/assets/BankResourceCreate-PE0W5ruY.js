import{a as b}from"./bankResource-CZ5l-OHY.js";import{B as N}from"./bankResourceHelper-pbiR2aQY.js";import{_ as w,a5 as x,f as l,h as B,i as g,o as r,c as u,a,D as V,b as m,F as R,r as E,as as v,am as L,a7 as z,j as I,t as C,p as U,e as F}from"./index-9_XIwmWN.js";const _=n=>(U("data-v-708845cd"),n=n(),F(),n),M={class:"bank-resouce-create-container"},S=_(()=>a("div",{class:"main-title"},"新建岸段 ",-1)),T={class:"content"},j={class:"desc-box-container"},D={class:"detail-content-container"},H={class:"bank-name"},q=_(()=>a("div",{class:"bankName-key"},"岸段名称",-1)),O={class:"bankName-val"},A={class:"detail-key"},G={class:"detail-val"},J={__name:"BankResourceCreate",setup(n){const s=x({name:"",bankEnName:""}),c=l(b),h=async()=>{if(Object.values(s).some(t=>t===""||t===null||t===void 0)){v({type:"error",message:"请填写完整的岸段信息",offset:120});return}L.confirm("确认创建新的岸段？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"info"}).then(async()=>{console.log(c.value);const t=d=>{const p=d.slice(1,-1).split(","),f=parseFloat(p[0]),y=parseFloat(p[1]);return[f,y]};let o=c.value,e={bank:s.bankEnName,name:s.name,riskLevel:o[0].val,center:t(o[1].val),introduction:o[2].val,management:{department:o[3].val,contact:o[4].val}};const i=(await N.createNewBank(s.bankEnName,e)).data;z.success({title:i,offset:120}),v({type:"success",offset:120,message:"创建成功"})}).catch(()=>{console.log("取消创建岸段")})};return l(!1),l("资源上传"),l([{label:"岸段",enName:"segment",value:s.name},{label:"年份",enName:"year",value:"2023"},{label:"工况集",enName:"set",value:"standard"},{label:"备注",enName:"description",value:""},{label:"边界",enName:"",value:""}]),B(()=>{}),(k,t)=>{const o=g("el-input");return r(),u("div",M,[S,a("div",T,[a("div",j,[a("div",{class:"title-container"},[V("岸段基本信息 "),a("div",{class:"upload-btn",onClick:h},"新建")]),a("div",D,[a("div",H,[q,a("div",O,[m(o,{modelValue:s.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e),style:{width:"50%",height:"100%","font-size":"calc(0.6vw + 0.6vh)"},placeholder:"请输入岸段名称",type:"text",autosize:{minRows:4,maxRows:6}},null,8,["modelValue"]),m(o,{modelValue:s.bankEnName,"onUpdate:modelValue":t[1]||(t[1]=e=>s.bankEnName=e),style:{width:"50%",height:"100%","font-size":"calc(0.6vw + 0.6vh)"},placeholder:"请输入名称编码",type:"text",autosize:{minRows:4,maxRows:6}},null,8,["modelValue"])])]),(r(!0),u(R,null,E(c.value,(e,i)=>(r(),u("div",{class:I(["detail-box-item",e.type]),key:i},[a("div",A,C(e.key),1),a("div",G,[m(o,{modelValue:e.val,"onUpdate:modelValue":d=>e.val=d,style:{width:"100%",height:"100%","font-size":"calc(0.6vw + 0.6vh)"},placeholder:e.key==="中心坐标"?"请输入坐标: [经度,维度]":"请输入"+e.key,type:e.type.includes("long-text")?"textarea":"text",autosize:{minRows:4,maxRows:6}},null,8,["modelValue","onUpdate:modelValue","placeholder","type"])])],2))),128))])])])])}}},W=w(J,[["__scopeId","data-v-708845cd"]]);export{W as default};
