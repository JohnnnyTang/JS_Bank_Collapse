import{c as R}from"./util-CdhLeOup.js";import{_ as E,f as n,h as F,w as P,i as g,A as Y,o as s,c as r,a as e,b,d as f,D as p,t as _,u as A,aY as M,F as T,r as U,k as q,B as z,O as H,Y as J}from"./index-9_XIwmWN.js";const K={class:"riskInfo-container"},Q={class:"riskInfo-title"},W={class:"riskInfo-item profileShape"},X={class:"item-title"},Z={class:"profile-selector-container"},$={class:"profile-name-text"},ee={class:"graph-container shape"},te={key:0,class:"empty-graph"},oe={class:"text-info-container"},ae={class:"text-info-block"},se={class:"text-info-item"},le={style:{color:"rgb(226, 80, 80)"}},ne={class:"text-info-block"},re={class:"text-info-item"},ce={key:0,style:{color:"rgb(226, 80, 80)"}},ie={key:1,style:{color:"rgb(226, 80, 80)"}},pe={key:2,style:{color:"rgb(226, 80, 80)"}},de={key:3,style:{color:"rgb(226, 80, 80)"}},_e={class:"text-info-block"},he={class:"text-info-item"},fe={style:{color:"rgb(226, 80, 80)"}},ue={__name:"profileShapeCompare",props:{profileData:{type:Object},profileDataCompare:{type:Object},profileList:{type:Object},shapeChartLoad:{type:Boolean}},emits:["profileValueChange"],setup(S,{emit:L}){const V=n([3.575,4.725,2.675,5.025,4.7,5.65,3.375,3.15,4.325,3.85,1.275,.975]),I=n([38.27,32.72,33.56,30.84,34.94,32.88,33.65,31.45,28.53,27.61,27.01,25.73]),B=n(["1/4.1","1/3.9","1/4.0","1/6.3","1/3.9","1/3.3","1/3.1","1/3.1","1/6.5","1/7.9","1/11.3","1/11.0"]),u=n(!1),v=n(null);let h=null,y,k,C,x;const O=L,a=n(8),D=n(""),c=S,m=()=>{O("profileValueChange",a.value),u.value=!1;const o=c.profileData[a.value-1],l=c.profileDataCompare[a.value-1],d=c.profileList[a.value-1];D.value=d.name;try{y=o.section.map(t=>t[2]<-999?null:t[2]),k=o.beforeSection.map(t=>t[2]<-999?null:t[2]),C=l.section.map(t=>t[2]<-999?null:t[2]),x=l.beforeSection.map(t=>t[2]<-999?null:t[2])}catch{w([],[],[],[]),u.value=!0;return}w(y,k,C,x)},G=()=>{var o=h.getOption();o.legend[0].selected["1999年地形"]=!o.legend[0].selected["1999年地形"],o.legend[0].selected["2012年地形"]=!o.legend[0].selected["2012年地形"],o.legend[0].selected["2019年地形"]=!o.legend[0].selected["2019年地形"],h.setOption(o)},w=(o,l,d,t)=>{h=J(v.value),R(h,o,l,d,t)};return F(()=>{m()}),P(()=>c.profileData,()=>{m()}),(o,l)=>{const d=g("dv-border-box2"),t=g("el-option"),N=g("el-select"),j=Y("loading");return s(),r("div",K,[e("div",Q,[b(d,{color:["rgb(63, 36, 214)","#0c60af"]},{default:f(()=>[p(" 岸坡断面形态变化 ")]),_:1})]),e("div",W,[e("div",X,_(D.value),1),b(A(M),{placement:"bottom-start",content:"其他年份地形",width:100,trigger:"hover"},{reference:f(()=>[e("div",{class:"profile-show-container",onClick:G})]),_:1}),e("div",Z,[b(N,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=i=>a.value=i),placeholder:"选择断面",style:{width:"10vw",height:"3.5vh"},onChange:m,"popper-class":"profile-popper"},{default:f(()=>[(s(!0),r(T,null,U(c.profileList,i=>(s(),q(t,{key:i.value,label:i.label,value:i.value},{default:f(()=>[e("span",$,_(i.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",{ref_key:"shapeGraphRef",ref:v,class:"shape graph","element-loading-background":"rgba(214, 235, 255,0.8)"},null,512),e("div",ee,[z(e("div",{ref_key:"shapeGraphRef",ref:v,class:"shape graph","element-loading-background":"rgba(255, 255, 255, 0.4)"},null,512),[[j,c.shapeChartLoad]]),u.value?(s(),r("div",te," 当前暂无地形数据 ")):H("",!0)])]),e("div",oe,[e("div",ae,[e("div",se,[p(" 2023年该断面滩槽高程为 "),e("span",le,_(I.value[a.value-1]),1),p(" m ")])]),e("div",ne,[e("div",re,[p(" 2023年断面最大岸坡坡比为 "),a.value-1===5?(s(),r("span",ce,"1 / 1.7")):a.value-1===6?(s(),r("span",ie,"1 / 1.8")):a.value-1===7?(s(),r("span",pe,"1 / 2.2")):(s(),r("span",de,_(B.value[a.value-1]),1))])]),e("div",_e,[e("div",he,[p(" 1999~2023年断面年最大冲刷幅度为 "),e("span",fe,_(V.value[a.value-1]),1),p(" m/年 ")])])])])}}},ge=E(ue,[["__scopeId","data-v-73a54d90"]]);export{ge as default};
