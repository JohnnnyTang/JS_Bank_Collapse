const __vite__fileDeps=["assets/riskResult-OKTgrV3w.js","assets/index-6YJPzaKF.js","assets/index-DAVdyPvc.css","assets/riskResult-ATSSiHG3.css","assets/flowspeedInfo-driJ8bmV.js","assets/util-CdhLeOup.js","assets/flowspeedInfo-BKHeoSfn.css","assets/profileInfo-BNoDUhO-.js","assets/profileInfo-V_w5SQ9g.css","assets/profileShapeCompare-K_3EjY-G.js","assets/profileShapeCompare-BlwgbW8Y.css","assets/profileSlope-C2cWxT40.js","assets/profileSlope-BElbQp6g.css","assets/profileErosion-qVx0vm--.js","assets/profileErosion-CF4DUzMW.css","assets/BedFlowChart-upZkfoVh.js","assets/BedFlowChart-CVy3bx83.css","assets/WaterProcessChart-DZDHhUXS.js","assets/WaterProcessChart-_RqpagCP.css","assets/GeologyAndProject-B3An4egS.js","assets/GeologyAndProject-BdX_dTSd.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{aR as Gt,aS as Nr,as as jt,v as n0,ad as qt,f as Me,h as St,i as J0,o as r0,c as u0,b as o0,w as d0,a as M,t as w0,y as be,_ as kt,J as Pe,au as Q0,T as Yt,W as j,ax as V0,e as g,ay as Zt,a8 as Ve,az as Kt,a1 as Xe,ab as zr,aT as We,aU as Ge,x as N0,A as $t,B as Jt,j as $0,k as y0,O as i0,P as ee,u as R0,C as je,D as Or,F as qe,a5 as Ir,aa as gr,g as Qt,r as Hr,p as ea,d as ra,aV as X0,aC as W0}from"./index-6YJPzaKF.js";import{H as ta}from"./HideDomButtom-D0XVrp6Y.js";import{F as aa}from"./FlowFieldController-CClZrjyg.js";import"./resourceStore-B7A3xz-y.js";import{M as ia}from"./mapbox-gl-draw-BFMadJRs.js";/* empty css                       */import{_ as oa}from"./__vite-browser-external-D7Ct-6yo.js";import{a as na}from"./realtimeWaterCondition-BmZvMAbM.js";function sa(u=5){function e(i,p){return[(i[0]+p[0])/2,(i[1]+p[1])/2]}const a=[],r=[],o=new Map;function v(i){const p=i.join("-");return o.has(p)||o.set(p,r.length/2),r.push(i[0]),r.push(i[1]),i}const C=v([0,1]),s=v([0,0]),E=v([1,1]),t=v([1,0]),n={fst:C,snd:s,ted:t,level:0},B={fst:t,snd:E,ted:C,level:0},x=[];x.push(n),x.push(B);const f=[];for(;x.length;){const i=x.pop(x);if(i.level>=u){f.push(i);continue}const p=i.fst,d=i.snd,A=i.ted,c=v(e(p,A));x.push({fst:p,snd:c,ted:d,level:i.level+.5}),x.push({fst:A,snd:c,ted:d,level:i.level+.5})}return f.forEach(i=>{const p=i.fst.join("-"),d=i.snd.join("-"),A=i.ted.join("-");a.push(o.get(p)),a.push(o.get(d)),a.push(o.get(A))}),{positions:r,indices:a}}class Ye{constructor(e=0,a=0,r=void 0){this.parent=r,this.level=e,this.id=a,this.size=180/Math.pow(2,e);const o=this.id%4,v=(this.parent?this.parent.bBox.boundary.x:-180)+o%2*this.size,C=v+this.size,s=(this.parent?this.parent.bBox.boundary.y:-90)+Math.floor(o/2)*this.size,E=s+this.size;this.bBox=new Gt(v,s,C,E),this.children=[]}release(){return this.bBox=this.bBox.release(),this.children=null,this.parent=null,this.level=null,this.size=null,this.id=null,null}isSubdividable(e){const a=this.bBox.center,r=Math.ceil(Math.abs(a[0]-e.cameraPos[0])/this.size),o=Math.ceil(Math.abs(a[1]-e.cameraPos[1])/this.size);return Math.max(r,o)<=2}}class Vr{constructor(e){this.type="custom",this.map=void 0,this.id="TerrainLayer",this.renderingMode="3d",this.asLine=!1,this.nodeCount=0,this.maxLevel=e,this.maxNodeCount=1e3,this.sectorSize=32,this.sectorRange=[0,0],this.exaggeration=50,this.tileBox=Nr(),this.lodMapSize=[512,512],this.visibleNodeLevel=[0,this.maxLevel],this.elevationRange=[-80.06899999999999,4.3745],this.boundaryCondition=Nr(120.04373606134682,31.173901952209487,121.96623240116922,32.08401085804678),this.nodeLevelArray=new Uint32Array(this.maxNodeCount),this.nodeBoxArray=new Float32Array(this.maxNodeCount*4),this.interval=5,this.color=[0,0,0],this.indexNum=0}onAdd(e,a){this.map=e;const{positions:r,indices:o}=sa(Math.log2(this.sectorSize));this.positionArray=new Float32Array(r),this.indexNum=o.length,this.indexTextureSize=Math.ceil(Math.sqrt(o.length)),this.positionTextureSize=Math.ceil(Math.sqrt(r.length/2)),this.indexTextureArray=new Uint32Array(this.indexTextureSize*this.indexTextureSize),o.forEach((E,t)=>{this.indexTextureArray[t]=E}),this.positionTextureArray=new Float32Array(this.positionTextureSize*this.positionTextureSize*2),r.forEach((E,t)=>{this.positionTextureArray[t]=E});const v=new jt,C=v.addFolder("Contour");C.add(this,"interval",.1,20).onChange(()=>this.map.triggerRepaint()),C.addColor(this,"color").onChange(()=>this.map.triggerRepaint()),C.open();const s=v.addFolder("Terrain");s.add(this,"asLine",!1).onChange(()=>this.map.triggerRepaint()),s.add(this,"exaggeration",1,100).onChange(()=>this.map.triggerRepaint()),s.add(this,"maxLevel",14,20,1).onChange(()=>this.map.triggerRepaint()),s.open(),v.hide(),this.init(a)}async init(e){this.isInitialized=!1,xa(e),this.canvasWidth=e.canvas.width,this.canvasHeight=e.canvas.height,this.normalShader=await _e(e,"/scratchSomething/terrainWebGL/shader/normal.glsl"),this.lodMapShader=await _e(e,"/scratchSomething/terrainWebGL/shader/lodMap.glsl"),this.dLodMapShader=await _e(e,"/scratchSomething/terrainWebGL/shader/dLodMap.glsl"),this.terrainLineShader=await _e(e,"/scratchSomething/terrainWebGL/shader/terrainMeshLine.glsl"),this.terrainMeshShader=await _e(e,"/scratchSomething/terrainWebGL/shader/terrainMesh.glsl"),this.terrainShader=this.asLine?this.terrainLineShader:this.terrainMeshShader,this.showShader=await _e(e,"/scratchSomething/terrainWebGL/shader/terrainLayer.glsl");const a=await Wr("/scratchSomething/terrainWebGL/image/dem.png"),r=await Wr("/scratchSomething/terrainWebGL/image/contourPalette1D.png");this.demTexture=T0(e,a.width,a.height,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,a),this.paletteTexture=T0(e,r.width,r.height,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r),this.boxTexture=T0(e,this.nodeBoxArray.length/4,1,e.RGBA32F,e.RGBA,e.FLOAT,this.nodeBoxArray),this.levelTexture=T0(e,this.nodeLevelArray.length,1,e.R32UI,e.RED_INTEGER,e.UNSIGNED_INT,this.nodeLevelArray),this.indexTexture=T0(e,this.indexTextureSize,this.indexTextureSize,e.R32UI,e.RED_INTEGER,e.UNSIGNED_INT,this.indexTextureArray),this.positionTexture=T0(e,this.positionTextureSize,this.positionTextureSize,e.RG32F,e.RG,e.FLOAT,this.positionTextureArray),this.normalTexture=T0(e,a.width,a.height,e.RGB8,e.RGB,e.UNSIGNED_BYTE);const o=Ue(e,[this.normalTexture]);e.bindFramebuffer(e.FRAMEBUFFER,o),e.viewport(0,0,a.width,a.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.useProgram(this.normalShader),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.demTexture),e.uniform1i(e.getUniformLocation(this.normalShader,"demTexture"),0),e.uniform1f(e.getUniformLocation(this.normalShader,"exaggeration"),this.exaggeration),e.uniform2fv(e.getUniformLocation(this.normalShader,"e"),new Float32Array(this.elevationRange)),e.drawArrays(e.TRIANGLE_STRIP,0,4),this.lodMapTexture=T0(e,this.lodMapSize[0],this.lodMapSize[1],e.R32UI,e.RED_INTEGER,e.UNSIGNED_INT),this.dLodMapTexture=T0(e,this.lodMapSize[0],this.lodMapSize[1],e.R32UI,e.RED_INTEGER,e.UNSIGNED_INT),this.layerDepthTexture=T0(e,this.canvasWidth,this.canvasHeight,e.DEPTH_COMPONENT24,e.DEPTH_COMPONENT,e.UNSIGNED_INT),this.layerTexture=T0(e,this.canvasWidth,this.canvasHeight,e.RGBA32F,e.RGBA,e.FLOAT),this.layerTextureMaxMipLevel=fa(this.canvasWidth,this.canvasHeight),this.layerRenderBuffer=ca(e,this.canvasWidth,this.canvasHeight),this.lodMapPass=Ue(e,[this.lodMapTexture]),this.dLodMapPass=Ue(e,[this.dLodMapTexture]),this.layerPass=Ue(e,[this.layerTexture],this.layerDepthTexture),this.isInitialized=!0}render(e,a){if(!this.isInitialized)return;this.map.update(),this.registerRenderableNode({cameraPos:this.map.mercatorCenter.toLngLat().toArray(),cameraBounds:this.map.cameraBounds,zoomLevel:this.map.getZoom()}),Xr(e,this.boxTexture,this.nodeBoxArray.length/4,1,e.RGBA32F,e.RGBA,e.FLOAT,this.nodeBoxArray),Xr(e,this.levelTexture,this.nodeLevelArray.length,1,e.R32UI,e.RED_INTEGER,e.UNSIGNED_INT,this.nodeLevelArray),e.bindFramebuffer(e.FRAMEBUFFER,this.lodMapPass),e.viewport(0,0,this.lodMapSize[0],this.lodMapSize[1]);const r=new Uint32Array([0,0,0,0]);e.clearBufferuiv(e.COLOR,0,r),e.useProgram(this.lodMapShader),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.boxTexture),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.levelTexture),e.uniform1i(e.getUniformLocation(this.lodMapShader,"boxTexture"),0),e.uniform1i(e.getUniformLocation(this.lodMapShader,"levelTexture"),1),e.uniform2fv(e.getUniformLocation(this.lodMapShader,"dimensions"),new Float32Array(this.lodMapSize)),e.uniform2fv(e.getUniformLocation(this.lodMapShader,"sectorRange"),new Float32Array(this.sectorRange)),e.uniform4fv(e.getUniformLocation(this.lodMapShader,"tileBox"),new Float32Array(this.tileBox.boundary.xyzw)),e.drawArraysInstanced(e.TRIANGLE_STRIP,0,4,this.nodeCount),e.bindFramebuffer(e.FRAMEBUFFER,this.dLodMapPass),e.viewport(0,0,this.lodMapSize[0],this.lodMapSize[1]),e.clearBufferuiv(e.COLOR,0,new Uint32Array([0,0,0,0])),e.useProgram(this.dLodMapShader),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.lodMapTexture),e.uniform1i(e.getUniformLocation(this.lodMapShader,"lodMap"),0),e.drawArrays(e.TRIANGLE_STRIP,0,4),this.terrainShader=this.asLine?this.terrainLineShader:this.terrainMeshShader,e.bindFramebuffer(e.FRAMEBUFFER,this.layerPass),e.viewport(0,0,this.canvasWidth,this.canvasHeight),e.clearColor(1e3,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.enable(e.DEPTH_TEST),e.disable(e.BLEND),e.useProgram(this.terrainShader),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.indexTexture),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.positionTexture),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,this.levelTexture),e.activeTexture(e.TEXTURE3),e.bindTexture(e.TEXTURE_2D,this.boxTexture),e.activeTexture(e.TEXTURE4),e.bindTexture(e.TEXTURE_2D,this.dLodMapTexture),e.activeTexture(e.TEXTURE5),e.bindTexture(e.TEXTURE_2D,this.demTexture),e.activeTexture(e.TEXTURE6),e.bindTexture(e.TEXTURE_2D,this.normalTexture),e.uniform1i(e.getUniformLocation(this.terrainShader,"indicesTexture"),0),e.uniform1i(e.getUniformLocation(this.terrainShader,"positionsTexture"),1),e.uniform1i(e.getUniformLocation(this.terrainShader,"levelTexture"),2),e.uniform1i(e.getUniformLocation(this.terrainShader,"boxTexture"),3),e.uniform1i(e.getUniformLocation(this.terrainShader,"dLodMap"),4),e.uniform1i(e.getUniformLocation(this.terrainShader,"demTexture"),5),e.uniform1i(e.getUniformLocation(this.terrainShader,"normalTexture"),6),e.uniform1f(e.getUniformLocation(this.terrainShader,"sectorSize"),this.sectorSize),e.uniform1f(e.getUniformLocation(this.terrainShader,"worldSize"),this.map.WORLD_SIZE),e.uniform1f(e.getUniformLocation(this.terrainShader,"exaggeration"),this.exaggeration),e.uniform2fv(e.getUniformLocation(this.terrainShader,"centerHigh"),this.map.centerHigh),e.uniform2fv(e.getUniformLocation(this.terrainShader,"centerLow"),this.map.centerLow),e.uniform1f(e.getUniformLocation(this.terrainShader,"maxLodLevel"),this.maxVisibleNodeLevel),e.uniform1f(e.getUniformLocation(this.terrainShader,"maxMipLevel"),this.layerTextureMaxMipLevel),e.uniform2fv(e.getUniformLocation(this.terrainShader,"e"),new Float32Array(this.elevationRange)),e.uniform2fv(e.getUniformLocation(this.terrainShader,"sectorRange"),new Float32Array(this.sectorRange)),e.uniform4fv(e.getUniformLocation(this.terrainShader,"tileBox"),new Float32Array(this.tileBox.boundary.xyzw)),e.uniform4fv(e.getUniformLocation(this.terrainShader,"terrainBox"),new Float32Array(this.boundaryCondition.boundary.xyzw)),e.uniformMatrix4fv(e.getUniformLocation(this.terrainShader,"uMatrix"),!1,this.map.relativeEyeMatrix),this.asLine?e.drawArraysInstanced(e.LINES,0,this.indexNum/3*6,this.nodeCount):e.drawArraysInstanced(e.TRIANGLES,0,this.indexNum,this.nodeCount),e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,e.canvas.width,e.canvas.height),e.disable(e.DEPTH_TEST),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.useProgram(this.showShader),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.layerTexture),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.paletteTexture),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,this.layerDepthTexture),e.activeTexture(e.TEXTURE3),e.bindTexture(e.TEXTURE_2D,this.normalTexture),e.activeTexture(e.TEXTURE4),e.bindTexture(e.TEXTURE_2D,this.lodMapTexture),e.uniform1i(e.getUniformLocation(this.showShader,"srcTexture"),0),e.uniform1i(e.getUniformLocation(this.showShader,"paletteTexture"),1),e.uniform1i(e.getUniformLocation(this.showShader,"depthTexture"),2),e.uniform1i(e.getUniformLocation(this.showShader,"normalTexture"),3),e.uniform1i(e.getUniformLocation(this.showShader,"lodMapTexture"),4),e.uniform1f(e.getUniformLocation(this.showShader,"interval"),this.interval),e.uniform1f(e.getUniformLocation(this.showShader,"asLine"),this.asLine?1:0),e.uniform1f(e.getUniformLocation(this.showShader,"maxMipLevel"),this.layerTextureMaxMipLevel),e.uniform2fv(e.getUniformLocation(this.showShader,"e"),new Float32Array(this.elevationRange)),e.uniform3fv(e.getUniformLocation(this.showShader,"contourColor"),new Float32Array(this.color)),e.drawArrays(e.TRIANGLE_STRIP,0,4);const o=e.getError();o!==e.NO_ERROR&&console.error("Error happened: ",la(e,o))}registerRenderableNode(e){this.tileBox.reset(),this.sectorRange.fill(0),this.nodeCount=0,this.maxVisibleNodeLevel=0,this.minVisibleNodeLevel=this.maxLevel;const a=[],r=[];for(a.push(new Ye(0,0)),a.push(new Ye(0,1));a.length>0;){let o=a.pop();if(o.bBox.overlap(this.boundaryCondition)){if(!o.isSubdividable(e)||o.level>=Math.min(this.maxLevel,e.zoomLevel)){r.push(o),o.level>this.maxVisibleNodeLevel&&(this.sectorRange[0]=o.bBox.size[0],this.sectorRange[1]=o.bBox.size[1],this.maxVisibleNodeLevel=o.level);continue}for(let v=0;v<4;v++)o.children[v]=new Ye(o.level+1,4*o.id+v,o),a.push(o.children[v])}}r.forEach(o=>{(this.nodeCount<this.maxNodeCount||o.level+5>=this.maxVisibleNodeLevel)&&(this.minVisibleNodeLevel=o.level<this.minVisibleNodeLevel?o.level:this.minVisibleNodeLevel,this.tileBox.updateByBox(o.bBox),this.nodeLevelArray[this.nodeCount]=o.level,this.nodeBoxArray[this.nodeCount*4+0]=o.bBox.boundary.x,this.nodeBoxArray[this.nodeCount*4+1]=o.bBox.boundary.y,this.nodeBoxArray[this.nodeCount*4+2]=o.bBox.boundary.z,this.nodeBoxArray[this.nodeCount*4+3]=o.bBox.boundary.w,this.nodeCount++),o.release()})}}function xa(u){u.getSupportedExtensions().forEach(a=>{u.getExtension(a)})}async function _e(u,e){let a="";await n0.get(e).then(s=>a+=s.data);const r=C(u,a,u.VERTEX_SHADER),o=C(u,a,u.FRAGMENT_SHADER),v=u.createProgram();return u.attachShader(v,r),u.attachShader(v,o),u.linkProgram(v),u.getProgramParameter(v,u.LINK_STATUS)||console.error("An error occurred linking shader stages: "+u.getProgramInfoLog(v)),v;function C(s,E,t){const n=`#version 300 es
`,B=s.createShader(t);return t===s.VERTEX_SHADER?E=n+`#define VERTEX_SHADER
`+E:t===s.FRAGMENT_SHADER&&(E=n+`#define FRAGMENT_SHADER
`+E),s.shaderSource(B,E),s.compileShader(B),s.getShaderParameter(B,s.COMPILE_STATUS)?B:(console.error("An error occurred compiling the shader module: "+s.getShaderInfoLog(B)),s.deleteShader(B),null)}}function Ue(u,e,a,r){const o=u.createFramebuffer();return u.bindFramebuffer(u.FRAMEBUFFER,o),e?.forEach((v,C)=>{u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0+C,u.TEXTURE_2D,v,0)}),a&&u.framebufferTexture2D(u.FRAMEBUFFER,u.DEPTH_ATTACHMENT,u.TEXTURE_2D,a,0),u.bindFramebuffer(u.FRAMEBUFFER,null),u.checkFramebufferStatus(u.FRAMEBUFFER)!==u.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer is not complete"),o}function T0(u,e,a,r,o,v,C,s=!1){const E=u.createTexture();return u.bindTexture(u.TEXTURE_2D,E),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,s?u.LINEAR_MIPMAP_LINEAR:u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texImage2D(u.TEXTURE_2D,0,r,e,a,0,o,v,C||null),u.bindTexture(u.TEXTURE_2D,null),E}function Xr(u,e,a,r,o,v,C,s){u.bindTexture(u.TEXTURE_2D,e),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texImage2D(u.TEXTURE_2D,0,o,a,r,0,v,C,s),u.bindTexture(u.TEXTURE_2D,null)}function ca(u,e,a){const r=e||u.canvas.width*window.devicePixelRatio,o=a||u.canvas.height*window.devicePixelRatio,v=u.createRenderbuffer();return u.bindRenderbuffer(u.RENDERBUFFER,v),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,r,o),u.bindRenderbuffer(u.RENDERBUFFER,null),v}function la(u,e){switch(e){case u.NO_ERROR:return"NO_ERROR";case u.INVALID_ENUM:return"INVALID_ENUM";case u.INVALID_VALUE:return"INVALID_VALUE";case u.INVALID_OPERATION:return"INVALID_OPERATION";case u.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case u.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"UNKNOWN_ERROR"}}async function Wr(u){try{const e=await fetch(u);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const a=await e.blob();return await createImageBitmap(a,{imageOrientation:"flipY",premultiplyAlpha:"none",colorSpaceConversion:"default"})}catch(e){throw console.error(`Error loading image (url: ${u})`,e),e}}function fa(u,e){return Math.floor(Math.log2(Math.max(u,e)))}const ua="/down_triangle.png",da="/rasterLegend1.png";class ue{static runProfileModelTest=e=>{const a=`/api/taskNode/start/multi/default/section/${e-1}`;return n0.post(a)};static getProfileDataTest=e=>{const a=e<10?`/api/fileData/json/jsonStr/name/multiWholeRes-JC0${e}/newest`:`/fileData/json/jsonStr/name/multiWholeRes-JC${e}/newest`;return n0.get(a)};static runProfileModel_short=(e,a,r)=>{const o=`/api/taskNode/start/multi/default/section/${r-1}/beg/${e}/end/${a}`;return n0.post(o)};static runProfileModel_long=(e,a,r)=>{const o=`/api/taskNode/start/multi/default/section/long/${r-1}/beg/${e}/end/${a}`;return n0.post(o)};static getProfileData=(e,a,r)=>{const o=r<10?`/bankRiskWarnStaticJson/fixedSection-JC0${r}_beg${e}_end${a}.json`:`/bankRiskWarnStaticJson/fixedSection-JC${r}_beg${e}_end${a}.json`;return n0.get(o)};static runProfileModelByLine=(e,a,r,o,v,C)=>{const s=`/api/taskNode/start/multi/default?begTime=${e}&endTime=${a}&startPt=${r},${o}&endPt=${v},${C}`;return n0.post(s)};static getRunStatus=e=>{const a="/api/taskNode/"+e+"/status";return n0.get(a)};static getRunResult=e=>{const a="/api/fileData/json/jsonStr/id/"+e;return n0.get(a)}}const ha={class:"timestep-shower"},va={class:"percentage-value"},pa=qt({__name:"flowTimeShower",props:{timeStep:Number,totalCount:Number,type:String},setup(u){const e=u,a=Me(()=>Math.ceil(e.timeStep/e.totalCount*100)>100?100:Math.ceil(e.timeStep/e.totalCount*100)),r=Me(()=>{if(e.type=="normal"){let o=be().startOf("day"),v=e.timeStep/6;return o.add(v,"hour").format("YYYY/MM/DD HH")}else if(e.type=="9711"){let o=be("1997-08-16").startOf("day"),v=e.timeStep*6;return o.add(v,"hour").format("YYYY/MM/DD HH")}else if(e.type=="9711adwt"){let o=be("1997-08-12").startOf("day"),v=e.timeStep*1;return o.add(v,"hour").format("YYYY/MM/DD HH")}else if(e.type=="exp"){let o=be().startOf("day").subtract(1,"day"),v=Math.floor(e.timeStep)*1;return o.add(v,"hour").format("YYYY/MM/DD HH")}});return Me(()=>r.value.split(" ")[1]),Me(()=>r.value.split(" ")[0]),St(()=>{}),(o,v)=>{const C=J0("el-progress");return r0(),u0("div",ha,[o0(C,{type:"dashboard",percentage:a.value,width:110,height:110},{default:d0(({percentage:s})=>[M("span",va,w0(Math.floor(e.timeStep)+"时"),1)]),_:1},8,["percentage"])])}}}),Ea=kt(pa,[["__scopeId","data-v-5a4936c5"]]);class Ba{url="";flowFieldResourceArr=[];seedingResourceArr=[];projection2DResource="";projection3DResource="";flowFieldTexSize=[0,0];seedingTexSize=[0,0];projectionTexSize=[0,0];flowBoundary=[0,0,0,0];extent=[0,0,0,0];maxDropRate=0;maxDropRateBump=0;maxSegmentNum=0;maxTrajectoryNum=0;maxTextureSize=0;constructor(e){this.url=e}async Parsing(){await n0.get(this.url).then(e=>{for(let a of e.data.flow_fields)this.flowFieldResourceArr.push(a);for(let a of e.data.area_masks)this.seedingResourceArr.push(a);this.projection2DResource=e.data.projection["2D"],this.flowFieldTexSize=e.data.texture_size.flow_field,this.seedingTexSize=e.data.texture_size.area_mask,this.projectionTexSize=e.data.texture_size.projection,this.flowBoundary[0]=e.data.flow_boundary.u_min,this.flowBoundary[1]=e.data.flow_boundary.v_min,this.flowBoundary[2]=e.data.flow_boundary.u_max,this.flowBoundary[3]=e.data.flow_boundary.v_max,this.extent[0]=e.data.extent[0],this.extent[1]=e.data.extent[1],this.extent[2]=e.data.extent[2],this.extent[3]=e.data.extent[3],this.maxDropRate=e.data.constraints.max_drop_rate,this.maxDropRateBump=e.data.constraints.max_drop_rate_bump,this.maxSegmentNum=e.data.constraints.max_segment_num,this.maxTrajectoryNum=e.data.constraints.max_streamline_num,this.maxTextureSize=e.data.constraints.max_texture_size})}}class ma{id;type;renderingMode;parser;controller;resourcePrefix;map=null;GL=null;exaggeration=.9;uboMapBufferData=new Float32Array(12);phaseCount=0;timePerFrame=100;timeLast=10;currentResourcePointer=0;_timeCount=0;_progressRate=0;textureArraySize=0;flowFieldTextureArr=[0,0,0];seedingTextureArr=[0,0,0];transformTexture=0;particleMapBufferData=new Float32Array(0);simulationBuffer=0;xfSimulationBuffer=0;lifeBuffer=0;xfLifeBuffer=0;BO=0;simulationVAO=0;simulationVAO2=0;XFO=0;XFO2=0;trajectoryPool=0;updateShaderObj;trajectoryShaderObj;isReady=!1;renderVAO=0;renderVAO2=0;textureOffsetArray=[];beginBlock=-1;now_FFTextureArr=[0,0];now_SeedTextureArr=[0,0];now_sVAO=0;now_rVAO=0;now_XFO=0;now_XFBO=0;constructor(e,a,r){this.id=e,this.type="custom",this.renderingMode="2d",this.parser=new Ba(a),this.resourcePrefix=r,this.controller=new aa}set progressRate(e){const a=Math.floor(this._progressRate*this.phaseCount)%this.phaseCount,r=Math.floor(e*this.phaseCount)%this.phaseCount,o=(r+1)%this.phaseCount;this._progressRate=e,this.now_FFTextureArr[0]=this.flowFieldTextureArr[r%this.textureArraySize],this.now_FFTextureArr[1]=this.flowFieldTextureArr[o%this.textureArraySize],this.now_SeedTextureArr[0]=this.seedingTextureArr[r%this.textureArraySize],this.now_SeedTextureArr[1]=this.seedingTextureArr[o%this.textureArraySize];let v=e*this.phaseCount;if(this.uboMapBufferData[0]=v-Math.floor(v),r!=a){this.currentResourcePointer=(this.currentResourcePointer+1)%this.phaseCount;let C=o%this.textureArraySize,s=this.GL;this.UpdateTextureByImage(s,this.flowFieldTextureArr[C],s.RG,s.LINEAR,this.parser.flowFieldTexSize[0],this.parser.flowFieldTexSize[1],this.parser.flowFieldResourceArr[o],"Float"),this.UpdateTextureByImage(s,this.seedingTextureArr[C],s.RGBA,s.NEAREST,this.parser.seedingTexSize[0],this.parser.seedingTexSize[1],this.parser.seedingResourceArr[o],"UNSIGHNED_BYTE")}}get progressRate(){return this._progressRate}set timeCount(e){this._timeCount=e%this.timeLast}get timeCount(){return this._timeCount}async init2ShadersFromSrc(e,a,r,o){const v=await n0.get(a).then(n=>n.data).catch(n=>{console.log("ERROR::VERTEX_SHADER FILE NOT FOUND",n)}),C=await n0.get(r).then(n=>n.data).catch(n=>{console.log("ERROR::FRAGMENT_SHADER FILE NOT FOUND",n)}),s=e.createShader(e.VERTEX_SHADER);e.shaderSource(s,v),e.compileShader(s);const E=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(E,C),e.compileShader(E);const t=e.createProgram();if(e.attachShader(t,s),e.attachShader(t,E),o&&e.transformFeedbackVaryings(t,o,e.SEPARATE_ATTRIBS),e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS)){console.log(e.getProgramInfoLog(t));return}return{program:t,vertexShader:s,fragmentShader:E}}async FillTextureByImage(e,a,r,o,v,C,s,E){let t=this.resourcePrefix+s;E==="Float"?n0.get(t,{responseType:"blob"}).then(n=>{createImageBitmap(n.data,{imageOrientation:"flipY",premultiplyAlpha:"none",colorSpaceConversion:"default"}).then(B=>{const x=new Uint8Array(B.width*B.height*4),i=new OffscreenCanvas(B.width,B.height).getContext("webgl2"),p=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,p);const d=i.createTexture();i.bindTexture(i.TEXTURE_2D,d),i.texImage2D(i.TEXTURE_2D,0,i.RGBA8,B.width,B.height,0,i.RGBA,i.UNSIGNED_BYTE,B),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,d,0),i.readPixels(0,0,B.width,B.height,i.RGBA,i.UNSIGNED_BYTE,x),i.bindTexture(i.TEXTURE_2D,null),i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteTexture(d),i.deleteFramebuffer(p),i.finish(),e.bindTexture(e.TEXTURE_2D,a),e.texSubImage2D(e.TEXTURE_2D,0,0,0,v,C,e.RG,e.FLOAT,new Float32Array(x.buffer)),e.bindTexture(e.TEXTURE_2D,null),e.finish()}).catch(B=>{console.warn(B),console.warn("ERROR::FillTextureByImage CREATEIMAGEBITMAP ERROR"+s)})}).catch(n=>{console.warn("ERROR::FillTextureByImage GET IMG ERROR"+s)}):await n0.get(t,{responseType:"blob"}).then(n=>{createImageBitmap(n.data,{imageOrientation:"flipY",premultiplyAlpha:"none",colorSpaceConversion:"default"}).then(B=>{e.bindTexture(e.TEXTURE_2D,a),e.texSubImage2D(e.TEXTURE_2D,0,0,0,v,C,r,e.UNSIGNED_BYTE,B),e.bindTexture(e.TEXTURE_2D,null),e.finish()})})}async UpdateTextureByImage(e,a,r,o,v,C,s,E){await this.FillTextureByImage(e,a,r,o,v,C,s,E)}FillBlockByData(e,a,r,o,v,C,s){e.bindTexture(e.TEXTURE_2D,a),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.texSubImage2D(e.TEXTURE_2D,0,r,o,v,C,e.RGB,e.FLOAT,s),e.bindTexture(e.TEXTURE_2D,null)}swap(){this.beginBlock%2==0?(this.now_sVAO=this.simulationVAO,this.now_rVAO=this.renderVAO,this.now_XFO=this.XFO,this.now_XFBO=this.simulationBuffer):(this.now_sVAO=this.simulationVAO2,this.now_rVAO=this.renderVAO2,this.now_XFO=this.XFO2,this.now_XFBO=this.xfSimulationBuffer)}async prepare(e){await this.parser.Parsing();const a=e.getSupportedExtensions();for(let s of a)e.getExtension(s);this.parser.trajectoryNum=this.controller.lineNum,this.parser.segmentPrepare=this.parser.maxSegmentNum,this.parser.segmentNum=this.parser.maxSegmentNum,this.parser.maxBlockSize=Math.ceil(Math.sqrt(this.parser.maxTrajectoryNum)),this.phaseCount=this.parser.flowFieldResourceArr.length,this.timeLast=this.phaseCount*this.timePerFrame,this.textureArraySize=3;for(var r=0;r<this.textureArraySize;r++){let s=e.createTexture();e.bindTexture(e.TEXTURE_2D,s),e.texStorage2D(e.TEXTURE_2D,1,e.RG32F,this.parser.flowFieldTexSize[0],this.parser.flowFieldTexSize[1]),e.bindTexture(e.TEXTURE_2D,null),await this.FillTextureByImage(e,s,e.RG,e.LINEAR,this.parser.flowFieldTexSize[0],this.parser.flowFieldTexSize[1],this.parser.flowFieldResourceArr[r],"Float"),this.flowFieldTextureArr[r]=s;let E=e.createTexture();e.bindTexture(e.TEXTURE_2D,E),e.texStorage2D(e.TEXTURE_2D,1,e.RGBA8,this.parser.seedingTexSize[0],this.parser.seedingTexSize[1]),e.bindTexture(e.TEXTURE_2D,null),await this.FillTextureByImage(e,E,e.RGBA,e.NEAREST,this.parser.seedingTexSize[0],this.parser.seedingTexSize[1],this.parser.seedingResourceArr[r],"UNSIGNED_BYTE"),this.seedingTextureArr[r]=E}let o=e.createTexture();e.bindTexture(e.TEXTURE_2D,o),e.texStorage2D(e.TEXTURE_2D,1,e.RG32F,this.parser.projectionTexSize[0],this.parser.projectionTexSize[1]),e.bindTexture(e.TEXTURE_2D,null),await this.FillTextureByImage(e,o,e.RG,e.LINEAR,this.parser.projectionTexSize[0],this.parser.projectionTexSize[1],this.parser.projection2DResource,"Float"),this.transformTexture=o,this.particleMapBufferData=new Float32Array(this.parser.maxBlockSize*this.parser.maxBlockSize*3).fill(0);for(let s=0;s<this.parser.maxTrajectoryNum;s++)this.particleMapBufferData[s*3+0]=Math.random(),this.particleMapBufferData[s*3+1]=Math.random(),this.particleMapBufferData[s*3+2]=0;const v=new Float32Array(this.parser.maxTrajectoryNum);for(let s=0;s<this.parser.maxTrajectoryNum;s++)v[s]=this.parser.maxSegmentNum*9;this.simulationBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.simulationBuffer),e.bufferData(e.ARRAY_BUFFER,this.particleMapBufferData,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this.xfSimulationBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.xfSimulationBuffer),e.bufferData(e.ARRAY_BUFFER,this.particleMapBufferData,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this.lifeBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.lifeBuffer),e.bufferData(e.ARRAY_BUFFER,v,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this.xfLifeBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.xfLifeBuffer),e.bufferData(e.ARRAY_BUFFER,v,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this.simulationVAO=e.createVertexArray(),e.bindVertexArray(this.simulationVAO),e.bindBuffer(e.ARRAY_BUFFER,this.simulationBuffer),e.vertexAttribPointer(0,3,e.FLOAT,!1,3*4,0),e.enableVertexAttribArray(0),e.bindBuffer(e.ARRAY_BUFFER,this.lifeBuffer),e.vertexAttribPointer(1,1,e.FLOAT,!1,1*4,0),e.enableVertexAttribArray(1),e.bindVertexArray(null),e.bindBuffer(e.ARRAY_BUFFER,null),this.simulationVAO2=e.createVertexArray(),e.bindVertexArray(this.simulationVAO2),e.bindBuffer(e.ARRAY_BUFFER,this.xfSimulationBuffer),e.vertexAttribPointer(0,3,e.FLOAT,!1,3*4,0),e.enableVertexAttribArray(0),e.bindBuffer(e.ARRAY_BUFFER,this.xfLifeBuffer),e.vertexAttribPointer(1,1,e.FLOAT,!1,1*4,0),e.enableVertexAttribArray(1),e.bindVertexArray(null),e.bindBuffer(e.ARRAY_BUFFER,null),this.renderVAO=e.createVertexArray(),e.bindVertexArray(this.renderVAO),e.bindBuffer(e.ARRAY_BUFFER,this.lifeBuffer),e.vertexAttribPointer(0,1,e.FLOAT,!1,1*4,0),e.vertexAttribDivisor(0,1),e.enableVertexAttribArray(0),e.bindVertexArray(null),e.bindBuffer(e.ARRAY_BUFFER,null),this.renderVAO2=e.createVertexArray(),e.bindVertexArray(this.renderVAO2),e.bindBuffer(e.ARRAY_BUFFER,this.xfLifeBuffer),e.vertexAttribPointer(0,1,e.FLOAT,!1,1*4,0),e.vertexAttribDivisor(0,1),e.enableVertexAttribArray(0),e.bindVertexArray(null),e.bindBuffer(e.ARRAY_BUFFER,null),this.XFO=e.createTransformFeedback(),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,this.XFO),e.bindBuffer(e.TRANSFORM_FEEDBACK_BUFFER,this.xfSimulationBuffer),e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,0,this.xfSimulationBuffer,0,this.parser.maxBlockSize*this.parser.maxBlockSize*4*3),e.bindBuffer(e.TRANSFORM_FEEDBACK_BUFFER,this.xfLifeBuffer),e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,1,this.xfLifeBuffer,0,this.parser.maxBlockSize*this.parser.maxBlockSize*4),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),e.bindBuffer(e.TRANSFORM_FEEDBACK_BUFFER,null),this.XFO2=e.createTransformFeedback(),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,this.XFO2),e.bindBuffer(e.TRANSFORM_FEEDBACK_BUFFER,this.simulationBuffer),e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,0,this.simulationBuffer,0,this.parser.maxBlockSize*this.parser.maxBlockSize*3*4),e.bindBuffer(e.TRANSFORM_FEEDBACK_BUFFER,this.lifeBuffer),e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,1,this.lifeBuffer,0,this.parser.maxBlockSize*this.parser.maxBlockSize*4),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),e.bindBuffer(e.TRANSFORM_FEEDBACK_BUFFER,null),this.parser.maxBlockSize=Math.ceil(Math.sqrt(this.parser.maxTrajectoryNum)),this.parser.maxBlockColumn=Math.floor(this.parser.maxTextureSize/this.parser.maxBlockSize);for(let s=0;s<this.parser.maxSegmentNum;s++){let E={offsetX:this.parser.maxBlockSize*(s%this.parser.maxBlockColumn),offsetY:this.parser.maxBlockSize*Math.floor(s/this.parser.maxBlockColumn)};this.textureOffsetArray.push(E)}this.BO=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.BO),e.bufferData(e.ARRAY_BUFFER,48,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this.trajectoryPool=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.trajectoryPool),e.texStorage2D(e.TEXTURE_2D,1,e.RGB32F,this.parser.maxTextureSize,this.parser.maxTextureSize),e.bindTexture(e.TEXTURE_2D,null);for(let s=0;s<this.parser.maxSegmentNum;s++)this.FillBlockByData(e,this.trajectoryPool,this.textureOffsetArray[s].offsetX,this.textureOffsetArray[s].offsetY,this.parser.maxBlockSize,this.parser.maxBlockSize,this.particleMapBufferData);let C=["newInfo","aliveTime"];this.updateShaderObj=await this.init2ShadersFromSrc(e,"/scratchSomething/flowWebGL/shaders/update.vert","/scratchSomething/flowWebGL/shaders/update.frag",C),this.trajectoryShaderObj=await this.init2ShadersFromSrc(e,"/scratchSomething/flowWebGL/shaders/trajectory.noCulling.vert","/scratchSomething/flowWebGL/shaders/trajectory.noCulling.frag"),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.TRANSFORM_FEEDBACK_BUFFER,null),e.bindVertexArray(null),this.uboMapBufferData[8]=this.parser.flowBoundary[0],this.uboMapBufferData[9]=this.parser.flowBoundary[1],this.uboMapBufferData[10]=this.parser.flowBoundary[2],this.uboMapBufferData[11]=this.parser.flowBoundary[3],this.isReady=!0}tickfunc(e,a){this.beginBlock=(this.beginBlock+1)%this.parser.segmentNum,this.swap(),this.controller.isUnsteady&&(this.progressRate=this.timeCount/this.timeLast,this.timeCount=this.timeCount+1),this.uboMapBufferData[1]=this.parser.maxSegmentNum,this.uboMapBufferData[2]=this.parser.maxSegmentNum*10,this.uboMapBufferData[3]=this.controller.dropRate,this.uboMapBufferData[4]=this.controller.dropRateBump,this.uboMapBufferData[5]=this.controller.speedFactor*.01*100,this.uboMapBufferData[6]=this.controller.colorScheme,e.bindBuffer(e.UNIFORM_BUFFER,this.BO),e.bufferData(e.UNIFORM_BUFFER,this.uboMapBufferData,e.DYNAMIC_DRAW);let r=0;e.bindBufferRange(e.UNIFORM_BUFFER,r,this.BO,0,48),e.bindVertexArray(this.now_sVAO),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,this.now_XFO),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.now_FFTextureArr[0]),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.now_FFTextureArr[1]),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,this.now_SeedTextureArr[0]),e.activeTexture(e.TEXTURE3),e.bindTexture(e.TEXTURE_2D,this.now_SeedTextureArr[1]),e.useProgram(this.updateShaderObj.program);let o=null;o=e.getUniformLocation(this.updateShaderObj.program,"flowField"),e.uniform1iv(o,[0,1]),o=e.getUniformLocation(this.updateShaderObj.program,"mask"),e.uniform1iv(o,[2,3]),o=e.getUniformLocation(this.updateShaderObj.program,"randomSeed"),e.uniform1f(o,Math.random());let v=0;if(v=e.getUniformBlockIndex(this.updateShaderObj.program,"FlowFieldUniforms"),e.uniformBlockBinding(this.updateShaderObj.program,v,r),e.enable(e.RASTERIZER_DISCARD),e.beginTransformFeedback(e.POINTS),e.drawArrays(e.POINTS,0,this.parser.trajectoryNum),e.endTransformFeedback(),e.disable(e.RASTERIZER_DISCARD),e.bindVertexArray(null),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),e.bindBuffer(e.PIXEL_UNPACK_BUFFER,this.now_XFBO),e.bindTexture(e.TEXTURE_2D,this.trajectoryPool),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.texSubImage2D(e.TEXTURE_2D,0,this.textureOffsetArray[this.beginBlock].offsetX,this.textureOffsetArray[this.beginBlock].offsetY,this.parser.maxBlockSize,this.parser.maxBlockSize,e.RGB,e.FLOAT,0),e.bindTexture(e.TEXTURE_2D,null),e.bindBuffer(e.PIXEL_UNPACK_BUFFER,null),e.finish(),this.parser.segmentPrepare>0){this.parser.segmentPrepare--;return}e.bindVertexArray(this.now_rVAO),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.trajectoryPool),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.transformTexture),e.disable(e.DEPTH_TEST),e.useProgram(this.trajectoryShaderObj.program),o=e.getUniformLocation(this.trajectoryShaderObj.program,"particlePool"),e.uniform1i(o,0),o=e.getUniformLocation(this.trajectoryShaderObj.program,"projectionTexture"),e.uniform1i(o,1),o=e.getUniformLocation(this.trajectoryShaderObj.program,"blockNum"),e.uniform1i(o,this.parser.maxSegmentNum),o=e.getUniformLocation(this.trajectoryShaderObj.program,"beginBlock"),e.uniform1i(o,this.beginBlock),o=e.getUniformLocation(this.trajectoryShaderObj.program,"blockSize"),e.uniform1i(o,this.parser.maxBlockSize),o=e.getUniformLocation(this.trajectoryShaderObj.program,"fillWidth"),e.uniform1f(o,this.controller.fillWidth),o=e.getUniformLocation(this.trajectoryShaderObj.program,"aaWidth"),e.uniform1f(o,this.controller.aaWidth),o=e.getUniformLocation(this.trajectoryShaderObj.program,"viewport"),e.uniform2f(o,e.canvas.width,e.canvas.height),o=e.getUniformLocation(this.trajectoryShaderObj.program,"u_matrix"),e.uniformMatrix4fv(o,!1,a),o=e.getUniformLocation(this.trajectoryShaderObj.program,"exagration"),e.uniform1f(o,this.exaggeration),v=e.getUniformBlockIndex(this.trajectoryShaderObj.program,"FlowFieldUniforms"),e.uniformBlockBinding(this.trajectoryShaderObj.program,v,r),e.drawArraysInstanced(e.TRIANGLE_STRIP,0,(this.parser.segmentNum-1)*2,this.parser.trajectoryNum),e.bindVertexArray(null),e.bindTexture(e.TEXTURE_2D,null)}async onAdd(e,a){this.GL=a,this.map=e,await this.prepare(a)}render(e,a){if(!this.isReady){this.map?.triggerRepaint();return}this.tickfunc(e,a),this.map?.triggerRepaint()}}class Ne{constructor(e){this.id="岸段预警",this.jsonData=e,this.map=void 0,this.type="custom",this.showLayer=!1,this.prepared=!1}async onAdd(e,a){this.gl=a,this.map=e,this.vertexData=[],this.vertexCount=0,this.jsonData.forEach(s=>{let E=Pe.MercatorCoordinate.fromLngLat({lng:s.coords[0][0],lat:s.coords[0][1]}),t=Pe.MercatorCoordinate.fromLngLat({lng:s.coords[1][0],lat:s.coords[1][1]});this.vertexData.push(E.x,E.y,s.warnValue,t.x,t.y,s.warnValue),this.vertexCount+=2});const r=`
        uniform mat4 u_matrix;
        attribute vec3 a_position; 
        varying float v_warnValue; 

        void main() {
            v_warnValue = a_position.z; 
            gl_Position = u_matrix * vec4(a_position.x, a_position.y, 0.0, 1.0);
        }`,o=`
        precision mediump float;
        varying float v_warnValue; 

        void main() {
            // int pallete[10] = {
            //     0x00b0f0,
            //     0x76a9c8,
            //     0xa69f9f,
            //     0xcc9071,
            //     0xed7c31,
            //     0xf06f24,
            //     0xf46018,
            //     0xf84e0d,
            //     0xfb3704,
            //     0xff0000,
            // }
            // int pallete[3] = {
            //     0x00b0f0,
            //     0x76a9c8,
            //     0xff0000,
            // }
            // int botIndex = floor(v_warnValue * 2);
            // int topIndex = floor(v_warnValue * 2 + 0.5);
            // int interval = value * 10.0 - botIndex;

            // vec3 botColor = colorFromInt(rampColors[botIndex]);
            // vec3 topColor = colorFromInt(rampColors[botIndex+1]);
            // vec3 topColor = colorFromInt(rampColors[topIndex]);
            // vec3 resultColor = mix(botColor, topColor, interval);

            // vec3 green = vec3(0.0, 1.0, 0.0);
            vec3 blue = vec3(0.0, 0.0, 1.0);
            vec3 orange = vec3(240.0, 120.0, 0.0) / 255.0;
            vec3 red = vec3(1.0, 0.0, 0.0);
            float v_warnValueP = clamp(v_warnValue*1.2 + 0.1, 0.0, 1.0);


            vec3 greenToBlue = mix(blue, orange, smoothstep(0.0, 0.5, v_warnValueP));
            // Interpolate between blue and red from 0.5 to 1.0
            vec3 blueToRed = mix(orange, red, smoothstep(0.5, 1.0, v_warnValueP));
            // Combine the two interpolations
            vec3 color = mix(greenToBlue, blueToRed, smoothstep(0.0, 1.0, v_warnValueP));

            // gl_FragColor  = vec4(v_warnValueP, 0, 1.0-v_warnValueP, 0.85); // 使用 fragColor 代替 gl_FragColor
            gl_FragColor  = vec4(color, 0.85); // 使用 fragColor 代替 gl_FragColor
        }`,v=a.createShader(a.VERTEX_SHADER);a.shaderSource(v,r),a.compileShader(v);const C=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(C,o),a.compileShader(C),this.program=a.createProgram(),a.attachShader(this.program,v),a.attachShader(this.program,C),a.linkProgram(this.program),this.aPos=a.getAttribLocation(this.program,"a_position"),this.buffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.buffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.vertexData),a.STATIC_DRAW),this.prepared=!0}async render(e,a){this.prepared&&(e.useProgram(this.program),e.uniformMatrix4fv(e.getUniformLocation(this.program,"u_matrix"),!1,a),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.enableVertexAttribArray(this.aPos),e.vertexAttribPointer(this.aPos,3,e.FLOAT,!1,0,0),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.drawArrays(e.TRIANGLE_STRIP,0,this.vertexCount))}update(e){this.jsonData=e,this.vertexData=[],this.vertexCount=0,this.jsonData.forEach(r=>{let o=Pe.MercatorCoordinate.fromLngLat({lng:r.coords[0][0],lat:r.coords[0][1]}),v=Pe.MercatorCoordinate.fromLngLat({lng:r.coords[1][0],lat:r.coords[1][1]});this.vertexData.push(o.x,o.y,r.warnValue,v.x,v.y,r.warnValue),this.vertexCount+=2});let a=this.gl;a.bindBuffer(a.ARRAY_BUFFER,this.buffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.vertexData),a.STATIC_DRAW)}show(){}hide(){}}const Gr={20092003:{min:-20.216260910034,max:12.377036094666},21032003:{min:-18.057029724121,max:13.405656814575},21032009:{min:-11.904377937317,max:15.555559158325},21092003:{min:-29.0481300354,max:13.405656814575},21092009:{min:-21.573017120361,max:13.338559150696},21092103:{min:-22.064949035645,max:8.261926651001},22032003:{min:-26.315940856934,max:12.661833763123},22032009:{min:-18.946474075317,max:10.854301452637},22032103:{min:-18.682374954224,max:11.998920440674},22032109:{min:-18.682374954224,max:17.446615219116},22092003:{min:-34.24059677124,max:18.287557601929},22092009:{min:-28.642517089844,max:18.124055862427},22092103:{min:-28.885349273682,max:17.996383666992},22092109:{min:-20.775089263916,max:19.373840332031},22092203:{min:-20.959928512573,max:17.246448516846},23032003:{min:-25.497043609619,max:23.978927612305},23032009:{min:-15.159237861633,max:24.311046600342},23032103:{min:-16.9319896698,max:24.412498474121},23032109:{min:-11.673976898193,max:24.870639801025},23032203:{min:-10.602119445801,max:19.81965637207},23032209:{min:-10.008462905884,max:21.046541213989},23092003:{min:-24.543750762939,max:23.484636306763},23092009:{min:-14.633073806763,max:23.901466369629},23092103:{min:-15.942059516907,max:23.92653465271},23092109:{min:-12.148267745972,max:24.699771881104},23092203:{min:-11.635368347168,max:19.993438720703},23092209:{min:-11.635368347168,max:26.141702651978},23092303:{min:-11.635368347168,max:16.081762313843}},Ze=[{name:"JC01",coords:[[120.49989610501109,32.044845778820694],[120.49965852902085,32.043054010465546]],warnValue:.25},{name:"JC02",coords:[[120.51211644811006,32.04310480824947],[120.51157809855385,32.04135665004222]],warnValue:.25},{name:"JC03",coords:[[120.51598399026375,32.04244111945512],[120.51554162835052,32.04064910386879]],warnValue:.64},{name:"JC04",coords:[[120.52163733002358,32.040317481106044],[120.52010747944439,32.03901766791365]],warnValue:.75},{name:"JC05",coords:[[120.52344753736321,32.03912224359854],[120.52202732882418,32.037765786589944]],warnValue:.76},{name:"JC06",coords:[[120.5300568728269,32.035076196597906],[120.52886185568613,32.03359585101801]],warnValue:.83},{name:"JC07",coords:[[120.53577029390934,32.03306474923213],[120.53521759568126,32.03132371065091]],warnValue:.9},{name:"JC08",coords:[[120.54259039936055,32.03113531223312],[120.54191211481913,32.0294311450221]],warnValue:.73},{name:"JC09",coords:[[120.54845619793755,32.02942703528161],[120.547645906125,32.027757714058616]],warnValue:.53},{name:"JC10",coords:[[120.55217332294447,32.02819103999115],[120.55139957273384,32.02651468780271]],warnValue:.43},{name:"JC11",coords:[[120.55987007042168,32.0256085153387],[120.55938372124096,32.02385317986381]],warnValue:.29},{name:"JC12",coords:[[120.56542283954619,32.023997421425335],[120.56490201809913,32.022254233310434]],warnValue:.18}],Aa=[{value:1,id:"JC01",label:"MZ01围堤",name:"MZ01围堤",nickname:"围堤",filter:["==","name","JC01"],flowspeed:null,risk:null,color:null},{value:2,id:"JC02",label:"MZ02顺堤",name:"MZ02顺堤",nickname:"顺堤",filter:["==","name","JC02"],flowspeed:null,risk:null,color:null},{value:3,id:"JC03",label:"MZ03顺堤尾",name:"MZ03顺堤尾",nickname:"顺堤尾",filter:["==","name","JC03"],flowspeed:null,risk:null,color:null},{value:4,id:"JC04",label:"MZ04江滩办",name:"MZ04江滩办",nickname:"江滩办",filter:["==","name","JC04"],flowspeed:null,risk:null,color:null},{value:5,id:"JC05",label:"MZ05小港池",name:"MZ05小港池",nickname:"小港池",filter:["==","name","JC05"],flowspeed:null,risk:null,color:null},{value:6,id:"JC06",label:"MZ06张靖皋桥位",name:"MZ06张靖皋桥位",nickname:"张靖皋桥位",filter:["==","name","JC06"],flowspeed:null,risk:null,color:null},{value:7,id:"JC07",label:"MZ07桥位下游",name:"MZ07桥位下游",nickname:"桥位下游",filter:["==","name","JC07"],flowspeed:null,risk:null,color:null},{value:8,id:"JC08",label:"MZ08海事码头",name:"MZ08海事码头",nickname:"海事码头",filter:["==","name","JC08"],flowspeed:null,risk:null,color:null},{value:9,id:"JC09",label:"MZ09码头下游",name:"MZ09码头下游",nickname:"码头下游",filter:["==","name","JC09"],flowspeed:null,risk:null,color:null},{value:10,id:"JC10",label:"MZ10雷达站",name:"MZ10雷达站",nickname:"雷达站",filter:["==","name","JC10"],flowspeed:null,risk:null,color:null},{value:11,id:"JC11",label:"MZ11主路",name:"MZ11主路",nickname:"主路",filter:["==","name","JC11"],flowspeed:null,risk:null,color:null},{value:12,id:"JC12",label:"MZ12沙尾",name:"MZ12沙尾",nickname:"沙尾",filter:["==","name","JC12"],flowspeed:null,risk:null,color:null}],_a=[{value:"1999before",name:"1999汛前地形数据",label:"1999汛前",year:"1999",time:"汛前",date:"1999-01-01",dateShort:"9901"},{value:"2012after",name:"2012汛后地形数据",label:"2012汛后",year:"2012",time:"汛后",date:"2012-10-01",dateShort:"1210"},{value:"2019before",name:"2019汛前地形数据",label:"2019汛前",year:"2019",time:"汛前",date:"2019-04-01",dateShort:"1904"},{value:"2023before1",name:"2023汛前地形数据",label:"2023汛前",year:"2023",time:"汛前",date:"2023-04-01",dateShort:"2304"},{value:"2020before",name:"2020汛前地形数据",label:"2020汛前",year:"2020",time:"汛前",date:"2020-03-01",dateShort:"2003"},{value:"2020before",name:"2020汛前地形数据",label:"2020汛前",year:"2020",time:"汛前",date:"2020-03-01",dateShort:"2003"},{value:"2020after",name:"2020汛后地形数据",label:"2020汛后",year:"2020",time:"汛后",date:"2020-09-01",dateShort:"2009"},{value:"2021before",name:"2021汛前地形数据",label:"2021汛前",year:"2021",time:"汛前",date:"2021-03-01",dateShort:"2103"},{value:"2021after",name:"2021汛后地形数据",label:"2021汛后",year:"2021",time:"汛后",date:"2021-09-01",dateShort:"2109"},{value:"2022before",name:"2022汛前地形数据",label:"2022汛前",year:"2022",time:"汛前",date:"2022-03-01",dateShort:"2203"},{value:"2022after",name:"2022汛后地形数据",label:"2022汛后",year:"2022",time:"汛后",date:"2022-09-01",dateShort:"2209"},{value:"2023before",name:"2023汛前地形数据",label:"2023汛前",year:"2023",time:"汛前",date:"2023-03-01",dateShort:"2303"},{value:"2023after",name:"2023汛后地形数据",label:"2023汛后",year:"2023",time:"汛后",date:"2023-09-01",dateShort:"2309"}],Fa=[{label:"水流动力因素",active:!1,children:[{label:"造床流量当量指标",icon:"/icons/行政区划.png",active:!1,filter:!0},{label:"流速指标",icon:"/icons/河道分段.png",active:!1,filter:!0},{label:"水位变幅指标",icon:"/icons/流域水系.png",active:!1,filter:!0}]},{label:"河床演变因素",active:!1,filter:!0,children:[{label:"岸坡最大坡比",icon:"/icons/江堤港堤.png",active:!1,filter:!0},{label:"近岸冲刷速率",icon:"/icons/长江堤防.png",active:!1,filter:!0},{label:"滩槽高程",icon:"/icons/过江通道.png",active:!1,filter:!0}]},{label:"岸坡地质因素",active:!1,filter:!0,children:[{label:"河岸组成粒径",icon:"/icons/岸段名录.png",active:!1,filter:!0},{label:"垂向分层结构",icon:"/icons/过江通道.png",active:!1,filter:!0}]},{label:"外部工程因素",active:!1,filter:!0,children:[{label:"护岸强度",icon:"/icons/岸段名录.png",active:!1,filter:!0},{label:"局部突加荷载",icon:"/icons/过江通道.png",active:!1,filter:!0}]}],jr={type:"FeatureCollection",name:"LONG",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[{type:"Feature",properties:{id:0,label:"MZ01围堤"},geometry:{type:"LineString",coordinates:[[120.49903749138724,32.043888634852784],[120.49538681847699,32.016345733684624]]}},{type:"Feature",properties:{id:1,label:"MZ02顺堤"},geometry:{type:"LineString",coordinates:[[120.51101679132857,32.0421121711504],[120.50250795316465,32.014472289227854]]}},{type:"Feature",properties:{id:2,label:"MZ03顺堤尾"},geometry:{type:"LineString",coordinates:[[120.51497334565515,32.04147536696879],[120.50761879614814,32.011670944641]]}},{type:"Feature",properties:{id:3,label:"MZ04江滩办"},geometry:{type:"LineString",coordinates:[[120.52095282772736,32.04067285402283],[120.4929290287805,32.0168539061024]]}},{type:"Feature",properties:{id:4,label:"MZ05小港池"},geometry:{type:"LineString",coordinates:[[120.52266352762268,32.03938257260766],[120.49819034372537,32.01599985975025]]}},{type:"Feature",properties:{id:5,label:"MZ06张靖皋桥位"},geometry:{type:"LineString",coordinates:[[120.52893332253332,32.034887662867135],[120.5082062160477,32.00920264736919]]}},{type:"Feature",properties:{id:6,label:"MZ07桥位下游"},geometry:{type:"LineString",coordinates:[[120.53489889168922,32.03283116675936],[120.52660398718068,32.006693539375036]]}},{type:"Feature",properties:{id:7,label:"MZ08海事码头"},geometry:{type:"LineString",coordinates:[[120.54160714280312,32.03073986301149],[120.5293245276778,31.999868738955477]]}},{type:"Feature",properties:{id:8,label:"MZ09码头下游"},geometry:{type:"LineString",coordinates:[[120.54777184017736,32.02978250896867],[120.53565668350534,32.00481627754238]]}},{type:"Feature",properties:{id:9,label:"MZ10雷达站"},geometry:{type:"LineString",coordinates:[[120.55148601521616,32.02854009653813],[120.53959302512503,32.00276592749347]]}},{type:"Feature",properties:{id:10,label:"MZ11主路"},geometry:{type:"LineString",coordinates:[[120.55917843999107,32.02593757596384],[120.55169608031335,31.998923882343327]]}},{type:"Feature",properties:{id:11,label:"MZ12沙尾"},geometry:{type:"LineString",coordinates:[[120.5646348355986,32.02400577613307],[120.55680594257669,31.99779449137011]]}}]},Ca="/model/taskNode/start/multipleIndicators/calculateRiskLevel",Da="/model/taskNode/status/id?taskId=",qr="/model/taskNode/result/id?taskId=";function Yr(u,e){Q0({type:e,message:u,offset:260})}const ba=(u,e,a)=>{const r=u.waterQS,o=u.tidalLevel,v=u.refDEM.year+"-"+u.refDEM.month+"-01",C=u.benchDEM.year+"-"+u.benchDEM.month+"-01",s=u.benchDEM.path,E=u.refDEM.path,t=[];let n=jr.features.length;for(let B=0;B<n;B++)t.push({segment:e,set:a,"current-timepoint":C,"comparison-timepoint":v,hs:42,hc:13.5,"protection-level":"low","control-level":"low","section-geometry":jr.features.at(B),"bench-id":s,"ref-id":E,"water-qs":r,"tidal-level":o,wRE:"NONE",wNM:"NONE",wGE:"NONE",wRL:"NONE","risk-thresholds":"NONE"});return t},ya=(u,e,a)=>{const r=ba(u,a.bankEnName,a.setName);console.log("////////requestBodies/////////",r);const o=[];return new Promise((v,C)=>{for(let s=0;s<r.length;s++){const E=r[s];o.push(n0.post(Ca,E))}Promise.all(o).then(async s=>{if(s.some(n=>n.data==="WRONG"))throw new Error("TaskID is WRONG");const E=s.map(n=>n.data);console.log("/////////taskIdList//////////"),console.log(E);let t=setInterval(()=>{const n=[];E.forEach(B=>{let x=Da+B;n.push(n0.get(x))}),Promise.all(n).then(async B=>{const x=B.map(f=>f.data);if(console.log("/////////statusList//////////"),console.log(x),x.every(f=>f==="COMPLETE")){clearInterval(t),console.log("模型运行成功!");const f=[];E.forEach(i=>{let p=qr+i;f.push(n0.get(p))}),Promise.all(f).then(async i=>{Yr("模型运行成功","success");const p=i.map(c=>c.data);let d={};const A=["JC01","JC02","JC03","JC04","JC05","JC06","JC07","JC08","JC09","JC10","JC11","JC12"];p.forEach((c,l)=>{d[A[l]]=c}),console.log("/////////result no BSTEM//////////"),console.log("全部结果高风险，无需运行土体变形分析"),console.log(d),v(d)}).catch(i=>{throw new Error("获取模型结果失败")})}else if(x.every(f=>f==="ERROR"||f==="NOT FOUND"||f==="NONE"||f==="COMPLETE")){clearInterval(t);const f=[];x.forEach((i,p)=>{if(i==="ERROR"||i==="NOT FOUND"||i==="NONE"){let d=qr+E[p];f.push(n0.get(d))}}),Promise.all(f).then(async i=>{console.log("/////////清除结果//////////"),console.log(i.data),v(null)}).catch(i=>{throw new Error("清除结果失败")})}}).catch(B=>{throw new Error("模型运行失败")})},3e3)}).catch(s=>{console.warn(s.message),Yr("模型运行失败","error"),C(!1)})})},Ra=u=>{let e=Ta(u),a=Sa(u),r=wa(u,a);return{warnLayerData:e,riskAreassss:r,finalResult:a}},Ta=u=>[{name:"JC01",coords:[[120.49989610501109,32.044845778820694],[120.49965852902085,32.043054010465546]],warnValue:u.JC01.result},{name:"JC02",coords:[[120.51211644811006,32.04310480824947],[120.51157809855385,32.04135665004222]],warnValue:u.JC02.result},{name:"JC03",coords:[[120.51598399026375,32.04244111945512],[120.51554162835052,32.04064910386879]],warnValue:u.JC03.result},{name:"JC04",coords:[[120.52163733002358,32.040317481106044],[120.52010747944439,32.03901766791365]],warnValue:u.JC04.result},{name:"JC05",coords:[[120.52344753736321,32.03912224359854],[120.52202732882418,32.037765786589944]],warnValue:u.JC05.result},{name:"JC06",coords:[[120.5300568728269,32.035076196597906],[120.52886185568613,32.03359585101801]],warnValue:u.JC06.result},{name:"JC07",coords:[[120.53577029390934,32.03306474923213],[120.53521759568126,32.03132371065091]],warnValue:u.JC07.result},{name:"JC08",coords:[[120.54259039936055,32.03113531223312],[120.54191211481913,32.0294311450221]],warnValue:u.JC08.result},{name:"JC09",coords:[[120.54845619793755,32.02942703528161],[120.547645906125,32.027757714058616]],warnValue:u.JC09.result},{name:"JC10",coords:[[120.55217332294447,32.02819103999115],[120.55139957273384,32.02651468780271]],warnValue:u.JC10.result},{name:"JC11",coords:[[120.55987007042168,32.0256085153387],[120.55938372124096,32.02385317986381]],warnValue:u.JC11.result},{name:"JC12",coords:[[120.56542283954619,32.023997421425335],[120.56490201809913,32.022254233310434]],warnValue:u.JC12.result}],wa=(u,e)=>{let a=[],r=[],o=[],v=["MZ01围堤","MZ02顺堤","MZ03顺堤尾","MZ04江滩办","MZ05小港池","MZ06张靖皋桥位","MZ07桥位下游","MZ08海事码头","MZ09码头下游","MZ10雷达站","MZ11主路","MZ12沙尾"];return Object.keys(u).forEach((s,E)=>{let t=v[E],n=u[s].result;n<.25?o.push(t):n<.5?r.push(t):a.push(t)}),e==="高风险"?a:e==="中风险"?r:o},Sa=u=>{let e=0,a=0,r=null;for(let o in u){let C=u[o].result;if(C<.25||(C<.5?e++:a++),a>0){r="高风险";break}else if(e>0){r="中风险";break}else{r="低风险";break}}return r};var ka={exports:{}};function La(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ke={exports:{}};const Ma=Yt(oa);var Zr;function Z(){return Zr||(Zr=1,function(u,e){(function(a,r){u.exports=r()})(j,function(){var a=a||function(r,o){var v;if(typeof window<"u"&&window.crypto&&(v=window.crypto),typeof self<"u"&&self.crypto&&(v=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(v=globalThis.crypto),!v&&typeof window<"u"&&window.msCrypto&&(v=window.msCrypto),!v&&typeof j<"u"&&j.crypto&&(v=j.crypto),!v&&typeof La=="function")try{v=Ma}catch{}var C=function(){if(v){if(typeof v.getRandomValues=="function")try{return v.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof v.randomBytes=="function")try{return v.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function c(){}return function(l){var h;return c.prototype=l,h=new c,c.prototype=null,h}}(),E={},t=E.lib={},n=t.Base=function(){return{extend:function(c){var l=s(this);return c&&l.mixIn(c),(!l.hasOwnProperty("init")||this.init===l.init)&&(l.init=function(){l.$super.init.apply(this,arguments)}),l.init.prototype=l,l.$super=this,l},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var l in c)c.hasOwnProperty(l)&&(this[l]=c[l]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),B=t.WordArray=n.extend({init:function(c,l){c=this.words=c||[],l!=o?this.sigBytes=l:this.sigBytes=c.length*4},toString:function(c){return(c||f).stringify(this)},concat:function(c){var l=this.words,h=c.words,F=this.sigBytes,_=c.sigBytes;if(this.clamp(),F%4)for(var D=0;D<_;D++){var R=h[D>>>2]>>>24-D%4*8&255;l[F+D>>>2]|=R<<24-(F+D)%4*8}else for(var P=0;P<_;P+=4)l[F+P>>>2]=h[P>>>2];return this.sigBytes+=_,this},clamp:function(){var c=this.words,l=this.sigBytes;c[l>>>2]&=4294967295<<32-l%4*8,c.length=r.ceil(l/4)},clone:function(){var c=n.clone.call(this);return c.words=this.words.slice(0),c},random:function(c){for(var l=[],h=0;h<c;h+=4)l.push(C());return new B.init(l,c)}}),x=E.enc={},f=x.Hex={stringify:function(c){for(var l=c.words,h=c.sigBytes,F=[],_=0;_<h;_++){var D=l[_>>>2]>>>24-_%4*8&255;F.push((D>>>4).toString(16)),F.push((D&15).toString(16))}return F.join("")},parse:function(c){for(var l=c.length,h=[],F=0;F<l;F+=2)h[F>>>3]|=parseInt(c.substr(F,2),16)<<24-F%8*4;return new B.init(h,l/2)}},i=x.Latin1={stringify:function(c){for(var l=c.words,h=c.sigBytes,F=[],_=0;_<h;_++){var D=l[_>>>2]>>>24-_%4*8&255;F.push(String.fromCharCode(D))}return F.join("")},parse:function(c){for(var l=c.length,h=[],F=0;F<l;F++)h[F>>>2]|=(c.charCodeAt(F)&255)<<24-F%4*8;return new B.init(h,l)}},p=x.Utf8={stringify:function(c){try{return decodeURIComponent(escape(i.stringify(c)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(c){return i.parse(unescape(encodeURIComponent(c)))}},d=t.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new B.init,this._nDataBytes=0},_append:function(c){typeof c=="string"&&(c=p.parse(c)),this._data.concat(c),this._nDataBytes+=c.sigBytes},_process:function(c){var l,h=this._data,F=h.words,_=h.sigBytes,D=this.blockSize,R=D*4,P=_/R;c?P=r.ceil(P):P=r.max((P|0)-this._minBufferSize,0);var m=P*D,b=r.min(m*4,_);if(m){for(var T=0;T<m;T+=D)this._doProcessBlock(F,T);l=F.splice(0,m),h.sigBytes-=b}return new B.init(l,b)},clone:function(){var c=n.clone.call(this);return c._data=this._data.clone(),c},_minBufferSize:0});t.Hasher=d.extend({cfg:n.extend(),init:function(c){this.cfg=this.cfg.extend(c),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(c){return this._append(c),this._process(),this},finalize:function(c){c&&this._append(c);var l=this._doFinalize();return l},blockSize:16,_createHelper:function(c){return function(l,h){return new c.init(h).finalize(l)}},_createHmacHelper:function(c){return function(l,h){return new A.HMAC.init(c,h).finalize(l)}}});var A=E.algo={};return E}(Math);return a})}(Ke)),Ke.exports}var $e={exports:{}},Kr;function ze(){return Kr||(Kr=1,function(u,e){(function(a,r){u.exports=r(Z())})(j,function(a){return function(r){var o=a,v=o.lib,C=v.Base,s=v.WordArray,E=o.x64={};E.Word=C.extend({init:function(t,n){this.high=t,this.low=n}}),E.WordArray=C.extend({init:function(t,n){t=this.words=t||[],n!=r?this.sigBytes=n:this.sigBytes=t.length*8},toX32:function(){for(var t=this.words,n=t.length,B=[],x=0;x<n;x++){var f=t[x];B.push(f.high),B.push(f.low)}return s.create(B,this.sigBytes)},clone:function(){for(var t=C.clone.call(this),n=t.words=this.words.slice(0),B=n.length,x=0;x<B;x++)n[x]=n[x].clone();return t}})}(),a})}($e)),$e.exports}var Je={exports:{}},$r;function Pa(){return $r||($r=1,function(u,e){(function(a,r){u.exports=r(Z())})(j,function(a){return function(){if(typeof ArrayBuffer=="function"){var r=a,o=r.lib,v=o.WordArray,C=v.init,s=v.init=function(E){if(E instanceof ArrayBuffer&&(E=new Uint8Array(E)),(E instanceof Int8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)&&(E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength)),E instanceof Uint8Array){for(var t=E.byteLength,n=[],B=0;B<t;B++)n[B>>>2]|=E[B]<<24-B%4*8;C.call(this,n,t)}else C.apply(this,arguments)};s.prototype=v}}(),a.lib.WordArray})}(Je)),Je.exports}var Qe={exports:{}},Jr;function Ua(){return Jr||(Jr=1,function(u,e){(function(a,r){u.exports=r(Z())})(j,function(a){return function(){var r=a,o=r.lib,v=o.WordArray,C=r.enc;C.Utf16=C.Utf16BE={stringify:function(E){for(var t=E.words,n=E.sigBytes,B=[],x=0;x<n;x+=2){var f=t[x>>>2]>>>16-x%4*8&65535;B.push(String.fromCharCode(f))}return B.join("")},parse:function(E){for(var t=E.length,n=[],B=0;B<t;B++)n[B>>>1]|=E.charCodeAt(B)<<16-B%2*16;return v.create(n,t*2)}},C.Utf16LE={stringify:function(E){for(var t=E.words,n=E.sigBytes,B=[],x=0;x<n;x+=2){var f=s(t[x>>>2]>>>16-x%4*8&65535);B.push(String.fromCharCode(f))}return B.join("")},parse:function(E){for(var t=E.length,n=[],B=0;B<t;B++)n[B>>>1]|=s(E.charCodeAt(B)<<16-B%2*16);return v.create(n,t*2)}};function s(E){return E<<8&4278255360|E>>>8&16711935}}(),a.enc.Utf16})}(Qe)),Qe.exports}var er={exports:{}},Qr;function de(){return Qr||(Qr=1,function(u,e){(function(a,r){u.exports=r(Z())})(j,function(a){return function(){var r=a,o=r.lib,v=o.WordArray,C=r.enc;C.Base64={stringify:function(E){var t=E.words,n=E.sigBytes,B=this._map;E.clamp();for(var x=[],f=0;f<n;f+=3)for(var i=t[f>>>2]>>>24-f%4*8&255,p=t[f+1>>>2]>>>24-(f+1)%4*8&255,d=t[f+2>>>2]>>>24-(f+2)%4*8&255,A=i<<16|p<<8|d,c=0;c<4&&f+c*.75<n;c++)x.push(B.charAt(A>>>6*(3-c)&63));var l=B.charAt(64);if(l)for(;x.length%4;)x.push(l);return x.join("")},parse:function(E){var t=E.length,n=this._map,B=this._reverseMap;if(!B){B=this._reverseMap=[];for(var x=0;x<n.length;x++)B[n.charCodeAt(x)]=x}var f=n.charAt(64);if(f){var i=E.indexOf(f);i!==-1&&(t=i)}return s(E,t,B)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(E,t,n){for(var B=[],x=0,f=0;f<t;f++)if(f%4){var i=n[E.charCodeAt(f-1)]<<f%4*2,p=n[E.charCodeAt(f)]>>>6-f%4*2,d=i|p;B[x>>>2]|=d<<24-x%4*8,x++}return v.create(B,x)}}(),a.enc.Base64})}(er)),er.exports}var rr={exports:{}},et;function Na(){return et||(et=1,function(u,e){(function(a,r){u.exports=r(Z())})(j,function(a){return function(){var r=a,o=r.lib,v=o.WordArray,C=r.enc;C.Base64url={stringify:function(E,t){t===void 0&&(t=!0);var n=E.words,B=E.sigBytes,x=t?this._safe_map:this._map;E.clamp();for(var f=[],i=0;i<B;i+=3)for(var p=n[i>>>2]>>>24-i%4*8&255,d=n[i+1>>>2]>>>24-(i+1)%4*8&255,A=n[i+2>>>2]>>>24-(i+2)%4*8&255,c=p<<16|d<<8|A,l=0;l<4&&i+l*.75<B;l++)f.push(x.charAt(c>>>6*(3-l)&63));var h=x.charAt(64);if(h)for(;f.length%4;)f.push(h);return f.join("")},parse:function(E,t){t===void 0&&(t=!0);var n=E.length,B=t?this._safe_map:this._map,x=this._reverseMap;if(!x){x=this._reverseMap=[];for(var f=0;f<B.length;f++)x[B.charCodeAt(f)]=f}var i=B.charAt(64);if(i){var p=E.indexOf(i);p!==-1&&(n=p)}return s(E,n,x)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(E,t,n){for(var B=[],x=0,f=0;f<t;f++)if(f%4){var i=n[E.charCodeAt(f-1)]<<f%4*2,p=n[E.charCodeAt(f)]>>>6-f%4*2,d=i|p;B[x>>>2]|=d<<24-x%4*8,x++}return v.create(B,x)}}(),a.enc.Base64url})}(rr)),rr.exports}var tr={exports:{}},rt;function he(){return rt||(rt=1,function(u,e){(function(a,r){u.exports=r(Z())})(j,function(a){return function(r){var o=a,v=o.lib,C=v.WordArray,s=v.Hasher,E=o.algo,t=[];(function(){for(var p=0;p<64;p++)t[p]=r.abs(r.sin(p+1))*4294967296|0})();var n=E.MD5=s.extend({_doReset:function(){this._hash=new C.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,d){for(var A=0;A<16;A++){var c=d+A,l=p[c];p[c]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360}var h=this._hash.words,F=p[d+0],_=p[d+1],D=p[d+2],R=p[d+3],P=p[d+4],m=p[d+5],b=p[d+6],T=p[d+7],w=p[d+8],I=p[d+9],N=p[d+10],G=p[d+11],q=p[d+12],Y=p[d+13],$=p[d+14],J=p[d+15],y=h[0],k=h[1],L=h[2],S=h[3];y=B(y,k,L,S,F,7,t[0]),S=B(S,y,k,L,_,12,t[1]),L=B(L,S,y,k,D,17,t[2]),k=B(k,L,S,y,R,22,t[3]),y=B(y,k,L,S,P,7,t[4]),S=B(S,y,k,L,m,12,t[5]),L=B(L,S,y,k,b,17,t[6]),k=B(k,L,S,y,T,22,t[7]),y=B(y,k,L,S,w,7,t[8]),S=B(S,y,k,L,I,12,t[9]),L=B(L,S,y,k,N,17,t[10]),k=B(k,L,S,y,G,22,t[11]),y=B(y,k,L,S,q,7,t[12]),S=B(S,y,k,L,Y,12,t[13]),L=B(L,S,y,k,$,17,t[14]),k=B(k,L,S,y,J,22,t[15]),y=x(y,k,L,S,_,5,t[16]),S=x(S,y,k,L,b,9,t[17]),L=x(L,S,y,k,G,14,t[18]),k=x(k,L,S,y,F,20,t[19]),y=x(y,k,L,S,m,5,t[20]),S=x(S,y,k,L,N,9,t[21]),L=x(L,S,y,k,J,14,t[22]),k=x(k,L,S,y,P,20,t[23]),y=x(y,k,L,S,I,5,t[24]),S=x(S,y,k,L,$,9,t[25]),L=x(L,S,y,k,R,14,t[26]),k=x(k,L,S,y,w,20,t[27]),y=x(y,k,L,S,Y,5,t[28]),S=x(S,y,k,L,D,9,t[29]),L=x(L,S,y,k,T,14,t[30]),k=x(k,L,S,y,q,20,t[31]),y=f(y,k,L,S,m,4,t[32]),S=f(S,y,k,L,w,11,t[33]),L=f(L,S,y,k,G,16,t[34]),k=f(k,L,S,y,$,23,t[35]),y=f(y,k,L,S,_,4,t[36]),S=f(S,y,k,L,P,11,t[37]),L=f(L,S,y,k,T,16,t[38]),k=f(k,L,S,y,N,23,t[39]),y=f(y,k,L,S,Y,4,t[40]),S=f(S,y,k,L,F,11,t[41]),L=f(L,S,y,k,R,16,t[42]),k=f(k,L,S,y,b,23,t[43]),y=f(y,k,L,S,I,4,t[44]),S=f(S,y,k,L,q,11,t[45]),L=f(L,S,y,k,J,16,t[46]),k=f(k,L,S,y,D,23,t[47]),y=i(y,k,L,S,F,6,t[48]),S=i(S,y,k,L,T,10,t[49]),L=i(L,S,y,k,$,15,t[50]),k=i(k,L,S,y,m,21,t[51]),y=i(y,k,L,S,q,6,t[52]),S=i(S,y,k,L,R,10,t[53]),L=i(L,S,y,k,N,15,t[54]),k=i(k,L,S,y,_,21,t[55]),y=i(y,k,L,S,w,6,t[56]),S=i(S,y,k,L,J,10,t[57]),L=i(L,S,y,k,b,15,t[58]),k=i(k,L,S,y,Y,21,t[59]),y=i(y,k,L,S,P,6,t[60]),S=i(S,y,k,L,G,10,t[61]),L=i(L,S,y,k,D,15,t[62]),k=i(k,L,S,y,I,21,t[63]),h[0]=h[0]+y|0,h[1]=h[1]+k|0,h[2]=h[2]+L|0,h[3]=h[3]+S|0},_doFinalize:function(){var p=this._data,d=p.words,A=this._nDataBytes*8,c=p.sigBytes*8;d[c>>>5]|=128<<24-c%32;var l=r.floor(A/4294967296),h=A;d[(c+64>>>9<<4)+15]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360,d[(c+64>>>9<<4)+14]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,p.sigBytes=(d.length+1)*4,this._process();for(var F=this._hash,_=F.words,D=0;D<4;D++){var R=_[D];_[D]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return F},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p}});function B(p,d,A,c,l,h,F){var _=p+(d&A|~d&c)+l+F;return(_<<h|_>>>32-h)+d}function x(p,d,A,c,l,h,F){var _=p+(d&c|A&~c)+l+F;return(_<<h|_>>>32-h)+d}function f(p,d,A,c,l,h,F){var _=p+(d^A^c)+l+F;return(_<<h|_>>>32-h)+d}function i(p,d,A,c,l,h,F){var _=p+(A^(d|~c))+l+F;return(_<<h|_>>>32-h)+d}o.MD5=s._createHelper(n),o.HmacMD5=s._createHmacHelper(n)}(Math),a.MD5})}(tr)),tr.exports}var ar={exports:{}},tt;function Lt(){return tt||(tt=1,function(u,e){(function(a,r){u.exports=r(Z())})(j,function(a){return function(){var r=a,o=r.lib,v=o.WordArray,C=o.Hasher,s=r.algo,E=[],t=s.SHA1=C.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(n,B){for(var x=this._hash.words,f=x[0],i=x[1],p=x[2],d=x[3],A=x[4],c=0;c<80;c++){if(c<16)E[c]=n[B+c]|0;else{var l=E[c-3]^E[c-8]^E[c-14]^E[c-16];E[c]=l<<1|l>>>31}var h=(f<<5|f>>>27)+A+E[c];c<20?h+=(i&p|~i&d)+1518500249:c<40?h+=(i^p^d)+1859775393:c<60?h+=(i&p|i&d|p&d)-1894007588:h+=(i^p^d)-899497514,A=d,d=p,p=i<<30|i>>>2,i=f,f=h}x[0]=x[0]+f|0,x[1]=x[1]+i|0,x[2]=x[2]+p|0,x[3]=x[3]+d|0,x[4]=x[4]+A|0},_doFinalize:function(){var n=this._data,B=n.words,x=this._nDataBytes*8,f=n.sigBytes*8;return B[f>>>5]|=128<<24-f%32,B[(f+64>>>9<<4)+14]=Math.floor(x/4294967296),B[(f+64>>>9<<4)+15]=x,n.sigBytes=B.length*4,this._process(),this._hash},clone:function(){var n=C.clone.call(this);return n._hash=this._hash.clone(),n}});r.SHA1=C._createHelper(t),r.HmacSHA1=C._createHmacHelper(t)}(),a.SHA1})}(ar)),ar.exports}var ir={exports:{}},at;function kr(){return at||(at=1,function(u,e){(function(a,r){u.exports=r(Z())})(j,function(a){return function(r){var o=a,v=o.lib,C=v.WordArray,s=v.Hasher,E=o.algo,t=[],n=[];(function(){function f(A){for(var c=r.sqrt(A),l=2;l<=c;l++)if(!(A%l))return!1;return!0}function i(A){return(A-(A|0))*4294967296|0}for(var p=2,d=0;d<64;)f(p)&&(d<8&&(t[d]=i(r.pow(p,1/2))),n[d]=i(r.pow(p,1/3)),d++),p++})();var B=[],x=E.SHA256=s.extend({_doReset:function(){this._hash=new C.init(t.slice(0))},_doProcessBlock:function(f,i){for(var p=this._hash.words,d=p[0],A=p[1],c=p[2],l=p[3],h=p[4],F=p[5],_=p[6],D=p[7],R=0;R<64;R++){if(R<16)B[R]=f[i+R]|0;else{var P=B[R-15],m=(P<<25|P>>>7)^(P<<14|P>>>18)^P>>>3,b=B[R-2],T=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;B[R]=m+B[R-7]+T+B[R-16]}var w=h&F^~h&_,I=d&A^d&c^A&c,N=(d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22),G=(h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25),q=D+G+w+n[R]+B[R],Y=N+I;D=_,_=F,F=h,h=l+q|0,l=c,c=A,A=d,d=q+Y|0}p[0]=p[0]+d|0,p[1]=p[1]+A|0,p[2]=p[2]+c|0,p[3]=p[3]+l|0,p[4]=p[4]+h|0,p[5]=p[5]+F|0,p[6]=p[6]+_|0,p[7]=p[7]+D|0},_doFinalize:function(){var f=this._data,i=f.words,p=this._nDataBytes*8,d=f.sigBytes*8;return i[d>>>5]|=128<<24-d%32,i[(d+64>>>9<<4)+14]=r.floor(p/4294967296),i[(d+64>>>9<<4)+15]=p,f.sigBytes=i.length*4,this._process(),this._hash},clone:function(){var f=s.clone.call(this);return f._hash=this._hash.clone(),f}});o.SHA256=s._createHelper(x),o.HmacSHA256=s._createHmacHelper(x)}(Math),a.SHA256})}(ir)),ir.exports}var or={exports:{}},it;function za(){return it||(it=1,function(u,e){(function(a,r,o){u.exports=r(Z(),kr())})(j,function(a){return function(){var r=a,o=r.lib,v=o.WordArray,C=r.algo,s=C.SHA256,E=C.SHA224=s.extend({_doReset:function(){this._hash=new v.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=s._doFinalize.call(this);return t.sigBytes-=4,t}});r.SHA224=s._createHelper(E),r.HmacSHA224=s._createHmacHelper(E)}(),a.SHA224})}(or)),or.exports}var nr={exports:{}},ot;function Mt(){return ot||(ot=1,function(u,e){(function(a,r,o){u.exports=r(Z(),ze())})(j,function(a){return function(){var r=a,o=r.lib,v=o.Hasher,C=r.x64,s=C.Word,E=C.WordArray,t=r.algo;function n(){return s.create.apply(s,arguments)}var B=[n(1116352408,3609767458),n(1899447441,602891725),n(3049323471,3964484399),n(3921009573,2173295548),n(961987163,4081628472),n(1508970993,3053834265),n(2453635748,2937671579),n(2870763221,3664609560),n(3624381080,2734883394),n(310598401,1164996542),n(607225278,1323610764),n(1426881987,3590304994),n(1925078388,4068182383),n(2162078206,991336113),n(2614888103,633803317),n(3248222580,3479774868),n(3835390401,2666613458),n(4022224774,944711139),n(264347078,2341262773),n(604807628,2007800933),n(770255983,1495990901),n(1249150122,1856431235),n(1555081692,3175218132),n(1996064986,2198950837),n(2554220882,3999719339),n(2821834349,766784016),n(2952996808,2566594879),n(3210313671,3203337956),n(3336571891,1034457026),n(3584528711,2466948901),n(113926993,3758326383),n(338241895,168717936),n(666307205,1188179964),n(773529912,1546045734),n(1294757372,1522805485),n(1396182291,2643833823),n(1695183700,2343527390),n(1986661051,1014477480),n(2177026350,1206759142),n(2456956037,344077627),n(2730485921,1290863460),n(2820302411,3158454273),n(3259730800,3505952657),n(3345764771,106217008),n(3516065817,3606008344),n(3600352804,1432725776),n(4094571909,1467031594),n(275423344,851169720),n(430227734,3100823752),n(506948616,1363258195),n(659060556,3750685593),n(883997877,3785050280),n(958139571,3318307427),n(1322822218,3812723403),n(1537002063,2003034995),n(1747873779,3602036899),n(1955562222,1575990012),n(2024104815,1125592928),n(2227730452,2716904306),n(2361852424,442776044),n(2428436474,593698344),n(2756734187,3733110249),n(3204031479,2999351573),n(3329325298,3815920427),n(3391569614,3928383900),n(3515267271,566280711),n(3940187606,3454069534),n(4118630271,4000239992),n(116418474,1914138554),n(174292421,2731055270),n(289380356,3203993006),n(460393269,320620315),n(685471733,587496836),n(852142971,1086792851),n(1017036298,365543100),n(1126000580,2618297676),n(1288033470,3409855158),n(1501505948,4234509866),n(1607167915,987167468),n(1816402316,1246189591)],x=[];(function(){for(var i=0;i<80;i++)x[i]=n()})();var f=t.SHA512=v.extend({_doReset:function(){this._hash=new E.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(i,p){for(var d=this._hash.words,A=d[0],c=d[1],l=d[2],h=d[3],F=d[4],_=d[5],D=d[6],R=d[7],P=A.high,m=A.low,b=c.high,T=c.low,w=l.high,I=l.low,N=h.high,G=h.low,q=F.high,Y=F.low,$=_.high,J=_.low,y=D.high,k=D.low,L=R.high,S=R.low,e0=P,Q=m,x0=b,X=T,z0=w,O0=I,_0=N,S0=G,p0=q,f0=Y,b0=$,G0=J,te=y,ae=k,Fe=L,k0=S,c0=0;c0<80;c0++){var h0,L0,ie=x[c0];if(c0<16)L0=ie.high=i[p+c0*2]|0,h0=ie.low=i[p+c0*2+1]|0;else{var Ce=x[c0-15],v0=Ce.high,E0=Ce.low,ve=(v0>>>1|E0<<31)^(v0>>>8|E0<<24)^v0>>>7,oe=(E0>>>1|v0<<31)^(E0>>>8|v0<<24)^(E0>>>7|v0<<25),M0=x[c0-2],F0=M0.high,j0=M0.low,ye=(F0>>>19|j0<<13)^(F0<<3|j0>>>29)^F0>>>6,C0=(j0>>>19|F0<<13)^(j0<<3|F0>>>29)^(j0>>>6|F0<<26),De=x[c0-7],ne=De.high,se=De.low,q0=x[c0-16],I0=q0.high,Re=q0.low;h0=oe+se,L0=ve+ne+(h0>>>0<oe>>>0?1:0),h0=h0+C0,L0=L0+ye+(h0>>>0<C0>>>0?1:0),h0=h0+Re,L0=L0+I0+(h0>>>0<Re>>>0?1:0),ie.high=L0,ie.low=h0}var g0=p0&b0^~p0&te,Te=f0&G0^~f0&ae,B0=e0&x0^e0&z0^x0&z0,Oe=Q&X^Q&O0^X&O0,H0=(e0>>>28|Q<<4)^(e0<<30|Q>>>2)^(e0<<25|Q>>>7),Y0=(Q>>>28|e0<<4)^(Q<<30|e0>>>2)^(Q<<25|e0>>>7),we=(p0>>>14|f0<<18)^(p0>>>18|f0<<14)^(p0<<23|f0>>>9),Z0=(f0>>>14|p0<<18)^(f0>>>18|p0<<14)^(f0<<23|p0>>>9),K0=B[c0],P0=K0.high,pe=K0.low,a0=k0+Z0,D0=Fe+we+(a0>>>0<k0>>>0?1:0),a0=a0+Te,D0=D0+g0+(a0>>>0<Te>>>0?1:0),a0=a0+pe,D0=D0+P0+(a0>>>0<pe>>>0?1:0),a0=a0+h0,D0=D0+L0+(a0>>>0<h0>>>0?1:0),m0=Y0+Oe,xe=H0+B0+(m0>>>0<Y0>>>0?1:0);Fe=te,k0=ae,te=b0,ae=G0,b0=p0,G0=f0,f0=S0+a0|0,p0=_0+D0+(f0>>>0<S0>>>0?1:0)|0,_0=z0,S0=O0,z0=x0,O0=X,x0=e0,X=Q,Q=a0+m0|0,e0=D0+xe+(Q>>>0<a0>>>0?1:0)|0}m=A.low=m+Q,A.high=P+e0+(m>>>0<Q>>>0?1:0),T=c.low=T+X,c.high=b+x0+(T>>>0<X>>>0?1:0),I=l.low=I+O0,l.high=w+z0+(I>>>0<O0>>>0?1:0),G=h.low=G+S0,h.high=N+_0+(G>>>0<S0>>>0?1:0),Y=F.low=Y+f0,F.high=q+p0+(Y>>>0<f0>>>0?1:0),J=_.low=J+G0,_.high=$+b0+(J>>>0<G0>>>0?1:0),k=D.low=k+ae,D.high=y+te+(k>>>0<ae>>>0?1:0),S=R.low=S+k0,R.high=L+Fe+(S>>>0<k0>>>0?1:0)},_doFinalize:function(){var i=this._data,p=i.words,d=this._nDataBytes*8,A=i.sigBytes*8;p[A>>>5]|=128<<24-A%32,p[(A+128>>>10<<5)+30]=Math.floor(d/4294967296),p[(A+128>>>10<<5)+31]=d,i.sigBytes=p.length*4,this._process();var c=this._hash.toX32();return c},clone:function(){var i=v.clone.call(this);return i._hash=this._hash.clone(),i},blockSize:1024/32});r.SHA512=v._createHelper(f),r.HmacSHA512=v._createHmacHelper(f)}(),a.SHA512})}(nr)),nr.exports}var sr={exports:{}},nt;function Oa(){return nt||(nt=1,function(u,e){(function(a,r,o){u.exports=r(Z(),ze(),Mt())})(j,function(a){return function(){var r=a,o=r.x64,v=o.Word,C=o.WordArray,s=r.algo,E=s.SHA512,t=s.SHA384=E.extend({_doReset:function(){this._hash=new C.init([new v.init(3418070365,3238371032),new v.init(1654270250,914150663),new v.init(2438529370,812702999),new v.init(355462360,4144912697),new v.init(1731405415,4290775857),new v.init(2394180231,1750603025),new v.init(3675008525,1694076839),new v.init(1203062813,3204075428)])},_doFinalize:function(){var n=E._doFinalize.call(this);return n.sigBytes-=16,n}});r.SHA384=E._createHelper(t),r.HmacSHA384=E._createHmacHelper(t)}(),a.SHA384})}(sr)),sr.exports}var xr={exports:{}},st;function Ia(){return st||(st=1,function(u,e){(function(a,r,o){u.exports=r(Z(),ze())})(j,function(a){return function(r){var o=a,v=o.lib,C=v.WordArray,s=v.Hasher,E=o.x64,t=E.Word,n=o.algo,B=[],x=[],f=[];(function(){for(var d=1,A=0,c=0;c<24;c++){B[d+5*A]=(c+1)*(c+2)/2%64;var l=A%5,h=(2*d+3*A)%5;d=l,A=h}for(var d=0;d<5;d++)for(var A=0;A<5;A++)x[d+5*A]=A+(2*d+3*A)%5*5;for(var F=1,_=0;_<24;_++){for(var D=0,R=0,P=0;P<7;P++){if(F&1){var m=(1<<P)-1;m<32?R^=1<<m:D^=1<<m-32}F&128?F=F<<1^113:F<<=1}f[_]=t.create(D,R)}})();var i=[];(function(){for(var d=0;d<25;d++)i[d]=t.create()})();var p=n.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var d=this._state=[],A=0;A<25;A++)d[A]=new t.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(d,A){for(var c=this._state,l=this.blockSize/2,h=0;h<l;h++){var F=d[A+2*h],_=d[A+2*h+1];F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360;var D=c[h];D.high^=_,D.low^=F}for(var R=0;R<24;R++){for(var P=0;P<5;P++){for(var m=0,b=0,T=0;T<5;T++){var D=c[P+5*T];m^=D.high,b^=D.low}var w=i[P];w.high=m,w.low=b}for(var P=0;P<5;P++)for(var I=i[(P+4)%5],N=i[(P+1)%5],G=N.high,q=N.low,m=I.high^(G<<1|q>>>31),b=I.low^(q<<1|G>>>31),T=0;T<5;T++){var D=c[P+5*T];D.high^=m,D.low^=b}for(var Y=1;Y<25;Y++){var m,b,D=c[Y],$=D.high,J=D.low,y=B[Y];y<32?(m=$<<y|J>>>32-y,b=J<<y|$>>>32-y):(m=J<<y-32|$>>>64-y,b=$<<y-32|J>>>64-y);var k=i[x[Y]];k.high=m,k.low=b}var L=i[0],S=c[0];L.high=S.high,L.low=S.low;for(var P=0;P<5;P++)for(var T=0;T<5;T++){var Y=P+5*T,D=c[Y],e0=i[Y],Q=i[(P+1)%5+5*T],x0=i[(P+2)%5+5*T];D.high=e0.high^~Q.high&x0.high,D.low=e0.low^~Q.low&x0.low}var D=c[0],X=f[R];D.high^=X.high,D.low^=X.low}},_doFinalize:function(){var d=this._data,A=d.words;this._nDataBytes*8;var c=d.sigBytes*8,l=this.blockSize*32;A[c>>>5]|=1<<24-c%32,A[(r.ceil((c+1)/l)*l>>>5)-1]|=128,d.sigBytes=A.length*4,this._process();for(var h=this._state,F=this.cfg.outputLength/8,_=F/8,D=[],R=0;R<_;R++){var P=h[R],m=P.high,b=P.low;m=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,D.push(b),D.push(m)}return new C.init(D,F)},clone:function(){for(var d=s.clone.call(this),A=d._state=this._state.slice(0),c=0;c<25;c++)A[c]=A[c].clone();return d}});o.SHA3=s._createHelper(p),o.HmacSHA3=s._createHmacHelper(p)}(Math),a.SHA3})}(xr)),xr.exports}var cr={exports:{}},xt;function ga(){return xt||(xt=1,function(u,e){(function(a,r){u.exports=r(Z())})(j,function(a){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var o=a,v=o.lib,C=v.WordArray,s=v.Hasher,E=o.algo,t=C.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),n=C.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),B=C.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),x=C.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=C.create([0,1518500249,1859775393,2400959708,2840853838]),i=C.create([1352829926,1548603684,1836072691,2053994217,0]),p=E.RIPEMD160=s.extend({_doReset:function(){this._hash=C.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(_,D){for(var R=0;R<16;R++){var P=D+R,m=_[P];_[P]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}var b=this._hash.words,T=f.words,w=i.words,I=t.words,N=n.words,G=B.words,q=x.words,Y,$,J,y,k,L,S,e0,Q,x0;L=Y=b[0],S=$=b[1],e0=J=b[2],Q=y=b[3],x0=k=b[4];for(var X,R=0;R<80;R+=1)X=Y+_[D+I[R]]|0,R<16?X+=d($,J,y)+T[0]:R<32?X+=A($,J,y)+T[1]:R<48?X+=c($,J,y)+T[2]:R<64?X+=l($,J,y)+T[3]:X+=h($,J,y)+T[4],X=X|0,X=F(X,G[R]),X=X+k|0,Y=k,k=y,y=F(J,10),J=$,$=X,X=L+_[D+N[R]]|0,R<16?X+=h(S,e0,Q)+w[0]:R<32?X+=l(S,e0,Q)+w[1]:R<48?X+=c(S,e0,Q)+w[2]:R<64?X+=A(S,e0,Q)+w[3]:X+=d(S,e0,Q)+w[4],X=X|0,X=F(X,q[R]),X=X+x0|0,L=x0,x0=Q,Q=F(e0,10),e0=S,S=X;X=b[1]+J+Q|0,b[1]=b[2]+y+x0|0,b[2]=b[3]+k+L|0,b[3]=b[4]+Y+S|0,b[4]=b[0]+$+e0|0,b[0]=X},_doFinalize:function(){var _=this._data,D=_.words,R=this._nDataBytes*8,P=_.sigBytes*8;D[P>>>5]|=128<<24-P%32,D[(P+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,_.sigBytes=(D.length+1)*4,this._process();for(var m=this._hash,b=m.words,T=0;T<5;T++){var w=b[T];b[T]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}return m},clone:function(){var _=s.clone.call(this);return _._hash=this._hash.clone(),_}});function d(_,D,R){return _^D^R}function A(_,D,R){return _&D|~_&R}function c(_,D,R){return(_|~D)^R}function l(_,D,R){return _&R|D&~R}function h(_,D,R){return _^(D|~R)}function F(_,D){return _<<D|_>>>32-D}o.RIPEMD160=s._createHelper(p),o.HmacRIPEMD160=s._createHmacHelper(p)}(),a.RIPEMD160})}(cr)),cr.exports}var lr={exports:{}},ct;function Lr(){return ct||(ct=1,function(u,e){(function(a,r){u.exports=r(Z())})(j,function(a){(function(){var r=a,o=r.lib,v=o.Base,C=r.enc,s=C.Utf8,E=r.algo;E.HMAC=v.extend({init:function(t,n){t=this._hasher=new t.init,typeof n=="string"&&(n=s.parse(n));var B=t.blockSize,x=B*4;n.sigBytes>x&&(n=t.finalize(n)),n.clamp();for(var f=this._oKey=n.clone(),i=this._iKey=n.clone(),p=f.words,d=i.words,A=0;A<B;A++)p[A]^=1549556828,d[A]^=909522486;f.sigBytes=i.sigBytes=x,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var n=this._hasher,B=n.finalize(t);n.reset();var x=n.finalize(this._oKey.clone().concat(B));return x}})})()})}(lr)),lr.exports}var fr={exports:{}},lt;function Ha(){return lt||(lt=1,function(u,e){(function(a,r,o){u.exports=r(Z(),kr(),Lr())})(j,function(a){return function(){var r=a,o=r.lib,v=o.Base,C=o.WordArray,s=r.algo,E=s.SHA256,t=s.HMAC,n=s.PBKDF2=v.extend({cfg:v.extend({keySize:128/32,hasher:E,iterations:25e4}),init:function(B){this.cfg=this.cfg.extend(B)},compute:function(B,x){for(var f=this.cfg,i=t.create(f.hasher,B),p=C.create(),d=C.create([1]),A=p.words,c=d.words,l=f.keySize,h=f.iterations;A.length<l;){var F=i.update(x).finalize(d);i.reset();for(var _=F.words,D=_.length,R=F,P=1;P<h;P++){R=i.finalize(R),i.reset();for(var m=R.words,b=0;b<D;b++)_[b]^=m[b]}p.concat(F),c[0]++}return p.sigBytes=l*4,p}});r.PBKDF2=function(B,x,f){return n.create(f).compute(B,x)}}(),a.PBKDF2})}(fr)),fr.exports}var ur={exports:{}},ft;function re(){return ft||(ft=1,function(u,e){(function(a,r,o){u.exports=r(Z(),Lt(),Lr())})(j,function(a){return function(){var r=a,o=r.lib,v=o.Base,C=o.WordArray,s=r.algo,E=s.MD5,t=s.EvpKDF=v.extend({cfg:v.extend({keySize:128/32,hasher:E,iterations:1}),init:function(n){this.cfg=this.cfg.extend(n)},compute:function(n,B){for(var x,f=this.cfg,i=f.hasher.create(),p=C.create(),d=p.words,A=f.keySize,c=f.iterations;d.length<A;){x&&i.update(x),x=i.update(n).finalize(B),i.reset();for(var l=1;l<c;l++)x=i.finalize(x),i.reset();p.concat(x)}return p.sigBytes=A*4,p}});r.EvpKDF=function(n,B,x){return t.create(x).compute(n,B)}}(),a.EvpKDF})}(ur)),ur.exports}var dr={exports:{}},ut;function s0(){return ut||(ut=1,function(u,e){(function(a,r,o){u.exports=r(Z(),re())})(j,function(a){a.lib.Cipher||function(r){var o=a,v=o.lib,C=v.Base,s=v.WordArray,E=v.BufferedBlockAlgorithm,t=o.enc;t.Utf8;var n=t.Base64,B=o.algo,x=B.EvpKDF,f=v.Cipher=E.extend({cfg:C.extend(),createEncryptor:function(m,b){return this.create(this._ENC_XFORM_MODE,m,b)},createDecryptor:function(m,b){return this.create(this._DEC_XFORM_MODE,m,b)},init:function(m,b,T){this.cfg=this.cfg.extend(T),this._xformMode=m,this._key=b,this.reset()},reset:function(){E.reset.call(this),this._doReset()},process:function(m){return this._append(m),this._process()},finalize:function(m){m&&this._append(m);var b=this._doFinalize();return b},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function m(b){return typeof b=="string"?P:_}return function(b){return{encrypt:function(T,w,I){return m(w).encrypt(b,T,w,I)},decrypt:function(T,w,I){return m(w).decrypt(b,T,w,I)}}}}()});v.StreamCipher=f.extend({_doFinalize:function(){var m=this._process(!0);return m},blockSize:1});var i=o.mode={},p=v.BlockCipherMode=C.extend({createEncryptor:function(m,b){return this.Encryptor.create(m,b)},createDecryptor:function(m,b){return this.Decryptor.create(m,b)},init:function(m,b){this._cipher=m,this._iv=b}}),d=i.CBC=function(){var m=p.extend();m.Encryptor=m.extend({processBlock:function(T,w){var I=this._cipher,N=I.blockSize;b.call(this,T,w,N),I.encryptBlock(T,w),this._prevBlock=T.slice(w,w+N)}}),m.Decryptor=m.extend({processBlock:function(T,w){var I=this._cipher,N=I.blockSize,G=T.slice(w,w+N);I.decryptBlock(T,w),b.call(this,T,w,N),this._prevBlock=G}});function b(T,w,I){var N,G=this._iv;G?(N=G,this._iv=r):N=this._prevBlock;for(var q=0;q<I;q++)T[w+q]^=N[q]}return m}(),A=o.pad={},c=A.Pkcs7={pad:function(m,b){for(var T=b*4,w=T-m.sigBytes%T,I=w<<24|w<<16|w<<8|w,N=[],G=0;G<w;G+=4)N.push(I);var q=s.create(N,w);m.concat(q)},unpad:function(m){var b=m.words[m.sigBytes-1>>>2]&255;m.sigBytes-=b}};v.BlockCipher=f.extend({cfg:f.cfg.extend({mode:d,padding:c}),reset:function(){var m;f.reset.call(this);var b=this.cfg,T=b.iv,w=b.mode;this._xformMode==this._ENC_XFORM_MODE?m=w.createEncryptor:(m=w.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==m?this._mode.init(this,T&&T.words):(this._mode=m.call(w,this,T&&T.words),this._mode.__creator=m)},_doProcessBlock:function(m,b){this._mode.processBlock(m,b)},_doFinalize:function(){var m,b=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(b.pad(this._data,this.blockSize),m=this._process(!0)):(m=this._process(!0),b.unpad(m)),m},blockSize:128/32});var l=v.CipherParams=C.extend({init:function(m){this.mixIn(m)},toString:function(m){return(m||this.formatter).stringify(this)}}),h=o.format={},F=h.OpenSSL={stringify:function(m){var b,T=m.ciphertext,w=m.salt;return w?b=s.create([1398893684,1701076831]).concat(w).concat(T):b=T,b.toString(n)},parse:function(m){var b,T=n.parse(m),w=T.words;return w[0]==1398893684&&w[1]==1701076831&&(b=s.create(w.slice(2,4)),w.splice(0,4),T.sigBytes-=16),l.create({ciphertext:T,salt:b})}},_=v.SerializableCipher=C.extend({cfg:C.extend({format:F}),encrypt:function(m,b,T,w){w=this.cfg.extend(w);var I=m.createEncryptor(T,w),N=I.finalize(b),G=I.cfg;return l.create({ciphertext:N,key:T,iv:G.iv,algorithm:m,mode:G.mode,padding:G.padding,blockSize:m.blockSize,formatter:w.format})},decrypt:function(m,b,T,w){w=this.cfg.extend(w),b=this._parse(b,w.format);var I=m.createDecryptor(T,w).finalize(b.ciphertext);return I},_parse:function(m,b){return typeof m=="string"?b.parse(m,this):m}}),D=o.kdf={},R=D.OpenSSL={execute:function(m,b,T,w,I){if(w||(w=s.random(64/8)),I)var N=x.create({keySize:b+T,hasher:I}).compute(m,w);else var N=x.create({keySize:b+T}).compute(m,w);var G=s.create(N.words.slice(b),T*4);return N.sigBytes=b*4,l.create({key:N,iv:G,salt:w})}},P=v.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:R}),encrypt:function(m,b,T,w){w=this.cfg.extend(w);var I=w.kdf.execute(T,m.keySize,m.ivSize,w.salt,w.hasher);w.iv=I.iv;var N=_.encrypt.call(this,m,b,I.key,w);return N.mixIn(I),N},decrypt:function(m,b,T,w){w=this.cfg.extend(w),b=this._parse(b,w.format);var I=w.kdf.execute(T,m.keySize,m.ivSize,b.salt,w.hasher);w.iv=I.iv;var N=_.decrypt.call(this,m,b,I.key,w);return N}})}()})}(dr)),dr.exports}var hr={exports:{}},dt;function Va(){return dt||(dt=1,function(u,e){(function(a,r,o){u.exports=r(Z(),s0())})(j,function(a){return a.mode.CFB=function(){var r=a.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(v,C){var s=this._cipher,E=s.blockSize;o.call(this,v,C,E,s),this._prevBlock=v.slice(C,C+E)}}),r.Decryptor=r.extend({processBlock:function(v,C){var s=this._cipher,E=s.blockSize,t=v.slice(C,C+E);o.call(this,v,C,E,s),this._prevBlock=t}});function o(v,C,s,E){var t,n=this._iv;n?(t=n.slice(0),this._iv=void 0):t=this._prevBlock,E.encryptBlock(t,0);for(var B=0;B<s;B++)v[C+B]^=t[B]}return r}(),a.mode.CFB})}(hr)),hr.exports}var vr={exports:{}},ht;function Xa(){return ht||(ht=1,function(u,e){(function(a,r,o){u.exports=r(Z(),s0())})(j,function(a){return a.mode.CTR=function(){var r=a.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(v,C){var s=this._cipher,E=s.blockSize,t=this._iv,n=this._counter;t&&(n=this._counter=t.slice(0),this._iv=void 0);var B=n.slice(0);s.encryptBlock(B,0),n[E-1]=n[E-1]+1|0;for(var x=0;x<E;x++)v[C+x]^=B[x]}});return r.Decryptor=o,r}(),a.mode.CTR})}(vr)),vr.exports}var pr={exports:{}},vt;function Wa(){return vt||(vt=1,function(u,e){(function(a,r,o){u.exports=r(Z(),s0())})(j,function(a){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return a.mode.CTRGladman=function(){var r=a.lib.BlockCipherMode.extend();function o(s){if((s>>24&255)===255){var E=s>>16&255,t=s>>8&255,n=s&255;E===255?(E=0,t===255?(t=0,n===255?n=0:++n):++t):++E,s=0,s+=E<<16,s+=t<<8,s+=n}else s+=1<<24;return s}function v(s){return(s[0]=o(s[0]))===0&&(s[1]=o(s[1])),s}var C=r.Encryptor=r.extend({processBlock:function(s,E){var t=this._cipher,n=t.blockSize,B=this._iv,x=this._counter;B&&(x=this._counter=B.slice(0),this._iv=void 0),v(x);var f=x.slice(0);t.encryptBlock(f,0);for(var i=0;i<n;i++)s[E+i]^=f[i]}});return r.Decryptor=C,r}(),a.mode.CTRGladman})}(pr)),pr.exports}var Er={exports:{}},pt;function Ga(){return pt||(pt=1,function(u,e){(function(a,r,o){u.exports=r(Z(),s0())})(j,function(a){return a.mode.OFB=function(){var r=a.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(v,C){var s=this._cipher,E=s.blockSize,t=this._iv,n=this._keystream;t&&(n=this._keystream=t.slice(0),this._iv=void 0),s.encryptBlock(n,0);for(var B=0;B<E;B++)v[C+B]^=n[B]}});return r.Decryptor=o,r}(),a.mode.OFB})}(Er)),Er.exports}var Br={exports:{}},Et;function ja(){return Et||(Et=1,function(u,e){(function(a,r,o){u.exports=r(Z(),s0())})(j,function(a){return a.mode.ECB=function(){var r=a.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(o,v){this._cipher.encryptBlock(o,v)}}),r.Decryptor=r.extend({processBlock:function(o,v){this._cipher.decryptBlock(o,v)}}),r}(),a.mode.ECB})}(Br)),Br.exports}var mr={exports:{}},Bt;function qa(){return Bt||(Bt=1,function(u,e){(function(a,r,o){u.exports=r(Z(),s0())})(j,function(a){return a.pad.AnsiX923={pad:function(r,o){var v=r.sigBytes,C=o*4,s=C-v%C,E=v+s-1;r.clamp(),r.words[E>>>2]|=s<<24-E%4*8,r.sigBytes+=s},unpad:function(r){var o=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=o}},a.pad.Ansix923})}(mr)),mr.exports}var Ar={exports:{}},mt;function Ya(){return mt||(mt=1,function(u,e){(function(a,r,o){u.exports=r(Z(),s0())})(j,function(a){return a.pad.Iso10126={pad:function(r,o){var v=o*4,C=v-r.sigBytes%v;r.concat(a.lib.WordArray.random(C-1)).concat(a.lib.WordArray.create([C<<24],1))},unpad:function(r){var o=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=o}},a.pad.Iso10126})}(Ar)),Ar.exports}var _r={exports:{}},At;function Za(){return At||(At=1,function(u,e){(function(a,r,o){u.exports=r(Z(),s0())})(j,function(a){return a.pad.Iso97971={pad:function(r,o){r.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(r,o)},unpad:function(r){a.pad.ZeroPadding.unpad(r),r.sigBytes--}},a.pad.Iso97971})}(_r)),_r.exports}var Fr={exports:{}},_t;function Ka(){return _t||(_t=1,function(u,e){(function(a,r,o){u.exports=r(Z(),s0())})(j,function(a){return a.pad.ZeroPadding={pad:function(r,o){var v=o*4;r.clamp(),r.sigBytes+=v-(r.sigBytes%v||v)},unpad:function(r){for(var o=r.words,v=r.sigBytes-1,v=r.sigBytes-1;v>=0;v--)if(o[v>>>2]>>>24-v%4*8&255){r.sigBytes=v+1;break}}},a.pad.ZeroPadding})}(Fr)),Fr.exports}var Cr={exports:{}},Ft;function $a(){return Ft||(Ft=1,function(u,e){(function(a,r,o){u.exports=r(Z(),s0())})(j,function(a){return a.pad.NoPadding={pad:function(){},unpad:function(){}},a.pad.NoPadding})}(Cr)),Cr.exports}var Dr={exports:{}},Ct;function Ja(){return Ct||(Ct=1,function(u,e){(function(a,r,o){u.exports=r(Z(),s0())})(j,function(a){return function(r){var o=a,v=o.lib,C=v.CipherParams,s=o.enc,E=s.Hex,t=o.format;t.Hex={stringify:function(n){return n.ciphertext.toString(E)},parse:function(n){var B=E.parse(n);return C.create({ciphertext:B})}}}(),a.format.Hex})}(Dr)),Dr.exports}var br={exports:{}},Dt;function Qa(){return Dt||(Dt=1,function(u,e){(function(a,r,o){u.exports=r(Z(),de(),he(),re(),s0())})(j,function(a){return function(){var r=a,o=r.lib,v=o.BlockCipher,C=r.algo,s=[],E=[],t=[],n=[],B=[],x=[],f=[],i=[],p=[],d=[];(function(){for(var l=[],h=0;h<256;h++)h<128?l[h]=h<<1:l[h]=h<<1^283;for(var F=0,_=0,h=0;h<256;h++){var D=_^_<<1^_<<2^_<<3^_<<4;D=D>>>8^D&255^99,s[F]=D,E[D]=F;var R=l[F],P=l[R],m=l[P],b=l[D]*257^D*16843008;t[F]=b<<24|b>>>8,n[F]=b<<16|b>>>16,B[F]=b<<8|b>>>24,x[F]=b;var b=m*16843009^P*65537^R*257^F*16843008;f[D]=b<<24|b>>>8,i[D]=b<<16|b>>>16,p[D]=b<<8|b>>>24,d[D]=b,F?(F=R^l[l[l[m^R]]],_^=l[l[_]]):F=_=1}})();var A=[0,1,2,4,8,16,32,64,128,27,54],c=C.AES=v.extend({_doReset:function(){var l;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var h=this._keyPriorReset=this._key,F=h.words,_=h.sigBytes/4,D=this._nRounds=_+6,R=(D+1)*4,P=this._keySchedule=[],m=0;m<R;m++)m<_?P[m]=F[m]:(l=P[m-1],m%_?_>6&&m%_==4&&(l=s[l>>>24]<<24|s[l>>>16&255]<<16|s[l>>>8&255]<<8|s[l&255]):(l=l<<8|l>>>24,l=s[l>>>24]<<24|s[l>>>16&255]<<16|s[l>>>8&255]<<8|s[l&255],l^=A[m/_|0]<<24),P[m]=P[m-_]^l);for(var b=this._invKeySchedule=[],T=0;T<R;T++){var m=R-T;if(T%4)var l=P[m];else var l=P[m-4];T<4||m<=4?b[T]=l:b[T]=f[s[l>>>24]]^i[s[l>>>16&255]]^p[s[l>>>8&255]]^d[s[l&255]]}}},encryptBlock:function(l,h){this._doCryptBlock(l,h,this._keySchedule,t,n,B,x,s)},decryptBlock:function(l,h){var F=l[h+1];l[h+1]=l[h+3],l[h+3]=F,this._doCryptBlock(l,h,this._invKeySchedule,f,i,p,d,E);var F=l[h+1];l[h+1]=l[h+3],l[h+3]=F},_doCryptBlock:function(l,h,F,_,D,R,P,m){for(var b=this._nRounds,T=l[h]^F[0],w=l[h+1]^F[1],I=l[h+2]^F[2],N=l[h+3]^F[3],G=4,q=1;q<b;q++){var Y=_[T>>>24]^D[w>>>16&255]^R[I>>>8&255]^P[N&255]^F[G++],$=_[w>>>24]^D[I>>>16&255]^R[N>>>8&255]^P[T&255]^F[G++],J=_[I>>>24]^D[N>>>16&255]^R[T>>>8&255]^P[w&255]^F[G++],y=_[N>>>24]^D[T>>>16&255]^R[w>>>8&255]^P[I&255]^F[G++];T=Y,w=$,I=J,N=y}var Y=(m[T>>>24]<<24|m[w>>>16&255]<<16|m[I>>>8&255]<<8|m[N&255])^F[G++],$=(m[w>>>24]<<24|m[I>>>16&255]<<16|m[N>>>8&255]<<8|m[T&255])^F[G++],J=(m[I>>>24]<<24|m[N>>>16&255]<<16|m[T>>>8&255]<<8|m[w&255])^F[G++],y=(m[N>>>24]<<24|m[T>>>16&255]<<16|m[w>>>8&255]<<8|m[I&255])^F[G++];l[h]=Y,l[h+1]=$,l[h+2]=J,l[h+3]=y},keySize:256/32});r.AES=v._createHelper(c)}(),a.AES})}(br)),br.exports}var yr={exports:{}},bt;function ei(){return bt||(bt=1,function(u,e){(function(a,r,o){u.exports=r(Z(),de(),he(),re(),s0())})(j,function(a){return function(){var r=a,o=r.lib,v=o.WordArray,C=o.BlockCipher,s=r.algo,E=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],t=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],n=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],B=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],x=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=s.DES=C.extend({_doReset:function(){for(var A=this._key,c=A.words,l=[],h=0;h<56;h++){var F=E[h]-1;l[h]=c[F>>>5]>>>31-F%32&1}for(var _=this._subKeys=[],D=0;D<16;D++){for(var R=_[D]=[],P=n[D],h=0;h<24;h++)R[h/6|0]|=l[(t[h]-1+P)%28]<<31-h%6,R[4+(h/6|0)]|=l[28+(t[h+24]-1+P)%28]<<31-h%6;R[0]=R[0]<<1|R[0]>>>31;for(var h=1;h<7;h++)R[h]=R[h]>>>(h-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var m=this._invSubKeys=[],h=0;h<16;h++)m[h]=_[15-h]},encryptBlock:function(A,c){this._doCryptBlock(A,c,this._subKeys)},decryptBlock:function(A,c){this._doCryptBlock(A,c,this._invSubKeys)},_doCryptBlock:function(A,c,l){this._lBlock=A[c],this._rBlock=A[c+1],i.call(this,4,252645135),i.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),i.call(this,1,1431655765);for(var h=0;h<16;h++){for(var F=l[h],_=this._lBlock,D=this._rBlock,R=0,P=0;P<8;P++)R|=B[P][((D^F[P])&x[P])>>>0];this._lBlock=D,this._rBlock=_^R}var m=this._lBlock;this._lBlock=this._rBlock,this._rBlock=m,i.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),i.call(this,16,65535),i.call(this,4,252645135),A[c]=this._lBlock,A[c+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function i(A,c){var l=(this._lBlock>>>A^this._rBlock)&c;this._rBlock^=l,this._lBlock^=l<<A}function p(A,c){var l=(this._rBlock>>>A^this._lBlock)&c;this._lBlock^=l,this._rBlock^=l<<A}r.DES=C._createHelper(f);var d=s.TripleDES=C.extend({_doReset:function(){var A=this._key,c=A.words;if(c.length!==2&&c.length!==4&&c.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var l=c.slice(0,2),h=c.length<4?c.slice(0,2):c.slice(2,4),F=c.length<6?c.slice(0,2):c.slice(4,6);this._des1=f.createEncryptor(v.create(l)),this._des2=f.createEncryptor(v.create(h)),this._des3=f.createEncryptor(v.create(F))},encryptBlock:function(A,c){this._des1.encryptBlock(A,c),this._des2.decryptBlock(A,c),this._des3.encryptBlock(A,c)},decryptBlock:function(A,c){this._des3.decryptBlock(A,c),this._des2.encryptBlock(A,c),this._des1.decryptBlock(A,c)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=C._createHelper(d)}(),a.TripleDES})}(yr)),yr.exports}var Rr={exports:{}},yt;function ri(){return yt||(yt=1,function(u,e){(function(a,r,o){u.exports=r(Z(),de(),he(),re(),s0())})(j,function(a){return function(){var r=a,o=r.lib,v=o.StreamCipher,C=r.algo,s=C.RC4=v.extend({_doReset:function(){for(var n=this._key,B=n.words,x=n.sigBytes,f=this._S=[],i=0;i<256;i++)f[i]=i;for(var i=0,p=0;i<256;i++){var d=i%x,A=B[d>>>2]>>>24-d%4*8&255;p=(p+f[i]+A)%256;var c=f[i];f[i]=f[p],f[p]=c}this._i=this._j=0},_doProcessBlock:function(n,B){n[B]^=E.call(this)},keySize:256/32,ivSize:0});function E(){for(var n=this._S,B=this._i,x=this._j,f=0,i=0;i<4;i++){B=(B+1)%256,x=(x+n[B])%256;var p=n[B];n[B]=n[x],n[x]=p,f|=n[(n[B]+n[x])%256]<<24-i*8}return this._i=B,this._j=x,f}r.RC4=v._createHelper(s);var t=C.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var n=this.cfg.drop;n>0;n--)E.call(this)}});r.RC4Drop=v._createHelper(t)}(),a.RC4})}(Rr)),Rr.exports}var Tr={exports:{}},Rt;function ti(){return Rt||(Rt=1,function(u,e){(function(a,r,o){u.exports=r(Z(),de(),he(),re(),s0())})(j,function(a){return function(){var r=a,o=r.lib,v=o.StreamCipher,C=r.algo,s=[],E=[],t=[],n=C.Rabbit=v.extend({_doReset:function(){for(var x=this._key.words,f=this.cfg.iv,i=0;i<4;i++)x[i]=(x[i]<<8|x[i]>>>24)&16711935|(x[i]<<24|x[i]>>>8)&4278255360;var p=this._X=[x[0],x[3]<<16|x[2]>>>16,x[1],x[0]<<16|x[3]>>>16,x[2],x[1]<<16|x[0]>>>16,x[3],x[2]<<16|x[1]>>>16],d=this._C=[x[2]<<16|x[2]>>>16,x[0]&4294901760|x[1]&65535,x[3]<<16|x[3]>>>16,x[1]&4294901760|x[2]&65535,x[0]<<16|x[0]>>>16,x[2]&4294901760|x[3]&65535,x[1]<<16|x[1]>>>16,x[3]&4294901760|x[0]&65535];this._b=0;for(var i=0;i<4;i++)B.call(this);for(var i=0;i<8;i++)d[i]^=p[i+4&7];if(f){var A=f.words,c=A[0],l=A[1],h=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360,F=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360,_=h>>>16|F&4294901760,D=F<<16|h&65535;d[0]^=h,d[1]^=_,d[2]^=F,d[3]^=D,d[4]^=h,d[5]^=_,d[6]^=F,d[7]^=D;for(var i=0;i<4;i++)B.call(this)}},_doProcessBlock:function(x,f){var i=this._X;B.call(this),s[0]=i[0]^i[5]>>>16^i[3]<<16,s[1]=i[2]^i[7]>>>16^i[5]<<16,s[2]=i[4]^i[1]>>>16^i[7]<<16,s[3]=i[6]^i[3]>>>16^i[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,x[f+p]^=s[p]},blockSize:128/32,ivSize:64/32});function B(){for(var x=this._X,f=this._C,i=0;i<8;i++)E[i]=f[i];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<E[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<E[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<E[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<E[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<E[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<E[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<E[6]>>>0?1:0)|0,this._b=f[7]>>>0<E[7]>>>0?1:0;for(var i=0;i<8;i++){var p=x[i]+f[i],d=p&65535,A=p>>>16,c=((d*d>>>17)+d*A>>>15)+A*A,l=((p&4294901760)*p|0)+((p&65535)*p|0);t[i]=c^l}x[0]=t[0]+(t[7]<<16|t[7]>>>16)+(t[6]<<16|t[6]>>>16)|0,x[1]=t[1]+(t[0]<<8|t[0]>>>24)+t[7]|0,x[2]=t[2]+(t[1]<<16|t[1]>>>16)+(t[0]<<16|t[0]>>>16)|0,x[3]=t[3]+(t[2]<<8|t[2]>>>24)+t[1]|0,x[4]=t[4]+(t[3]<<16|t[3]>>>16)+(t[2]<<16|t[2]>>>16)|0,x[5]=t[5]+(t[4]<<8|t[4]>>>24)+t[3]|0,x[6]=t[6]+(t[5]<<16|t[5]>>>16)+(t[4]<<16|t[4]>>>16)|0,x[7]=t[7]+(t[6]<<8|t[6]>>>24)+t[5]|0}r.Rabbit=v._createHelper(n)}(),a.Rabbit})}(Tr)),Tr.exports}var wr={exports:{}},Tt;function ai(){return Tt||(Tt=1,function(u,e){(function(a,r,o){u.exports=r(Z(),de(),he(),re(),s0())})(j,function(a){return function(){var r=a,o=r.lib,v=o.StreamCipher,C=r.algo,s=[],E=[],t=[],n=C.RabbitLegacy=v.extend({_doReset:function(){var x=this._key.words,f=this.cfg.iv,i=this._X=[x[0],x[3]<<16|x[2]>>>16,x[1],x[0]<<16|x[3]>>>16,x[2],x[1]<<16|x[0]>>>16,x[3],x[2]<<16|x[1]>>>16],p=this._C=[x[2]<<16|x[2]>>>16,x[0]&4294901760|x[1]&65535,x[3]<<16|x[3]>>>16,x[1]&4294901760|x[2]&65535,x[0]<<16|x[0]>>>16,x[2]&4294901760|x[3]&65535,x[1]<<16|x[1]>>>16,x[3]&4294901760|x[0]&65535];this._b=0;for(var d=0;d<4;d++)B.call(this);for(var d=0;d<8;d++)p[d]^=i[d+4&7];if(f){var A=f.words,c=A[0],l=A[1],h=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360,F=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360,_=h>>>16|F&4294901760,D=F<<16|h&65535;p[0]^=h,p[1]^=_,p[2]^=F,p[3]^=D,p[4]^=h,p[5]^=_,p[6]^=F,p[7]^=D;for(var d=0;d<4;d++)B.call(this)}},_doProcessBlock:function(x,f){var i=this._X;B.call(this),s[0]=i[0]^i[5]>>>16^i[3]<<16,s[1]=i[2]^i[7]>>>16^i[5]<<16,s[2]=i[4]^i[1]>>>16^i[7]<<16,s[3]=i[6]^i[3]>>>16^i[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,x[f+p]^=s[p]},blockSize:128/32,ivSize:64/32});function B(){for(var x=this._X,f=this._C,i=0;i<8;i++)E[i]=f[i];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<E[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<E[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<E[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<E[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<E[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<E[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<E[6]>>>0?1:0)|0,this._b=f[7]>>>0<E[7]>>>0?1:0;for(var i=0;i<8;i++){var p=x[i]+f[i],d=p&65535,A=p>>>16,c=((d*d>>>17)+d*A>>>15)+A*A,l=((p&4294901760)*p|0)+((p&65535)*p|0);t[i]=c^l}x[0]=t[0]+(t[7]<<16|t[7]>>>16)+(t[6]<<16|t[6]>>>16)|0,x[1]=t[1]+(t[0]<<8|t[0]>>>24)+t[7]|0,x[2]=t[2]+(t[1]<<16|t[1]>>>16)+(t[0]<<16|t[0]>>>16)|0,x[3]=t[3]+(t[2]<<8|t[2]>>>24)+t[1]|0,x[4]=t[4]+(t[3]<<16|t[3]>>>16)+(t[2]<<16|t[2]>>>16)|0,x[5]=t[5]+(t[4]<<8|t[4]>>>24)+t[3]|0,x[6]=t[6]+(t[5]<<16|t[5]>>>16)+(t[4]<<16|t[4]>>>16)|0,x[7]=t[7]+(t[6]<<8|t[6]>>>24)+t[5]|0}r.RabbitLegacy=v._createHelper(n)}(),a.RabbitLegacy})}(wr)),wr.exports}var Sr={exports:{}},wt;function ii(){return wt||(wt=1,function(u,e){(function(a,r,o){u.exports=r(Z(),de(),he(),re(),s0())})(j,function(a){return function(){var r=a,o=r.lib,v=o.BlockCipher,C=r.algo;const s=16,E=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],t=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var n={pbox:[],sbox:[]};function B(d,A){let c=A>>24&255,l=A>>16&255,h=A>>8&255,F=A&255,_=d.sbox[0][c]+d.sbox[1][l];return _=_^d.sbox[2][h],_=_+d.sbox[3][F],_}function x(d,A,c){let l=A,h=c,F;for(let _=0;_<s;++_)l=l^d.pbox[_],h=B(d,l)^h,F=l,l=h,h=F;return F=l,l=h,h=F,h=h^d.pbox[s],l=l^d.pbox[s+1],{left:l,right:h}}function f(d,A,c){let l=A,h=c,F;for(let _=s+1;_>1;--_)l=l^d.pbox[_],h=B(d,l)^h,F=l,l=h,h=F;return F=l,l=h,h=F,h=h^d.pbox[1],l=l^d.pbox[0],{left:l,right:h}}function i(d,A,c){for(let D=0;D<4;D++){d.sbox[D]=[];for(let R=0;R<256;R++)d.sbox[D][R]=t[D][R]}let l=0;for(let D=0;D<s+2;D++)d.pbox[D]=E[D]^A[l],l++,l>=c&&(l=0);let h=0,F=0,_=0;for(let D=0;D<s+2;D+=2)_=x(d,h,F),h=_.left,F=_.right,d.pbox[D]=h,d.pbox[D+1]=F;for(let D=0;D<4;D++)for(let R=0;R<256;R+=2)_=x(d,h,F),h=_.left,F=_.right,d.sbox[D][R]=h,d.sbox[D][R+1]=F;return!0}var p=C.Blowfish=v.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var d=this._keyPriorReset=this._key,A=d.words,c=d.sigBytes/4;i(n,A,c)}},encryptBlock:function(d,A){var c=x(n,d[A],d[A+1]);d[A]=c.left,d[A+1]=c.right},decryptBlock:function(d,A){var c=f(n,d[A],d[A+1]);d[A]=c.left,d[A+1]=c.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=v._createHelper(p)}(),a.Blowfish})}(Sr)),Sr.exports}(function(u,e){(function(a,r,o){u.exports=r(Z(),ze(),Pa(),Ua(),de(),Na(),he(),Lt(),kr(),za(),Mt(),Oa(),Ia(),ga(),Lr(),Ha(),re(),s0(),Va(),Xa(),Wa(),Ga(),ja(),qa(),Ya(),Za(),Ka(),$a(),Ja(),Qa(),ei(),ri(),ti(),ai(),ii())})(j,function(a){return a})})(ka);const K=u=>(ea("data-v-929d77b0"),u=u(),ra(),u),oi={class:"risk-warn-container"},ni={class:"basic-info-container"},si={class:"basic-info-content"},xi={class:"title-container"},ci={class:"key-val-container"},li=K(()=>M("div",{class:"key-text"},"预警级别：",-1)),fi={class:"val-text"},ui={class:"key-val-container right"},di=K(()=>M("div",{class:"key-text"},"岸段长度：",-1)),hi={class:"val-text"},vi={key:0,class:"risk-factor-container"},pi=K(()=>M("div",{class:"risk-item-title"},"崩岸风险因素分析",-1)),Ei={class:"risk-item-container"},Bi=K(()=>M("div",{class:"risk-item-text"},"水流动力",-1)),mi=K(()=>M("div",{class:"risk-item-text"},"河床演变",-1)),Ai=K(()=>M("div",{class:"risk-item-text"},"地质与工程治理",-1)),_i={key:1,class:"raster-control-block"},Fi={class:"switch"},Ci=["checked"],Di=K(()=>M("span",{class:"slider"},null,-1)),bi=K(()=>M("div",{class:"text-block"},[M("div",{class:"text"},"冲淤图展示")],-1)),yi={class:"bankLine-control-block"},Ri={class:"switch"},Ti=["checked"],wi=K(()=>M("span",{class:"slider"},null,-1)),Si=K(()=>M("div",{class:"text-block"},[M("div",{class:"text"},"岸段展示")],-1)),ki={key:2,class:"terrain-control-block"},Li={class:"switch"},Mi=["checked"],Pi=K(()=>M("span",{class:"slider"},null,-1)),Ui=K(()=>M("div",{class:"text-block"},[M("div",{class:"text"},"三维地形")],-1)),Ni={class:"risk-line-container"},zi=K(()=>M("div",{class:"risk-line-title"},"风险等级图例：",-1)),Oi=K(()=>M("div",{class:"risk-line"},null,-1)),Ii=K(()=>M("img",{src:ua,alt:"图例标记"},null,-1)),gi=[Ii],Hi=K(()=>M("div",{class:"risk-line-mark low"},"低风险",-1)),Vi=K(()=>M("div",{class:"risk-line-mark middle"},"中风险",-1)),Xi=K(()=>M("div",{class:"risk-line-mark high"},"高风险",-1)),Wi={key:3,class:"warn-status-container"},Gi=K(()=>M("div",{class:"warn-status-title"},"风险评估结果",-1)),ji={class:"warn-detail-profile"},qi={class:"warn-detail-text"},Yi=K(()=>M("span",{class:"warn-detail-span"},null,-1)),Zi={class:"warn-detail-span"},Ki={key:10,style:{position:"absolute",top:"16.25vh",left:"0.3vw",width:"26vw",height:"23.5vh","z-index":"10"}},$i={key:12,class:"flow-control-block"},Ji={class:"switch",style:{transform:"rotateZ(90deg)"}},Qi=["checked"],eo=K(()=>M("span",{class:"slider"},null,-1)),ro=K(()=>M("div",{class:"text-block"},[M("div",{class:"text"},"流场展示")],-1)),to={key:13,class:"time-shower-block"},ao={key:14,style:{position:"absolute",top:"66vh",left:"0.3vw",width:"26vw",height:"25vh","z-index":"10"}},io={key:16,class:"drag riskResult"},oo={key:17,class:"raster-legend-container"},no=K(()=>M("img",{src:da,alt:"比例尺"},null,-1)),so=[no],xo=K(()=>M("span",null,"确认使用此断面进行计算",-1)),co={class:"dialog-footer"},lo={style:{"text-align":"right"}},fo=K(()=>M("span",null,"确认使用以下年份地形数据进行计算：",-1)),uo={style:{position:"absolute",top:"6.5vh","font-weight":"bold"}},ho={style:{position:"absolute",top:"8.5vh","font-weight":"bold"}},vo={class:"dialog-footer"},po={style:{"text-align":"right"}},Eo={class:"loading-container"},Bo={class:"loading-message"},mo=K(()=>M("div",{class:"title",style:{"text-align":"center"}},"综合研判条件配置",-1)),Ao={class:"card flex-column"},_o={class:"flex-row",style:{"justify-content":"space-between","align-items":"center"}},Fo={class:"flex-row",style:{"margin-right":".5vw"}},Co=K(()=>M("span",{class:"desc"},"流量:",-1)),Do=K(()=>M("span",{style:{height:"3.5vh","line-height":"3.5vh","margin-left":"0.2vw"}},"m³/s",-1)),bo={class:"flex-row"},yo=K(()=>M("span",{class:"desc"},"潮差:",-1)),Ro=K(()=>M("span",{style:{height:"3.5vh","line-height":"3.5vh","margin-left":"0.2vw"}},"m",-1)),To=K(()=>M("span",{style:{"line-height":"2.25vh"}},[ee("实时"),M("br"),ee("条件")],-1)),wo={class:"flex-row",style:{"justify-content":"space-between","align-items":"center"}},So={class:"flex-column"},ko={class:"flex-row",style:{"margin-bottom":"0.8vh","margin-top":".5vh"}},Lo=K(()=>M("span",{class:"desc"},"冲淤起算地形：",-1)),Mo={class:"flex-row"},Po=K(()=>M("span",{class:"desc"},"判别计算地形：",-1)),Uo={class:"loading-container2"},No={class:"loading-message2"},zo={__name:"BankRiskWarnView",setup(u){const e="http://119.45.198.54:80/api",a=V0().globalBankName;console.log(a),g(-1);const r=X0(()=>W0(()=>import("./riskResult-OKTgrV3w.js"),__vite__mapDeps([0,1,2,3]))),o=X0(()=>W0(()=>import("./flowspeedInfo-driJ8bmV.js"),__vite__mapDeps([4,1,2,5,6]))),v=X0(()=>W0(()=>import("./profileInfo-BNoDUhO-.js"),__vite__mapDeps([7,5,1,2,8]))),C=X0(()=>W0(()=>import("./profileShapeCompare-K_3EjY-G.js"),__vite__mapDeps([9,5,1,2,10]))),s=X0(()=>W0(()=>import("./profileSlope-C2cWxT40.js"),__vite__mapDeps([11,5,1,2,12]))),E=X0(()=>W0(()=>import("./profileErosion-qVx0vm--.js"),__vite__mapDeps([13,5,1,2,14]))),t=X0(()=>W0(()=>import("./BedFlowChart-upZkfoVh.js"),__vite__mapDeps([15,1,2,16]))),n=X0(()=>W0(()=>import("./WaterProcessChart-DZDHhUXS.js"),__vite__mapDeps([17,1,2,18]))),B=X0(()=>W0(()=>import("./GeologyAndProject-B3An4egS.js"),__vite__mapDeps([19,1,2,20]))),x=Zt(),f=g("自定义断面信息计算中..."),i=g(),p=g(0);g(!1);const d=g(!0),A=()=>{d.value=!d.value};g(0);const c=g(!1),l=g(!1),h=g(!1),F=g(!0),_=g(!1);g(Fa);const D=g("洪季"),R=z=>{D.value=z,console.log(D.value),l.value=!1,p.value=0;let U=N0().getMap();U.getLayer("floodFlow")&&(U.removeLayer("floodFlow"),b0&&(b0(),b0=null))},P=z=>{z&&z.fitBounds([[120.43987922676835,32.03201616423072],[120.59089640208263,32.05217136261862]],{duration:1500})},m=g([]),b=async z=>{const U=z,O=(await Ir.getBankCalculateResourceList("DEM",U)).data;return Ir.DEMResourcetoList(O)},T=g({name:"",riskLevel:"",monitorLength:"7km"}),w={低风险:"low",中风险:"middle",高风险:"high",暂无:"none"},I=Ve({desc:"暂无"}),N=Ve({flow:57500,tideDif:3.1,refDEM:{sets:"standard",year:"2012",name:"201210",fileType:"tiff",path:"tiff/Mzs/2012/standard/201210/201210.tif",month:"10"},benchDEM:{sets:"standard",year:"2023",name:"202304",fileType:"tiff",path:"tiff/Mzs/2023/standard/202304/202304.tif",month:"04"}}),G=async()=>{try{const z=await na();N.flow=z.flow,N.tideDif=z.level,gr.success({offset:300,position:"top-right",message:`获取实时水文条件,${be().format("YYYY-MM-DD hh:mm")}`})}catch{gr.error({offset:300,position:"top-right",message:"获取实时水文条件失败"})}};let q=null;const Y=g(!1),$=g(""),J=async()=>{console.log(window.location.pathname);const z=U=>!(U==null||U==="null"||U==="undefined"||U==="NaN"||U==="");for(let U in N)if(!z(N[U])){Q0({type:"error",offset:120,message:"请正确配置条件！"});return}if(Y.value){Q0({type:"info",offset:120,message:"模型正在运行，请等待！"});return}Y.value=!0,$.value="模型正在运行，请稍候...",console.log("reset condition data!",N),ya({waterQS:parseFloat(N.flow),tidalLevel:parseFloat(N.tideDif),refDEM:N.refDEM,benchDEM:N.benchDEM},{},{bankEnName:V0().globalBankName,setName:"standard"}).then(U=>{if(console.log("runRiskLevelForAll result:",U),U===null){Q0({type:"error",message:"模型运行失败",offset:260}),Y.value=!1,$.value="";return}Y.value=!1,$.value="";const{warnLayerData:O,riskAreassss:V,finalResult:H}=Ra(U);console.log("riskAreassss:",V),I.desc=H,ce.value=V.join("; ");let W=N0().getMap();q&&W&&(q.update(O),W.setLayoutProperty("岸段预警","visibility","visible"),W.triggerRepaint())}).catch(U=>{Y.value=!1})},y=g(Aa),k=g(_a);let L=Ze;g([{value:"low",label:"低风险"},{value:"middle",label:"中风险"},{value:"high",label:"高风险"}]),g("mzs");const S=()=>{v0=k.value.find(z=>z.value===k0.value),E0=k.value.find(z=>z.value===c0.value),ve=k.value.find(z=>z.value===h0.value),oe=k.value.find(z=>z.value===L0.value)},e0=z=>{let U="";return y.value.map(O=>{O.risk===z&&(U=U+O.name+"; ")}),U},Q=()=>{Le.value=!1},x0=async()=>{if(S(),Le.value=!1,E0.dateShort<=v0.dateShort){Q0.error("当前地形时间不能早于或等于对比地形时间！");return}if(ie.value===k0.value&&Ce.value===c0.value){Q0.error("当前地形时间与对比地形时间未发生变化！");return}f.value="冲淤图层加载中...",me.value=!0,Ee.value=!0,Be.value=!0,Ie.value=!0;const z=E0.dateShort+v0.dateShort;h.value||(h.value=!0),l0.removeLayer("mapRaster"),l0.removeSource("mapRaster"),ge(l0,z,"mapRaster"),l0.moveLayer("mapRaster","mzsLine"),z0(v0,E0,ve,oe)},X=z=>{l0.setFilter("mzsBankLineChoosen",y.value[z-1].filter)},z0=async(z,U,O,V)=>{const H=z.date,W=U.date,A0=O.date,U0=V.date;f.value="确认计算结果是否存在...",me.value=!0;let fe,Ae;fe=await O0(H,W),Ae=await O0(A0,U0),fe&&Ae?(f.value="地形对比数据加载中...",m0.value=await _0(H,W),xe.value=await _0(A0,U0)):fe&&!Ae?(f.value="地形对比数据加载中...",await S0(A0,U0),f.value="地形对比数据加载中...",m0.value=await _0(H,W),xe.value=await _0(A0,U0)):!fe&&Ae?(f.value="地形对比数据加载中...",await S0(H,W),f.value="地形对比数据加载中...",m0.value=await _0(H,W),xe.value=await _0(A0,U0)):(f.value="地形对比数据加载中...",await S0(A0,U0),await S0(H,W),f.value="地形对比数据加载中...",m0.value=await _0(H,W),xe.value=await _0(A0,U0)),me.value=!1,Ee.value=!1,Se.value=!1,Be.value=!1,Ie.value=!1,Wt(),f0(m0.value),M0.value=!0,ie.value=k0.value,Ce.value=c0.value},O0=async(z,U)=>{const O=[];let V=!0;try{for(let W=0;W<12;W++)O.push(ue.getProfileData(z,U,W+1));(await Promise.all(O)).forEach(W=>{(!W||!W.data||W.data.length===0)&&(V=!1)})}catch{V=!1}return V},_0=async(z,U)=>{const O=[],V=[];for(let W=0;W<12;W++)O.push(ue.getProfileData(z,U,W+1));return(await Promise.all(O)).forEach(W=>{W&&W.data&&V.push(W.data)}),V},S0=async(z,U)=>{const O=[];for(let V=0;V<y.value.length;V++)O.push(p0(z,U,V));await Promise.all(O)},p0=async(z,U,O)=>{const V=await ue.runProfileModel_long(z,U,O+1);let H;for(;;){try{H=await ue.getRunStatus(V.data)}catch{}if(H.data==2)break;if(H.data==-1)return;if(H.data==-2)return;H.data==1,await Ur(100)}},f0=z=>{z.map((U,O)=>{y.value[O].risk==="low"?y.value[O].color="rgb(31, 110, 209)":y.value[O].risk==="middle"?y.value[O].color="rgb(220, 126, 37)":y.value[O].color="rgb(250, 55, 36)";try{y.value[O].flowspeed=U.deepestPoint[2]}catch{}}),N0().getMap()};let b0=null;const G0=async()=>{l.value=!l.value;let z=N0().getMap();if(p.value=0,l.value){if(D.value=="洪季"){let U="/api/data/flow/configJson/flood",O="/api/data/flow/texture/flood/",V=Ve(new ma("floodFlow",U,O));z.addLayer(V,"chaoWeiPointLable"),b0=Qt(()=>V._progressRate,H=>{let W=parseFloat((V.timeCount/V.timePerFrame).toFixed(1));p.value=W}),console.log("add 洪季")}}else D.value=="洪季"&&z.getLayer("floodFlow")&&(z.removeLayer("floodFlow"),b0(),b0=null)},te=()=>{h.value&&H0.value?(l0.setLayoutProperty("mapRaster","visibility","none"),h.value=!h.value):!h.value&&H0.value?(l0.setLayoutProperty("mapRaster","visibility","visible"),h.value=!h.value):h.value&&!H0.value?(l0.setLayoutProperty("mapRaster","visibility","none"),h.value=!h.value):l0.setLayoutProperty("mapRaster","visibility","none")},ae=()=>{F.value?l0.setLayoutProperty("岸段预警","visibility","none"):l0.setLayoutProperty("岸段预警","visibility","visible"),F.value=!F.value},Fe=()=>{_.value?l0.setLayoutProperty("TerrainLayer","visibility","none"):l0.setLayoutProperty("TerrainLayer","visibility","visible"),_.value=!_.value},k0=g("2019before"),c0=g("2023before1"),h0=g("1999before"),L0=g("2012after"),ie=g("2019before"),Ce=g("2023before1");g("2012after"),g("2012after");let v0,E0,ve,oe;const M0=g(!0),F0=g(!1),j0=g(!1),ye=()=>{j0.value=!j0.value},C0=g(!1),De=()=>{C0.value=!C0.value},ne=g(!1),se=g(!1),q0=g(!1),I0=g(!1),Re=()=>{I0.value=!I0.value},g0=g(!1),Te=()=>{g0.value=!g0.value},B0=g(!1),Oe=async()=>{if(l.value===!1&&B0.value===!0){B0.value=!1;return}B0.value=!B0.value,p.value=0,await G0()},H0=g(!1),Y0=g(!1),we=()=>{te(),H0.value=!H0.value},Z0=g(!1),K0=async()=>{V0().globalBankName==="Mzs"&&(P0.value===!0?pe():a0.value===!0&&D0(),Re(),Te(),await Oe(),l0.setLayoutProperty("mapRaster","visibility","none"),Z0.value=!Z0.value)},P0=g(!1),pe=()=>{if(V0().globalBankName==="Mzs"){if(Z0.value===!0?K0():a0.value===!0&&D0(),h.value===!1&&C0.value===!0||h.value===!0&&C0.value===!1){De(),ye(),we(),P0.value=!P0.value;return}De(),ye(),we(),P0.value=!P0.value}},a0=g(!1),D0=()=>{V0().globalBankName==="Mzs"&&(Z0.value===!0?K0():P0.value===!0&&pe(),l0.setLayoutProperty("mapRaster","visibility","none"),a0.value=!a0.value)},m0=g([]),xe=g([]);g(0);const ce=g([]),Mr=g(null),Pt=g(null),Pr=g(!0),Ee=g(!0),Se=g(!0),Be=g(!0),Ie=g(!0),le=g(""),Ut=g("");g(""),g("");let l0;const ke=g(!1),Le=g(!1);g(""),g("");const me=g(!1);let Nt,zt,Ot,It;new ia({displayControlsDefault:!1,controls:{line_string:!0,trash:!0},styles:[{id:"gl-draw-line",type:"line",filter:["all",["==","$type","LineString"],["==","mode","draw_line_string"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#D20C0C","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-halo-active",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["==","mode","draw_line_string"]],paint:{"circle-radius":5,"circle-color":"#FFF"}},{id:"gl-draw-polygon-and-line-vertex-active",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["==","mode","draw_line_string"]],paint:{"circle-radius":3,"circle-color":"#D20C0C"}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","$type","LineString"],["!=","mode","draw_line_string"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#000","line-width":3}}]});const gt=()=>{ke.value=!1},Ht=async()=>{if(le.value===""){Q0.error("断面名称不为空！");return}else if(y.value.find(W=>W.name===le.value)){Q0.error("断面名称已存在！");return}me.value=!0,Pr.value=!0,Ee.value=!0,Se.value=!0,Be.value=!0,f.value="自定义断面信息计算中...",ke.value=!1;const z=k.value.find(W=>W.value==k0.value).date,U=k.value.find(W=>W.value==c0.value).date,O=await Vt(z,U,Nt,zt,Ot,It);let V="";for(;;){try{V=await ue.getRunStatus(O.data)}catch{}if(V.data==2)break;if(V.data==-1)return;if(V.data==-2)return;V.data==1,await Ur(500)}const H=await ue.getRunResult(O.data);Xt(H.data),m0.value.push(H.data),me.value=!1,Pr.value=!1,Ee.value=!1,Se.value=!1,Be.value=!1};async function Ur(z){return new Promise(U=>setTimeout(U,z))}const Vt=async(z,U,O,V,H,W)=>await ue.runProfileModelByLine(z,U,O,V,H,W),Xt=z=>{let U;z.risk[2]<.25?U="low":z.risk[2]<.5?U="middle":U="high",Ut.value=U,Mr.value={value:y.value.length+1,label:le.value,name:le.value,filter:["==","$type",`${le.value}`],flowspeed:z.deepestPoint[2],risk:U},Pt.value=z,y.value.push(Mr.value)},ge=(z,U,O)=>{z.addSource(O,{type:"raster",tiles:[e+`/tile/raster/mzs/flood/${U}/{x}/{y}/{z}`],tileSize:256,minzoom:10,maxzoom:20,bounds:[120.109,31.823,120.855,32.102]});let V=Gr[U].min,H=Gr[U].max;z.addLayer({id:O,type:"raster",source:O,paint:{"raster-color":["interpolate",["linear"],["raster-value"],-10-V,"rgba(0,0,255,1)",0-V,"rgba(255, 255, 255, 1)",10-V,"rgba(255, 0, 0, 1)"],"raster-color-mix":[H-V,0,0,0],"raster-opacity":.85,"raster-color-range":[-30,30]}})},Wt=()=>{for(let z=0;z<12;z++)Ze[z].warnValue<.25?y.value[z].risk="low":Ze[z].warnValue<.5?y.value[z].risk="middle":y.value[z].risk="high"};return Kt(async(z,U)=>{V0().globalBankName=z.params.id;let O=z.params.id;V0().globalBankName==="Mzs"?(c.value=!0,N.refDEM={sets:"standard",year:"2012",name:"201210",fileType:"tiff",path:"tiff/Mzs/2012/standard/201210/201210.tif",month:"10"},N.benchDEM={sets:"standard",year:"2023",name:"202304",fileType:"tiff",path:"tiff/Mzs/2023/standard/202304/202304.tif",month:"04"}):(c.value=!1,N.refDEM=null,N.benchDEM=null);const V=(await Xe.getBankBasicInfo()).data;T.value=V,m.value=await b(O);let H=N0().getMap();P(H),We(H),Ge(H,O).then(async W=>{if(O==="Mzs"){ge(H,23032209,"mapRaster"),H.setLayoutProperty("mapRaster","visibility","none"),H.addLayer(new Vr(14)),H.setLayoutProperty("TerrainLayer","visibility","none");const A0={type:"FeatureCollection",features:[{type:"Feature",properties:{label:"潮位点"},geometry:{type:"Point",coordinates:[120.522864,32.035502]}}]};H.addSource("chaoWeiPoint",{type:"geojson",data:A0}),H.addLayer({id:"chaoWeiPoint",type:"circle",source:"chaoWeiPoint",paint:{"circle-radius":7,"circle-color":"rgb(255, 0,0)"}}),H.addLayer({id:"chaoWeiPointLable",type:"symbol",source:"chaoWeiPoint",layout:{"text-field":["get","label"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-anchor":"top","text-offset":[0,.5],"text-size":18,"text-allow-overlap":!0},paint:{"text-color":"rgb(255,255,255)"}},"chaoWeiPoint"),H.getLayer("岸段预警")&&H.removeLayer("岸段预警"),q=new Ne(L),H.addLayer(q,"chaoWeiPoint"),S(),M0.value=!0,F0.value=!1,C0.value=!1,ne.value=!1,se.value=!1,q0.value=!1,B0.value=!1,I0.value=!1,g0.value=!1,Y0.value=!0,await z0(v0,E0,ve,oe),I.desc="高风险",ce.value=e0("high"),K0()}else H.getLayer("floodFlow")&&H.removeLayer("floodFlow"),H.getLayer("岸段预警")&&H.removeLayer("岸段预警"),q=new Ne(L),H.addLayer(q),H.setLayoutProperty("岸段预警","visibility","none"),M0.value=!0,F0.value=!1,C0.value=!1,ne.value=!1,se.value=!1,q0.value=!1,B0.value=!1,I0.value=!1,g0.value=!1,Y0.value=!1,I.desc="暂无",ce.value=[]})}),St(async()=>{V0().globalBankName=x.params.id;let z=x.params.id;if(V0().globalBankName==="Mzs"?(c.value=!0,N.refDEM={sets:"standard",year:"2012",name:"201210",fileType:"tiff",path:"tiff/Mzs/2012/standard/201210/201210.tif",month:"10"},N.benchDEM={sets:"standard",year:"2023",name:"202304",fileType:"tiff",path:"tiff/Mzs/2023/standard/202304/202304.tif",month:"04"}):(c.value=!1,N.refDEM=null,N.benchDEM=null),z==="Mzs"){const U=(await Xe.getBankBasicInfo()).data;T.value=U,m.value=await b(z),zr(i.value).then(async O=>{l0=O,P(O),We(O),await Ge(O,z),ge(O,23032209,"mapRaster"),O.setLayoutProperty("mapRaster","visibility","none"),O.addLayer(new Vr(14)),O.setLayoutProperty("TerrainLayer","visibility","none");const V={type:"FeatureCollection",features:[{type:"Feature",properties:{label:"潮位点"},geometry:{type:"Point",coordinates:[120.522864,32.035502]}}]};O.addSource("chaoWeiPoint",{type:"geojson",data:V}),O.addLayer({id:"chaoWeiPoint",type:"circle",source:"chaoWeiPoint",paint:{"circle-radius":7,"circle-color":"rgb(255, 0,0)"}}),O.addLayer({id:"chaoWeiPointLable",type:"symbol",source:"chaoWeiPoint",layout:{"text-field":["get","label"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-anchor":"top","text-offset":[0,.5],"text-size":18,"text-allow-overlap":!0},paint:{"text-color":"rgb(255,255,255)"}},"chaoWeiPoint"),q=new Ne(L),O.addLayer(q,"chaoWeiPoint"),N0().setMap(O),S(),M0.value=!0,F0.value=!1,C0.value=!1,ne.value=!1,se.value=!1,q0.value=!1,B0.value=!1,I0.value=!1,g0.value=!1,Y0.value=!0,await z0(v0,E0,ve,oe),I.desc="高风险",ce.value=e0("high"),K0()})}else{const U=(await Xe.getBankBasicInfo()).data;T.value=U,m.value=await b(z),zr(i.value).then(async O=>{P(O),We(O),await Ge(O,z),N0().setMap(O),O.getLayer("岸段预警")&&O.removeLayer("岸段预警"),q=new Ne(L),O.addLayer(q),O.setLayoutProperty("岸段预警","visibility","none"),M0.value=!0,F0.value=!1,C0.value=!1,ne.value=!1,se.value=!1,q0.value=!1,B0.value=!1,I0.value=!1,g0.value=!1,Y0.value=!1,I.desc="暂无",ce.value=[]})}}),$t(()=>{N0().getMap()&&(N0().getMap().remove(),N0().destroyMap())}),(z,U)=>{const O=J0("dv-border-box-12"),V=J0("el-input"),H=J0("el-button"),W=J0("el-dialog"),A0=J0("dv-loading"),U0=J0("el-option"),fe=J0("el-select"),Ae=Jt("draggable");return r0(),u0(qe,null,[M("div",oi,[M("div",{class:"map-container",id:"map",ref_key:"mapContainer",ref:i},null,512),M("div",ni,[M("div",si,[M("div",xi,w0(T.value.name)+"示范段",1),M("div",ci,[li,M("div",fi,w0(T.value.riskLevel),1)]),M("div",ui,[di,M("div",hi,"全长"+w0(T.value.monitorLength),1)])])]),c.value?(r0(),u0("div",vi,[pi,M("div",Ei,[M("div",{class:$0(["risk-item",{active:Z0.value}])},[M("div",{class:"risk-main-index waterpower",onClick:K0},[Z0.value?(r0(),y0(O,{key:0})):i0("",!0),Bi])],2),M("div",{class:$0(["risk-item",{active:P0.value}])},[M("div",{class:"risk-main-index riverbed",onClick:pe},[P0.value?(r0(),y0(O,{key:0,color:["rgb(73, 164, 101)","#9cf3e0"]})):i0("",!0),mi])],2),M("div",{class:$0(["risk-item",{active:a0.value}])},[M("div",{class:"risk-main-index bankGeology",onClick:D0},[a0.value?(r0(),y0(O,{key:0,color:["rgb(153, 143, 199)","rgb(231, 161, 240)"]})):i0("",!0),Ai])],2)])])):i0("",!0),H0.value?(r0(),u0("div",_i,[M("label",Fi,[M("input",{type:"checkbox",checked:h.value,onClick:U[0]||(U[0]=t0=>te())},null,8,Ci),Di]),bi])):i0("",!0),M("div",yi,[M("label",Ri,[M("input",{type:"checkbox",checked:F.value,onClick:U[1]||(U[1]=t0=>ae())},null,8,Ti),wi]),Si]),Y0.value?(r0(),u0("div",ki,[M("label",Li,[M("input",{type:"checkbox",checked:_.value,onClick:U[2]||(U[2]=t0=>Fe())},null,8,Mi),Pi]),Ui])):i0("",!0),M("div",Ni,[zi,Oi,M("div",{class:$0(["risk-line-arrow",w[I.desc]])},gi,2),Hi,Vi,Xi]),M0.value?(r0(),u0("div",Wi,[Gi,M("div",{class:$0(["warn-status-content",w[I.desc]])},w0(I.desc),3)])):i0("",!0),M0.value?(r0(),u0("div",{key:4,class:$0(["warn-detail-container",w[I.desc]])},[M("div",ji,[M("div",qi,[Yi,ee(" "+w0(I.desc)+"区域 : ",1),M("span",Zi,w0(ce.value.length===0?"暂无":ce.value),1)])])],2)):i0("",!0),F0.value?(r0(),y0(R0(v),{key:5,onProfileValueChange:X,profileData:m0.value,profileList:y.value,shapeChartLoad:Ee.value,erosionChartLoad:Be.value},null,8,["profileData","profileList","shapeChartLoad","erosionChartLoad"])):i0("",!0),i0("",!0),C0.value?(r0(),y0(R0(C),{key:7,onProfileValueChange:X,profileData:m0.value,profileDataCompare:xe.value,profileList:y.value,shapeChartLoad:Ee.value},null,8,["profileData","profileDataCompare","profileList","shapeChartLoad"])):i0("",!0),ne.value?(r0(),y0(R0(s),{key:8,onProfileValueChange:X,profileData:m0.value,profileList:y.value,slopeChartLoad:Se.value},null,8,["profileData","profileList","slopeChartLoad"])):i0("",!0),se.value?(r0(),y0(R0(E),{key:9,onProfileValueChange:X,profileData:m0.value,profileList:y.value,slopeChartLoad:Be.value},null,8,["profileData","profileList","slopeChartLoad"])):i0("",!0),I0.value?(r0(),u0("div",Ki,[o0(R0(t))])):i0("",!0),B0.value?(r0(),y0(R0(o),{key:11,profileList:y.value,flowspeedChartLoad:Ie.value,type:D.value,onConditionChange:R},null,8,["profileList","flowspeedChartLoad","type"])):i0("",!0),B0.value?(r0(),u0("div",$i,[M("label",Ji,[M("input",{type:"checkbox",checked:l.value,onClick:U[3]||(U[3]=t0=>G0())},null,8,Qi),eo]),ro])):i0("",!0),B0.value?(r0(),u0("div",to,[o0(Ea,{type:"exp","time-step":p.value,"total-count":25},null,8,["time-step"])])):i0("",!0),g0.value?(r0(),u0("div",ao,[o0(R0(n),{timeStep:p.value,type:D.value},null,8,["timeStep","type"])])):i0("",!0),a0.value?(r0(),y0(R0(B),{key:15})):i0("",!0),q0.value?je((r0(),u0("div",io,[o0(R0(r),{profileList:y.value},null,8,["profileList"])])),[[Ae,{bounds:"body",cancel:"div.content"}]]):i0("",!0),h.value&&H0.value?(r0(),u0("div",oo,so)):i0("",!0),o0(W,{modelValue:ke.value,"onUpdate:modelValue":U[5]||(U[5]=t0=>ke.value=t0),title:"绘制断面确认",width:"40vh"},{footer:d0(()=>[M("div",co,[M("div",lo,[o0(H,{onClick:gt},{default:d0(()=>[ee("取消")]),_:1}),o0(H,{type:"primary",onClick:Ht},{default:d0(()=>[ee(" 确认 ")]),_:1})])])]),default:d0(()=>[xo,o0(V,{modelValue:le.value,"onUpdate:modelValue":U[4]||(U[4]=t0=>le.value=t0),style:{width:"240px","margin-bottom":"10px","margin-left":"2vw"},placeholder:"请输入断面名称",clearable:""},null,8,["modelValue"])]),_:1},8,["modelValue"]),o0(W,{modelValue:Le.value,"onUpdate:modelValue":U[6]||(U[6]=t0=>Le.value=t0),title:"切换场景确认",width:"40vh"},{footer:d0(()=>[M("div",vo,[M("div",po,[o0(H,{onClick:Q},{default:d0(()=>[ee("取消")]),_:1}),o0(H,{type:"primary",onClick:x0},{default:d0(()=>[ee(" 确认 ")]),_:1})])])]),default:d0(()=>[fo,M("div",uo,w0(R0(v0).name),1),M("div",ho,w0(R0(E0).name),1)]),_:1},8,["modelValue"]),je(M("div",Eo,[o0(A0,{class:"loading-icon"},{default:d0(()=>[M("div",Bo,w0(f.value),1)]),_:1})],512),[[Or,me.value]]),M("div",{class:$0(["hide-dom-container",{translate:!d.value}]),onClick:U[7]||(U[7]=t0=>A())},[o0(ta,{direction:d.value?"right":"left"},null,8,["direction"])],2),M("div",{class:$0(["condition-pannel flex-column",{translate:!d.value}])},[mo,M("div",Ao,[M("div",_o,[M("div",Fo,[Co,o0(V,{modelValue:N.flow,"onUpdate:modelValue":U[8]||(U[8]=t0=>N.flow=t0),style:{width:"3.5vw",height:"3.5vh"},placeholder:"请输入"},null,8,["modelValue"]),Do]),M("div",bo,[yo,o0(V,{modelValue:N.tideDif,"onUpdate:modelValue":U[9]||(U[9]=t0=>N.tideDif=t0),style:{width:"2.1vw",height:"3.5vh"},placeholder:"请输入"},null,8,["modelValue"]),Ro]),o0(H,{type:"primary",style:{width:"3vw",height:"4.5vh","font-size":"medium"},onClick:G},{default:d0(()=>[To]),_:1})]),M("div",wo,[M("div",So,[M("div",ko,[Lo,o0(fe,{modelValue:N.refDEM,"onUpdate:modelValue":U[10]||(U[10]=t0=>N.refDEM=t0),placeholder:"请选择地形",style:{width:"7vw",height:"3.5vh"},onChange:U[11]||(U[11]=()=>{}),"value-key":"name"},{default:d0(()=>[(r0(!0),u0(qe,null,Hr(m.value,(t0,He)=>(r0(),y0(U0,{key:He,value:t0,label:t0.name+"地形"},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),M("div",Mo,[Po,o0(fe,{modelValue:N.benchDEM,"onUpdate:modelValue":U[12]||(U[12]=t0=>N.benchDEM=t0),placeholder:"请选择地形",style:{width:"7vw",height:"3.5vh"},onChange:U[13]||(U[13]=()=>{}),"value-key":"name"},{default:d0(()=>[(r0(!0),u0(qe,null,Hr(m.value,(t0,He)=>(r0(),y0(U0,{key:He,value:t0,label:t0.name+"地形"},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])])]),o0(H,{type:"primary",style:{width:"3vw",height:"6vh","font-size":"medium"},onClick:J},{default:d0(()=>[ee("确定")]),_:1})])])],2)]),je(M("div",Uo,[o0(A0,{class:"loading-icon"},{default:d0(()=>[M("div",No,w0($.value),1)]),_:1})],512),[[Or,Y.value]])],64)}}},jo=kt(zo,[["__scopeId","data-v-929d77b0"]]);export{jo as default};
