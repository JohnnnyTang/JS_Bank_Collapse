import{_ as ne,e as r,x as ie,h as ae,ab as de,i as c,o as k,c as L,b as o,a as e,w as l,C as _,D as v,j as g,t as h,P as u,Q as ce,ac as re,k as j,p as _e,d as ve}from"./index-CS5ogquF.js";import{M as ue}from"./ModelTitle-DHHmH2cO.js";const s=C=>(_e("data-v-5f4230fd"),C=C(),ve(),C),pe={class:"stability-analysis"},he={class:"main-content"},fe={class:"side-bar"},me={class:"model-content"},be={class:"condition-content hover-large"},we={class:"steps"},ye={class:"new-item-block"},ke=s(()=>e("div",{class:"create-model-ins-button"}," 新建算例",-1)),ge={class:"condition-source-block"},Ce={class:"condition-card"},Se=s(()=>e("div",{class:"top"},[e("div",{class:"set-icon"})],-1)),De=s(()=>e("div",{class:"center"}," 内置计算条件 ",-1)),xe=s(()=>e("div",{class:"bot"}," 使用预置的计算条件,避免模型运行产生预期之外的结果 ",-1)),Ve={class:"condition-card"},Ne=s(()=>e("div",{class:"top"},[e("div",{class:"set-icon"})],-1)),Ie=s(()=>e("div",{class:"center"}," 上传计算条件 ",-1)),Le=s(()=>e("div",{class:"bot"}," 使用自定义条件源，上传自定义计算条件以运行模型 ",-1)),$e={class:"condition-set-block"},Ae={class:"description"},Me={style:{"font-weight":"700"}},Be={class:"condition-set-upload"},Re=s(()=>e("div",{class:"el-upload__text"},[u(" 拖拽文件或 "),e("em",null,"点击此处进行上传")],-1)),Te={class:"condition-set-default"},Pe={class:"condition-card"},ze=ce('<div class="set-icon" data-v-5f4230fd></div><div class="center" data-v-5f4230fd> 实时水文条件 </div><div class="realtime-water-condition" data-v-5f4230fd><div class="water-condition-item" data-v-5f4230fd><span class="water-condition-title" data-v-5f4230fd>流量</span> ： <span class="water-condition-value" data-v-5f4230fd>84000</span></div><div class="water-condition-item" data-v-5f4230fd><span class="water-condition-title" data-v-5f4230fd>潮差</span> ： <span class="water-condition-value" data-v-5f4230fd>2.1</span></div></div>',3),Ue={class:"condition-card"},Ee=s(()=>e("div",{class:"set-icon"},null,-1)),He=s(()=>e("div",{class:"center"}," 特定水文条件 ",-1)),je={class:"realtime-water-condition"},Fe={class:"water-condition-item"},Oe=s(()=>e("span",{class:"water-condition-title"},"流量",-1)),Qe={class:"water-condition-item"},We=s(()=>e("span",{class:"water-condition-title"},"潮差",-1)),qe={class:"condition-run-block"},Ge={class:"model-ins-info"},Je=s(()=>e("div",{class:"model-ins-icon"},null,-1)),Ke={class:"model-int-block"},Xe={class:"model-ins-flow"},Ye=s(()=>e("div",{class:"model-ins-flow"},"流量：xxx ",-1)),Ze=s(()=>e("div",{class:"model-ins-tide"},"潮差：2.5 ",-1)),et=s(()=>e("div",{class:"model-ins-status"},"状态：运行中 ",-1)),tt=s(()=>e("div",{class:"model-ins-time"},"2021-08-01 12:00:00",-1)),ot={class:"progress-bar"},lt={class:"data-content hover-large"},st={class:"input-content"},nt=s(()=>e("div",{class:"title"},"模型输入集",-1)),it={class:"tree"},at={class:"output-content"},dt=s(()=>e("div",{class:"title"},"模型输出集",-1)),ct={class:"tree"},rt={class:"model-out-node",style:{width:"100%"}},_t={class:"el-dropdown-link",style:{width:"100%"}},vt={class:"layer-content hover-large"},ut={class:"layer-tree-content"},pt={key:0,class:"compute-exmple-node"},ht={class:"normal-node-lable",style:{"font-weight":"bold"}},ft={key:1,class:"layer-node"},mt={class:"normal-node-lable"},bt=s(()=>e("div",{class:"layer-title"}," 图层控制 ",-1)),wt={class:"map-content"},yt={__name:"StabilityAnalysis",setup(C){const F={width:"100%"},x={width:"100%",height:"100%","background-color":"transparent"},n=r(0),$=r(null),O=r(null),Q=ie(),p=r(0),b=r(0),V=r(0),S=r(!1),N=r(""),A=r(""),M=r(""),B={children:"children",label:"label"},W=[{label:"算例1条件集",children:[{label:"fort.13"},{label:"fort.14"},{label:"fort.15"},{label:"fort.16"},{label:"fort.19"},{label:"fort.20"}]},{label:"算例2条件集",children:[{label:"fort.13"},{label:"fort.14"},{label:"fort.15"},{label:"fort.16"},{label:"fort.19"},{label:"fort.20"}]}],q=[{label:"算例1结果集",children:[{type:"onlyDownload",label:"fort.61"},{type:"onlyDownload",label:"fort.62"},{type:"visualAndDownLoad",label:"fort.63"},{type:"visualAndDownLoad",label:"fort.64"},{type:"onlyDownload",label:"fort.80"}]},{label:"算例2结果集",children:[{type:"onlyDownload",label:"fort.61"},{type:"onlyDownload",label:"fort.62"},{type:"visualAndDownLoad",label:"fort.63"},{type:"visualAndDownLoad",label:"fort.64"},{type:"onlyDownload",label:"fort.80"}]}];r([{name:"fort.14",url:"https://element-plus.org/images/element-plus-logo.svg"}]);const R=(i,t)=>{for(let d=0;d<i.length;d++){if(i[d].id===t)return i[d];if(i[d].children&&i[d].children.length){const m=R(i[d].children,t);if(m)return m}}return null},G=(i,t)=>{const d=R(i,t);if(d){const m=d.parent;m.children=m.children.filter(w=>w.id!==t)}},T=i=>{if(!S.value){if(n.value<2)n.value=(n.value+1)%3;else if(n.value>=2){let t=0;S.value=!0;let d=setInterval(()=>{t+=10,V.value=t,t>=100&&(clearInterval(d),n.value=3,S.value=!1)},500)}}},P=[{id:1,label:"算例1",children:[{id:4,label:"潮位场-1",view:"hide"},{id:4,label:"流场-1",view:"hide"}]},{id:1,label:"算例2",children:[{id:4,label:"潮位场-2",view:"hide"},{id:4,label:"流场-2",view:"hide"}]},{id:1,label:"算例3",children:[{id:4,label:"潮位场-3",view:"hide"},{id:4,label:"流场-3",view:"hide"}]}],z=i=>{},J=(i,t)=>{console.log(i,t),i.data.view="show"},K=(i,t)=>{i.data.view="hide"},X=(i,t)=>{G(P,t.id)};return ae(async()=>{let i=await de($.value);Q.setMap(i)}),(i,t)=>{const d=c("el-step"),m=c("el-steps"),w=c("el-input"),Y=c("upload-filled"),D=c("el-icon"),Z=c("el-upload"),ee=c("el-progress"),I=c("el-tree"),U=c("el-scrollbar"),y=c("el-dropdown-item"),E=c("el-dropdown-menu"),te=c("el-dropdown"),oe=c("View"),le=c("Hide"),se=c("Close");return k(),L("div",pe,[o(ue,{ModelName:"近岸动力分析模型"}),e("div",he,[e("div",fe,[e("div",me,[e("div",be,[e("div",we,[o(m,{style:F,active:n.value,direction:"horizontal","finish-status":"success"},{default:l(()=>[o(d,{title:"新建算例",description:""}),o(d,{title:"计算条件配置",description:""}),o(d,{title:"模型计算",description:""})]),_:1},8,["active"])]),_(e("div",ye,[o(w,{modelValue:N.value,"onUpdate:modelValue":t[0]||(t[0]=a=>N.value=a),style:{width:"50%",height:"100%","margin-right":"10%"},placeholder:"请输入算例名称"},null,8,["modelValue"]),ke],512),[[v,n.value==0]]),_(e("div",ge,[e("div",Ce,[Se,De,xe,e("button",{class:g(["condition-button",{active:p.value===0}]),onClick:t[1]||(t[1]=a=>p.value=0)},h(p.value===0?"已选择":"未选择"),3)]),e("div",Ve,[Ne,Ie,Le,e("button",{class:g(["condition-button",{active:p.value===1}]),onClick:t[2]||(t[2]=a=>p.value=1)},h(p.value===1?"已选择":"未选择"),3)])],512),[[v,n.value==0]]),_(e("div",$e,[e("div",Ae,[u("您选择的是 "),e("span",Me,h(p.value===0?"默认计算条件源":"自定义条件源"),1),u(" ，请配置相应计算条件。 ")]),_(e("div",Be,[o(Z,{class:"upload-class",drag:"",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15",multiple:""},{default:l(()=>[o(D,{class:"el-icon--upload"},{default:l(()=>[o(Y)]),_:1}),Re]),_:1})],512),[[v,p.value===1]]),_(e("div",Te,[e("div",Pe,[ze,e("button",{class:g(["condition-button",{active:b.value===0}]),onClick:t[3]||(t[3]=a=>b.value=0)},h(b.value===0?"已选择":"未选择"),3)]),e("div",Ue,[Ee,He,e("div",je,[e("div",Fe,[Oe,u(" ： "),o(w,{modelValue:A.value,"onUpdate:modelValue":t[4]||(t[4]=a=>A.value=a),style:{width:"65%",height:"70%"},placeholder:"请输入流量"},null,8,["modelValue"])]),e("div",Qe,[We,u(" ： "),o(w,{modelValue:M.value,"onUpdate:modelValue":t[5]||(t[5]=a=>M.value=a),style:{width:"65%",height:"70%"},placeholder:"请输入潮差"},null,8,["modelValue"])])]),e("button",{class:g(["condition-button",{active:b.value===1}]),onClick:t[6]||(t[6]=a=>b.value=1)},h(b.value===1?"已选择":"未选择"),3)])],512),[[v,p.value===0]])],512),[[v,n.value==1]]),_(e("div",qe,[e("div",Ge,[Je,e("div",Ke,[e("div",Xe,"名称："+h(N.value),1),Ye,Ze,et]),tt]),e("div",ot,[o(ee,{style:{"margin-top":"1.5vh"},percentage:V.value,"stroke-width":15,striped:""},null,8,["percentage"])])],512),[[v,n.value==2||n.value==3]]),_(e("div",{class:"condition-next-button",onClick:T},"下一步",512),[[v,n.value<2]]),_(e("div",{class:g(["condition-next-button",{active:S.value}]),onClick:T},"计算",2),[[v,n.value>=2]]),_(e("div",{class:"condition-last-button",onClick:t[7]||(t[7]=a=>n.value=(n.value-1)%4)},"上一步",512),[[v,n.value>0&&n.value<3]]),_(e("div",{class:"condition-last-button",onClick:t[8]||(t[8]=a=>{n.value=0,V.value=0})},"重置",512),[[v,n.value==3]])]),e("div",lt,[e("div",st,[nt,e("div",it,[o(U,{height:"100%"},{default:l(()=>[o(I,{style:x,data:W,props:B,onNodeClick:z})]),_:1})])]),e("div",at,[dt,e("div",ct,[o(U,{height:"100%"},{default:l(()=>[o(I,{style:x,data:q,props:B,onNodeClick:z,"hide-on-click":""},{default:l(({node:a,data:f})=>[e("div",rt,[o(te,{onCommand:t[9]||(t[9]=()=>{}),placement:"bottom-end",ref_key:"dropDownRef",ref:O,trigger:"click",style:{width:"100%"}},re({default:l(()=>[e("div",_t,h(a.label),1)]),_:2},[f.type==="onlyDownload"?{name:"dropdown",fn:l(()=>[o(E,null,{default:l(()=>[o(y,{command:"download"},{default:l(()=>[u("● 下载")]),_:1}),o(y,{command:"delete"},{default:l(()=>[u("● 删除")]),_:1})]),_:1})]),key:"0"}:void 0,f.type==="visualAndDownLoad"?{name:"dropdown",fn:l(()=>[o(E,null,{default:l(()=>[o(y,{command:"visualize"},{default:l(()=>[u("● 可视化")]),_:1}),o(y,{command:"download"},{default:l(()=>[u("● 下载")]),_:1}),o(y,{command:"delete"},{default:l(()=>[u("● 删除")]),_:1})]),_:1})]),key:"1"}:void 0]),1536)])]),_:1})]),_:1})])])]),e("div",vt,[e("div",ut,[o(I,{style:x,data:P,"node-key":"id",accordion:"","expand-on-click-node":!1},{default:l(({node:a,data:f})=>[f.children?(k(),L("span",pt,[e("span",ht,h(a.label),1)])):(k(),L("span",ft,[e("span",mt,h(a.label),1),e("span",null,[f.view==="hide"?(k(),j(D,{key:0,style:{"margin-right":"1vw"},onClick:H=>J(a,f)},{default:l(()=>[o(oe)]),_:2},1032,["onClick"])):(k(),j(D,{key:1,style:{"margin-right":"1vw"},onClick:H=>K(a,f)},{default:l(()=>[o(le)]),_:2},1032,["onClick"])),o(D,{onClick:H=>X(a,f)},{default:l(()=>[o(se)]),_:2},1032,["onClick"])])]))]),_:1})]),bt])])]),e("div",wt,[e("div",{id:"map",ref_key:"mapRef",ref:$},null,512)])])])}}},Ct=ne(yt,[["__scopeId","data-v-5f4230fd"]]);export{Ct as default};
