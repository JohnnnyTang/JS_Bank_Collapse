import{_ as m,a_ as g,e as u,A as h,o as b,c as S,a as e,N as w,C as v,a9 as p,Q as y,p as V,d as k,au as i,v as x,R as I}from"./index-CS5ogquF.js";const n=l=>(V("data-v-63e88bf8"),l=l(),k(),l),B={class:"login-view"},M=n(()=>e("div",{class:"overlay"},null,-1)),N={class:"login-card"},U=y('<div class="left-side" data-v-63e88bf8><div class="login-pic" data-v-63e88bf8></div><div class="title-block" data-v-63e88bf8><span class="font" style="font-size:calc(1.4vw + 1.4vh);" data-v-63e88bf8>江苏省长江崩岸</span><br data-v-63e88bf8><span class="font" style="font-size:calc(1.3vw + 1.3vh);" data-v-63e88bf8>监测预警应用系统</span></div></div>',1),z={class:"right-side"},E=n(()=>e("div",{class:"login-title"},"用户登录",-1)),L=n(()=>e("button",{class:"form-btn"},"登录",-1)),q={__name:"LoginView",setup(l){const c=g(),a=u(""),o=u(""),d=()=>{c.loginStatus=!1,i.error("登录失败,请检查用户名或密码")},f=()=>{c.loginStatus=!0,i.success("登录成功")},_=()=>{if(a.value.trim()===""||o.value.trim()===""){i.info("用户名或密码不能为空");return}const r={email:a.value,password:o.value};x.post("/api/user/login",r).then(s=>{let t;(t=s.data)?(localStorage.setItem("token",t),f(),I.push("/dataVisual")):d()}).catch(s=>{console.log(s),d()})};return h(()=>{a.value="",o.value=""}),(r,s)=>(b(),S("div",B,[M,e("div",N,[U,e("div",z,[E,e("form",{class:"login-form",onSubmit:s[2]||(s[2]=w(t=>_(),["prevent"]))},[v(e("input",{type:"username","onUpdate:modelValue":s[0]||(s[0]=t=>a.value=t),class:"input",placeholder:"用户名",style:{"margin-top":"5.5vh"}},null,512),[[p,a.value]]),v(e("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=t=>o.value=t),class:"input",placeholder:"密码"},null,512),[[p,o.value]]),L],32)])])]))}},C=m(q,[["__scopeId","data-v-63e88bf8"]]);export{C as default};
