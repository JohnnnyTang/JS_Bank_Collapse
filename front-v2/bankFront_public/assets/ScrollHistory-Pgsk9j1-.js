import{_ as L,v as H,e as m,h as W,i as v,o as N,c as $,a as e,j as r,t as a,b as n,w as l,p as B,d as D,F as P,r as M,P as y,k as q}from"./index-CS5ogquF.js";const p=o=>(B("data-v-788afc93"),o=o(),D(),o),z={class:"knowledge-card-container"},E={class:"knowledge-card-wrapper"},A={class:"image-wrapper"},O={class:"image-div"},Y=["src"],G={class:"knowledge-title-container"},J={class:"knowledge-content-container"},K={class:"content-row-container"},Q={class:"content-item-container left"},X=p(()=>e("div",{class:"content-item-title"},"时间",-1)),Z={class:"content-item-text time"},ee={class:"content-item-container center"},te=p(()=>e("div",{class:"content-item-title"},"类别",-1)),ne=p(()=>e("div",{class:"content-item-container right"},[e("div",{class:"content-item-title"},"近岸冲刷"),e("div",{class:"content-item-text number"},"200")],-1)),le={class:"content-row-container"},ae={class:"content-item-container left"},se=p(()=>e("div",{class:"content-item-title"},"岸别",-1)),oe={class:"content-item-container center"},ie=p(()=>e("div",{class:"content-item-title"},"口门长度",-1)),ce=p(()=>e("div",{class:"content-item-container right"},[e("div",{class:"content-item-title"},"近岸坡陡"),e("div",{class:"content-item-text number"},"1.231")],-1)),de={class:"content-row-container"},re={class:"content-item-container left"},ue=p(()=>e("div",{class:"content-item-title"},"崩窝宽度",-1)),_e={class:"content-item-container center"},ve=p(()=>e("div",{class:"content-item-title"},"岸高",-1)),me={class:"content-item-container right"},he=p(()=>e("div",{class:"content-item-title"},"崩窝进口夹角",-1)),fe={class:"content-row-container"},pe={class:"content-item-container left"},ge=p(()=>e("div",{class:"content-item-title"},"宽深比",-1)),be={class:"content-item-container center"},we=p(()=>e("div",{class:"content-item-title"},"崩塌土方量",-1)),ye={class:"content-item-container right"},xe=p(()=>e("div",{class:"content-item-title"},"崩窝窝顶曲率",-1)),ke={class:"button-text"},Ie=p(()=>e("div",{class:"button-arrow"},null,-1)),Te={class:"knowledge-content-container second"},Ne={class:"content-row-container desc"},Ce={class:"content-item-container"},Se=["data-key"],$e={class:"content-row-container desc"},Ve={class:"content-item-container"},Le=["data-key"],Pe={class:"content-row-container desc"},He={class:"content-item-container"},We=["data-key"],Be={class:"content-row-container desc"},De={class:"content-item-container"},Me=["data-key"],Re={class:"content-row-container desc"},Ue={class:"content-item-container"},je=["src"],Fe={__name:"HistoryCard",props:{infoItem:{type:Object},index:{type:Number,default:0}},setup(o){const I=o,g=H.create({baseURL:"/api"}),i=m({basic:"",cause:"",plan:"",after:"",video:""}),t=m(I.infoItem);console.log(t);const s=h=>{h.target.className.includes("accordion-scroll")||h.target.className.includes("el-collapse")||h.target.className.includes("content-item-container")||h.target.className.includes("video-box")||(t.value.firstPage=!t.value.firstPage)},T=()=>{t.value.firstPage=!t.value.firstPage},C=m(["1"]),u=h=>{console.log(h)};return W(async()=>{const h=await g.get("/data/detailHistory/uuid/"+t.value.uuid);i.value=h.data}),(h,S)=>{const c=v("el-scrollbar"),f=v("el-collapse-item"),d=v("el-collapse");return N(),$("div",z,[e("div",E,[e("div",{class:r(["knowledge-card",[t.value.firstPage?"active":"inactive"]]),onClick:s},[e("div",A,[e("div",O,[e("img",{src:"/崩岸"+o.index%3+".png",alt:"崩岸照片"},null,8,Y)])]),e("div",G,a((t.value.river||"")+"-"+(t.value.district||"")+"-"+(t.value.place||"")+"崩岸"),1),e("div",J,[e("div",K,[e("div",Q,[X,e("div",Z,a(t.value.time||"无数据"),1)]),e("div",ee,[te,e("div",{class:r(["content-item-text",{"no-data":t.value.type===null}])},a(t.value.type||"无数据"),3)]),ne]),e("div",le,[e("div",ae,[se,e("div",{class:r(["content-item-text",{"no-data":t.value.side===null}])},a(t.value.side||"无数据"),3)]),e("div",oe,[ie,e("div",{class:r(["content-item-text number",{"no-data":t.value.length===null}])},a(t.value.length||"无数据"),3)]),ce]),e("div",de,[e("div",re,[ue,e("div",{class:r(["content-item-text number",{"no-data":t.value.width===null}])},a(t.value.width||"无数据"),3)]),e("div",_e,[ve,e("div",{class:r(["content-item-text number",{"no-data":t.value.height===null}])},a(t.value.height||"无数据"),3)]),e("div",me,[he,e("div",{class:r(["content-item-text number",{"no-data":t.value.angle===null}])},a(t.value.angle||"无数据"),3)])]),e("div",fe,[e("div",pe,[ge,e("div",{class:r(["content-item-text number",{"no-data":t.value.ratio===null}])},a(t.value.ratio||"无数据"),3)]),e("div",be,[we,e("div",{class:r(["content-item-text number",{"no-data":t.value.volume===null}])},a(t.value.volume||"无数据"),3)]),e("div",ye,[xe,e("div",{class:r(["content-item-text number",{"no-data":t.value.curvature1===null}])},a(t.value.curvature1||"无数据"),3)])])])],2),e("div",{class:r(["see-more-button",[t.value.firstPage?"active":"inactive"]]),onClick:T},[e("div",ke,a(t.value.firstPage?"更多信息":"基本信息"),1),Ie],2),e("div",{class:r(["knowledge-card",[t.value.firstPage?"inactive":"active"]]),onClick:s},[e("div",Te,[n(c,{class:"accordion-scroll"},{default:l(()=>[n(d,{modelValue:C.value,"onUpdate:modelValue":S[0]||(S[0]=_=>C.value=_),onChange:u},{default:l(()=>[n(f,{title:"基本情况",name:"1"},{default:l(()=>[e("div",Ne,[e("div",Ce,[n(c,null,{default:l(()=>[e("div",{class:r(["content-item-text number",{"no-data":i.value.basic===null}]),ref:"scrollTextDom","data-key":o.index},"   "+a(i.value.basic||"无数据"),11,Se)]),_:1})])])]),_:1}),n(f,{title:"原因分析",name:"2"},{default:l(()=>[e("div",$e,[e("div",Ve,[n(c,null,{default:l(()=>[e("div",{class:r(["content-item-text number",{"no-data":i.value.cause===null}]),ref:"scrollTextDom","data-key":o.index},"   "+a(i.value.cause||"无数据"),11,Le)]),_:1})])])]),_:1}),n(f,{title:"应急处置",name:"3"},{default:l(()=>[e("div",Pe,[e("div",He,[n(c,null,{default:l(()=>[e("div",{class:r(["content-item-text number",{"no-data":i.value.plan===null}]),ref:"scrollTextDom","data-key":o.index},"   "+a(i.value.plan||"无数据"),11,We)]),_:1})])])]),_:1}),n(f,{title:"后续工作",name:"4"},{default:l(()=>[e("div",Be,[e("div",De,[n(c,null,{default:l(()=>[e("div",{class:r(["content-item-text number",{"no-data":i.value.after===null}]),ref:"scrollTextDom","data-key":o.index},"   "+a(i.value.after||"无数据"),11,Me)]),_:1})])])]),_:1}),n(f,{title:"新闻视频",name:"5"},{default:l(()=>[e("div",Re,[e("div",Ue,[e("video",{controls:"",autoplay:"",src:i.value.video,class:"video-box",style:{height:"36vh",width:"100%"}},null,8,je)])])]),_:1})]),_:1},8,["modelValue"])]),_:1})])],2)])])}}},qe=L(Fe,[["__scopeId","data-v-788afc93"]]),ze={class:"return-top-container"},Ee={__name:"ReturnStart",emits:["returnTop"],setup(o,{emit:I}){const g=I;function i(){g("returnTop")}return(t,s)=>(N(),$("div",ze,[e("div",{class:"return-top-icon",onClick:i})]))}},Ae=L(Ee,[["__scopeId","data-v-f120128c"]]),R=o=>(B("data-v-5ab70dad"),o=o(),D(),o),Oe={class:"history-table-container"},Ye=R(()=>e("div",{class:"history-title-container"},[e("div",{class:"history-title-icon"}),e("div",{class:"history-title-text"},"历史崩岸列表")],-1)),Ge={style:{display:"flex","flex-flow":"row wrap","justify-content":"space-around","align-items":"center","justify-items":"space-between",height:"70vh"}},Je={class:"history-search-cntainer"},Ke={class:"history-search-input"},Qe=R(()=>e("div",{class:"history-search-icon"},null,-1)),Xe={class:"history-list-container"},Ze=["onClick"],et={__name:"HistoryTable",emits:["scrollToSeeMore"],setup(o,{emit:I}){const g=m(!1),i=m(!1),t=m([]),s=m([0,0,0,0]),T=m(""),C=m("详细信息"),u=m({type:"",length:0,width:0,height:0,ratio:0,volume:0,steep:0,angle:0,curvature1:0}),h=H.create({baseURL:"/api"}),S=I;function c(f,d){if(d.detail&&d.detail!="")S("scrollToSeeMore",f);else{for(let _ in u.value)d[_]&&d[_]!=""?Number.isFinite(d[_])?u.value[_]=d[_].toFixed(2):u.value[_]=d[_]:u.value[_]="无数据";i.value=!0}}return W(async()=>{const f=await h.get("/data/historyInfo/desc/sort");t.value=f.data;let d=window.innerWidth/100,_=window.innerHeight/100,V=27*d,b=6*_,x=(V-b)/4;s.value=[x,x,x,x,b]}),(f,d)=>{const _=v("el-skeleton-item"),V=v("el-input"),b=v("el-table-column"),x=v("el-table"),w=v("el-descriptions-item"),U=v("el-descriptions"),j=v("el-dialog"),F=v("el-skeleton");return N(),$("div",Oe,[Ye,n(F,{style:{width:"28vw"},loading:g.value,animated:""},{template:l(()=>[e("div",Ge,[(N(),$(P,null,M(30,k=>n(_,{variant:"text",style:{width:"30%",height:"4vh"},key:k})),64))])]),default:l(()=>[e("div",Je,[e("div",Ke,[n(V,{modelValue:T.value,"onUpdate:modelValue":d[0]||(d[0]=k=>T.value=k),style:{width:"100%"},placeholder:"请输入筛选内容",clearable:""},null,8,["modelValue"])]),Qe]),e("div",Xe,[n(x,{data:t.value,stripe:"",style:{width:"100%"},height:"65vh","row-class-name":"history-table-row"},{default:l(()=>[n(b,{prop:"time",label:"时间",width:s.value[0]},null,8,["width"]),n(b,{prop:"place",label:"位置",width:s.value[1]},null,8,["width"]),n(b,{prop:"river",label:"类别",width:s.value[2]},null,8,["width"]),n(b,{prop:"side",label:"岸别",width:s.value[3]},null,8,["width"]),n(b,{label:"更多",width:s.value[4]},{default:l(k=>[e("div",{class:r(["more-info-button",{"in-scroll":k.row.detail!=null}]),onClick:st=>c(k.$index,k.row)},null,10,Ze)]),_:1},8,["width"])]),_:1},8,["data"])]),n(j,{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=k=>i.value=k),width:"800"},{default:l(()=>[n(U,{title:C.value,border:""},{default:l(()=>[n(w,{label:"类别"},{default:l(()=>[y(a(u.value.type),1)]),_:1}),n(w,{label:"口门长度"},{default:l(()=>[y(a(u.value.length),1)]),_:1}),n(w,{label:"崩窝宽度"},{default:l(()=>[y(a(u.value.width),1)]),_:1}),n(w,{label:"岸高"},{default:l(()=>[y(a(u.value.height),1)]),_:1}),n(w,{label:"宽深比"},{default:l(()=>[y(a(u.value.ratio),1)]),_:1}),n(w,{label:"崩塌土方量"},{default:l(()=>[y(a(u.value.volume),1)]),_:1}),n(w,{label:"近岸冲刷"},{default:l(()=>[y("无数据")]),_:1}),n(w,{label:"坡陡"},{default:l(()=>[y(a(u.value.steep),1)]),_:1}),n(w,{label:"崩窝进口夹角"},{default:l(()=>[y(a(u.value.angle),1)]),_:1}),n(w,{label:"崩窝窝顶曲率"},{default:l(()=>[y(a(u.value.curvature1),1)]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1},8,["loading"])])}}},tt=L(et,[["__scopeId","data-v-5ab70dad"]]),nt=o=>(B("data-v-ec6a1158"),o=o(),D(),o),lt=nt(()=>e("div",{class:"placement-div"},null,-1)),at={__name:"ScrollHistory",setup(o){const I=m(!0),g=m(),i=m([]),t=m(!0);let s=0,T=0;const C=H.create({baseURL:"/api"}),u=c=>{s=window.innerWidth*(c*.35+.2),g.value.setScrollLeft(s)},h=c=>{c.target.className.includes("content-item-text")||c.target.className.includes("cell")||c.target.className.includes("more-info-button")||c.target.className.includes("el-collapse")||c.target.className.includes("desc")||c.target.className.includes("content-item-container")||c.target.className.includes("video-box")||(s+=c.deltaY,s<0?s=0:s>T&&(s=T),g.value.setScrollLeft(s))};function S(){s=0,g.value.setScrollLeft(s)}return W(async()=>{s=0;const c=await C.get("/data/historyInfo/desc");i.value=c.data,T=((i.value.length+1)*36.5-60)/100*window.innerWidth,i.value.forEach(f=>{f.firstPage=!0}),I.value=!1,setTimeout(()=>{t.value=!1},50)}),(c,f)=>{const d=v("el-skeleton-item"),_=v("el-scrollbar"),V=v("el-skeleton");return N(),$(P,null,[n(V,{style:{width:"100vw",height:"80vh",display:"flex","justify-content":"space-around",top:"5vh",position:"relative","z-index":"8"},loading:I.value,animated:"",count:3},{template:l(()=>[n(d,{variant:"rect",style:{width:"26%",height:"100%"}})]),default:l(()=>[n(_,{onMousewheel:h,ref_key:"scrollBar",ref:g,class:"knowledge"},{default:l(()=>[e("div",{class:r(["knowledge-scroll-container",{"not-active":t.value}])},[n(tt,{onScrollToSeeMore:u}),(N(!0),$(P,null,M(i.value,(b,x)=>(N(),q(qe,{key:x,infoItem:b,index:x},null,8,["infoItem","index"]))),128)),lt],2)]),_:1},512)]),_:1},8,["loading"]),n(Ae,{onReturnTop:S})],64)}}},it=L(at,[["__scopeId","data-v-ec6a1158"]]);export{it as default};
